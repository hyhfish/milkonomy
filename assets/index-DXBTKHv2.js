import{k as ie,u as ce,r as p,l as L,J as de,w as ue,I as pe,f,h as u,i as l,ao as fe,s as i,G as h,F as n,v as t,q as d,ad as ge,aL as he,O as U,P as B,p as N,aq as G,b6 as me,aO as _e,aP as ve,aD as ye,a5 as q,aC as xe,D as A,y as v,aY as be}from"./vue-DmXGC6sY.js";import{_ as R}from"./index.vue_vue_type_script_setup_true_lang-D7BdDwpT.js";import{T as we}from"./index-CynexkZ3.js";import{a as Ce}from"./index-DW_MHI2K.js";import{w as Ie}from"./index-27uvcALl.js";import{_ as De}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ke={class:"valhalla-container"},Ve={class:"valhalla-header"},Se={class:"valhalla-title"},Ee={class:"valhalla-subtitle"},Le={class:"music-player"},Fe={class:"music-controls"},Oe={class:"control-icon"},Te={class:"tombstones-grid"},Me={class:"valhalla-footer"},Ue={class:"footer-text"},Be={style:{"margin-top":"12px",color:"#ffd700"}},Ne={style:{display:"flex",gap:"8px","align-items":"center"}},Ge={key:0,style:{display:"flex","align-items":"center",gap:"8px"}},qe={style:{color:"#606266","font-size":"14px"}},Ae={key:1,style:{color:"#909399","font-size":"12px"}},Re={class:"dialog-footer"},je={style:{"max-height":"500px","overflow-y":"auto"}},ze={key:0},Ke={style:{"font-size":"14px",color:"#606266","font-weight":"600","margin-bottom":"8px","padding-left":"4px"}},$e={style:{display:"flex","flex-wrap":"wrap","margin-bottom":"20px"}},Je={key:1},Ye={style:{"font-size":"14px",color:"#606266","font-weight":"600","margin-bottom":"8px","padding-left":"4px"}},Pe={style:{display:"flex","flex-wrap":"wrap","margin-bottom":"20px"}},Ze={key:2,style:{"text-align":"center",padding:"40px",color:"#909399"}},He="https://script.google.com/macros/s/AKfycbzKlaR9m4tic60e4Jqk5Uxf2RLwZi6Rf9f1Z4KISGYLx_byEyDO9T-BJetfH4kb3N7UJA/exec",Qe="https://script.google.com/macros/s/AKfycbww7_AIXJ725sY0lHHVj76BOcYkDfTMZnQqdGXf1FbyrASUyk4zse2o5Dcp-pjprcjDZA/exec",Xe="https://opensheet.elk.sh/1VxVtRkvwiGEr5K7eKDwINk0Mncxn8dloffECjTQl3FQ/Sheet1",H="burial_incense_date",We=ie({__name:"index",setup(et){const{t:a}=ce(),m=Ie(),y={banned:{title:a("å°å¼Šè€…"),color:"#DC143C",borderColor:"#8B0000",bgGradient:"linear-gradient(135deg, #2c0a0a 0%, #1a0000 100%)",icon:"âš”ï¸",shadowColor:"rgba(220, 20, 60, 0.3)"},gambling:{title:a("èµŒå¾’"),color:"#FFD700",borderColor:"#FFA500",bgGradient:"linear-gradient(135deg, #2c2410 0%, #1a1600 100%)",icon:"ğŸ°",shadowColor:"rgba(255, 215, 0, 0.3)"},quit:{title:a("è¿œè¡Œè€…"),color:"#87CEEB",borderColor:"#4169E1",bgGradient:"linear-gradient(135deg, #0a1a2c 0%, #000c1a 100%)",icon:"ğŸŒ™",shadowColor:"rgba(135, 206, 235, 0.3)"},other:{title:a("é€è€…"),color:"#C0C0C0",borderColor:"#708090",bgGradient:"linear-gradient(135deg, #1a1a1a 0%, #0a0a0a 100%)",icon:"âœ¨",shadowColor:"rgba(192, 192, 192, 0.3)"}},F=p([]),O=p(!1),C=p(!1),j=p(),c=p({æ˜µç§°:"",æè¿°:"",æ—¶é—´:"",å›¾æ ‡:"",åŸå› :"other",ç§°å·:""}),b=p(!1),I=p(!1);let D;const w=p(!1),_=p(""),z=L(()=>m.gameData?Object.values(m.gameData.itemDetailMap).filter(e=>e.hrid&&e.name).map(e=>({hrid:e.hrid,name:e.name,sortIndex:e.sortIndex||0})).sort((e,s)=>e.sortIndex-s.sortIndex):[]),K=L(()=>{var e;return(e=m.gameData)!=null&&e.chatIconDetailMap?Object.values(m.gameData.chatIconDetailMap).filter(s=>s.hrid).map(s=>({hrid:s.hrid,name:s.name,sortIndex:s.sortIndex||0})).sort((s,T)=>s.sortIndex-T.sortIndex):[]}),k=L(()=>{if(!_.value)return z.value;const o=_.value.toLowerCase();return z.value.filter(e=>a(e.name).toLowerCase().includes(o)||e.hrid.toLowerCase().includes(o))}),V=L(()=>{if(!_.value)return K.value;const o=_.value.toLowerCase();return K.value.filter(e=>a(e.name).toLowerCase().includes(o)||e.hrid.toLowerCase().includes(o))});function Q(){w.value=!0,_.value=""}function $(o){c.value.å›¾æ ‡=o,w.value=!1}function X(o){if(!m.gameData)return"";const e=m.gameData.itemDetailMap[o];if(e)return e.name;if(m.gameData.chatIconDetailMap){const s=m.gameData.chatIconDetailMap[o];if(s)return s.name}return""}const W=de({æ˜µç§°:[{required:!0,message:a("ä¸èƒ½ä¸ºç©º"),trigger:["blur","change"]}],æè¿°:[{required:!0,message:a("ä¸èƒ½ä¸ºç©º"),trigger:["blur","change"]}],æ—¶é—´:[{required:!0,message:a("ä¸èƒ½ä¸ºç©º"),trigger:["blur","change"]}]});ue(I,o=>{o?D=be.service({lock:!0,target:".dialog"}):D==null||D.close()});function ee(){j.value.validate(o=>{if(o){I.value=!0;const e=Object.assign({},c.value,{åŸå› :"other",ç§°å·:""});fetch(He,{redirect:"follow",method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"text/plain;charset=utf-8"}}).then(()=>{v.success(a("æäº¤æˆåŠŸï¼Œè¯·ç­‰å¾…ä½œè€…å®¡æ ¸")),b.value=!1,c.value={æ˜µç§°:"",æè¿°:"",æ—¶é—´:"",å›¾æ ‡:"",åŸå› :"other",ç§°å·:""},J()}).catch(s=>{v.error(s.message||a("æäº¤å¤±è´¥"))}).finally(()=>{I.value=!1})}})}function J(){O.value=!0,Ce.get(Xe).then(({data:o})=>{F.value=o.filter(e=>e.å®¡æ ¸çŠ¶æ€==="2"||e.å®¡æ ¸çŠ¶æ€===2).map(e=>({æ˜µç§°:e.æ˜µç§°,åŸå› :"other",ç§°å·:"",æè¿°:e.æè¿°,title:e.title,desc:e.desc,æ—¶é—´:e.æ—¶é—´,å›¾æ ‡:e.å›¾æ ‡,ä¸Šé¦™:e.ä¸Šé¦™||0})).sort((e,s)=>(s.ä¸Šé¦™||0)-(e.ä¸Šé¦™||0))}).catch(o=>{v.error(o.message||a("åŠ è½½æ•°æ®å¤±è´¥")),F.value=[{æ˜µç§°:"XiaoR",åŸå› :"other",ç§°å·:"",æè¿°:"é‚ªæ¶é’è›™ï¼Œè´¤è€…é¥°å“æ“ç›˜è€…ï¼Œ500Bæœ€é€Ÿè¾¾æˆä¼ è¯´",title:"Frog King",desc:"Evil Frog, Sage Accessory Manipulator, Legend: Fastest to reach 500B",æ—¶é—´:"2025-10-27",å›¾æ ‡:"/chat_icons/frog",ä¸Šé¦™:0}]}).finally(()=>{O.value=!1})}J();const g=p(null),x=p(!1);pe(()=>{g.value&&(g.value.pause(),g.value.currentTime=0)});function te(){g.value&&(x.value?(g.value.pause(),x.value=!1):g.value.play().then(()=>{x.value=!0}).catch(o=>{console.error("æ’­æ”¾å¤±è´¥:",o),v.error(a("éŸ³é¢‘æ’­æ”¾å¤±è´¥"))}))}function ae(){b.value=!0,c.value={æ˜µç§°:"",æè¿°:"",æ—¶é—´:"",å›¾æ ‡:"",åŸå› :"other",ç§°å·:""}}function Y(){const o=new Date;return`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}-${String(o.getDate()).padStart(2,"0")}`}function P(){return localStorage.getItem(H)===Y()}function oe(){localStorage.setItem(H,Y())}function le(){return P()}function ne(o){try{g.value&&!x.value&&g.value.play().then(()=>{x.value=!0}).catch(e=>{console.warn("å°è¯•æ’­æ”¾éŸ³é¢‘å¤±è´¥:",e)})}catch(e){console.warn("è§¦å‘æ’­æ”¾æ—¶å‡ºé”™:",e)}if(P()){v.warning(a("æ‚¨ä»Šå¤©å·²ç»ä¸Šè¿‡é¦™äº†"));return}C.value||(C.value=!0,fetch(Qe,{redirect:"follow",method:"POST",body:JSON.stringify({æ˜µç§°:o.æ˜µç§°}),headers:{"Content-Type":"text/plain;charset=utf-8"}}).then(e=>e.json()).then(e=>{e.success?(oe(),o.ä¸Šé¦™=(Number(o.ä¸Šé¦™)||0)+1,v.success(a("ä¸Šé¦™æˆåŠŸ"))):v.error(e.message||a("ä¸Šé¦™å¤±è´¥"))}).catch(e=>{v.error(e.message||a("ä¸Šé¦™å¤±è´¥"))}).finally(()=>{C.value=!1}))}return(o,e)=>{const s=ge,T=me,S=ye,E=ve,se=_e,Z=xe,re=he;return u(),f("div",ke,[l("div",Ve,[l("h1",Se,[e[8]||(e[8]=l("span",{class:"title-icon"},"âš°ï¸",-1)),h(" "+n(t(a)("åŸ‹éª¨åœ°"))+" ",1),e[9]||(e[9]=l("span",{class:"title-icon"},"âš°ï¸",-1))]),l("p",Ee,n(t(a)("æ³¥åœŸé•Œåˆ»ç€é‚£äº›æ¸©çƒ­çš„å§“åï¼Œä»–ä»¬çš„æ•…äº‹åœ¨ç¯ç«æ—ä½è¯­ï¼ŒåŒ–ä½œäº†ç¼€å…¥é•¿å¤œçš„ç¹æ˜Ÿã€‚")),1),l("div",Le,[e[10]||(e[10]=l("div",{class:"music-info"},[l("span",{class:"music-icon"},"ğŸµ"),l("span",{class:"music-name"}," BGM ")],-1)),l("div",Fe,[i(s,{type:t(x)?"success":"info",size:"small",circle:"",onClick:te},{default:d(()=>[l("span",Oe,n(t(x)?"â¸":"â–¶"),1)]),_:1},8,["type"]),l("audio",{ref_key:"audioRef",ref:g,loop:"",preload:"auto",src:"/media/lanlianha.mp3"},null,512)])]),i(s,{type:"primary",style:{"margin-top":"20px"},onClick:ae},{default:d(()=>[h(n(t(a)("æåå…¥æ®¿")),1)]),_:1})]),fe((u(),f("div",Te,[(u(!0),f(U,null,B(t(F),(r,M)=>(u(),N(we,{key:M,tombstone:r,"tombstone-config":y,"show-title":!1,"incense-loading":t(C),"has-incensed":le(),onOfferIncense:ne},null,8,["tombstone","incense-loading","has-incensed"]))),128))])),[[re,t(O)]]),l("div",Me,[i(T,{type:"info",closable:!1,"show-icon":""},{title:d(()=>[l("div",Ue,[l("p",null,n(t(a)("è¿™é‡Œçºªå¿µç€å› å„ç§åŸå› ç¦»å¼€æ¸¸æˆçš„ç©å®¶ï¼š")),1),l("p",null,[l("span",{style:G({color:y.banned.color})},n(y.banned.icon)+" "+n(t(a)("å°å¼Šè€…")),5),h(" - "+n(t(a)("å› è¿åæ¸¸æˆè§„åˆ™è¢«å°ç¦"))+" | ",1),l("span",{style:G({color:y.gambling.color})},n(y.gambling.icon)+" "+n(t(a)("èµŒå¾’")),5),h(" - "+n(t(a)("å› èµŒåšé£å‡è€Œé€€å‘"))+" | ",1),l("span",{style:G({color:y.quit.color})},n(y.quit.icon)+" "+n(t(a)("è¿œè¡Œè€…")),5),h(" - "+n(t(a)("å› ç”Ÿæ´»åŸå› ä¸»åŠ¨é€€å‘")),1)]),l("p",Be," ğŸ•¯ï¸ "+n(t(a)("ä¸Šé¦™è§„åˆ™ï¼šæ¯å¤©å¯ä»¥ä¸Šé¦™ä¸€æ¬¡ï¼Œå¯é€‰æ‹©ä¸ºä»»æ„ä¸€ä½ç©å®¶ä¸Šé¦™")),1)])]),_:1})]),i(Z,{modelValue:t(b),"onUpdate:modelValue":e[5]||(e[5]=r=>q(b)?b.value=r:null),title:t(a)("æåå…¥æ®¿"),width:"600px",class:"dialog"},{footer:d(()=>[l("span",Re,[i(s,{onClick:e[4]||(e[4]=r=>b.value=!1)},{default:d(()=>[h(n(t(a)("å–æ¶ˆ")),1)]),_:1}),i(s,{type:"primary",loading:t(I),onClick:ee},{default:d(()=>[h(n(t(a)("æäº¤")),1)]),_:1},8,["loading"])])]),default:d(()=>[i(se,{ref_key:"refForm",ref:j,model:t(c),rules:t(W),"label-width":"100px"},{default:d(()=>[i(E,{label:t(a)("æ˜µç§°"),prop:"æ˜µç§°"},{default:d(()=>[i(S,{modelValue:t(c).æ˜µç§°,"onUpdate:modelValue":e[0]||(e[0]=r=>t(c).æ˜µç§°=r),placeholder:t(a)("è¯·è¾“å…¥æ¸¸æˆæ˜µç§°")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),i(E,{label:t(a)("æè¿°"),prop:"æè¿°"},{default:d(()=>[i(S,{modelValue:t(c).æè¿°,"onUpdate:modelValue":e[1]||(e[1]=r=>t(c).æè¿°=r),type:"textarea",rows:3,placeholder:t(a)("è¯·è¾“å…¥å¢“å¿—é“­æˆ–å…¥æ®¿ç†ç”±")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),i(E,{label:t(a)("æ—¶é—´"),prop:"æ—¶é—´"},{default:d(()=>[i(S,{modelValue:t(c).æ—¶é—´,"onUpdate:modelValue":e[2]||(e[2]=r=>t(c).æ—¶é—´=r),placeholder:t(a)("å¦‚ï¼š2025-10-27")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),i(E,{label:t(a)("å›¾æ ‡"),prop:"å›¾æ ‡"},{default:d(()=>[l("div",Ne,[i(s,{onClick:Q,style:{"flex-shrink":"0"}},{default:d(()=>[h(n(t(a)("é€‰æ‹©å›¾æ ‡")),1)]),_:1}),t(c).å›¾æ ‡?(u(),f("div",Ge,[i(R,{hrid:t(c).å›¾æ ‡,width:30,height:30},null,8,["hrid"]),l("span",qe,n(t(a)(X(t(c).å›¾æ ‡))),1),i(s,{size:"small",onClick:e[3]||(e[3]=r=>t(c).å›¾æ ‡="")},{default:d(()=>[h(n(t(a)("æ¸…é™¤")),1)]),_:1})])):(u(),f("span",Ae,n(t(a)("æœªé€‰æ‹©")),1))])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"]),i(Z,{modelValue:t(w),"onUpdate:modelValue":e[7]||(e[7]=r=>q(w)?w.value=r:null),title:t(a)("é€‰æ‹©å›¾æ ‡"),width:"800px"},{default:d(()=>[i(S,{modelValue:t(_),"onUpdate:modelValue":e[6]||(e[6]=r=>q(_)?_.value=r:null),placeholder:t(a)("æœç´¢"),style:{"margin-bottom":"16px"}},null,8,["modelValue","placeholder"]),l("div",je,[t(V).length>0?(u(),f("div",ze,[l("div",Ke," ğŸ’¬ "+n(t(a)("èŠå¤©å›¾æ ‡"))+" ("+n(t(V).length)+") ",1),l("div",$e,[(u(!0),f(U,null,B(t(V),r=>(u(),N(s,{key:r.hrid,style:{width:"50px",height:"50px",margin:"2px",padding:"4px"},type:t(c).å›¾æ ‡===r.hrid?"primary":"default",onClick:M=>$(r.hrid)},{default:d(()=>[i(R,{hrid:r.hrid,width:36,height:36},null,8,["hrid"])]),_:2},1032,["type","onClick"]))),128))])])):A("",!0),t(k).length>0?(u(),f("div",Je,[l("div",Ye," ğŸ’ "+n(t(a)("ç‰©å“å›¾æ ‡"))+" ("+n(t(k).length)+") ",1),l("div",Pe,[(u(!0),f(U,null,B(t(k),r=>(u(),N(s,{key:r.hrid,style:{width:"50px",height:"50px",margin:"2px",padding:"4px"},type:t(c).å›¾æ ‡===r.hrid?"primary":"default",onClick:M=>$(r.hrid)},{default:d(()=>[i(R,{hrid:r.hrid,width:36,height:36},null,8,["hrid"])]),_:2},1032,["type","onClick"]))),128))])])):A("",!0),t(k).length===0&&t(V).length===0?(u(),f("div",Ze,n(t(a)("æœªæ‰¾åˆ°åŒ¹é…çš„å›¾æ ‡")),1)):A("",!0)])]),_:1},8,["modelValue","title"])])}}}),rt=De(We,[["__scopeId","data-v-f0544b87"]]);export{rt as default};

import{k as Se,u as Ue,r as x,l as oe,H as Re,w as ne,f as y,h,ao as Te,i as g,s as l,ar as We,v as e,aq as me,q as i,av as $e,au as je,D as T,O as N,aw as Q,ax as ze,G as U,F as b,p as L,ay as De,ab as Ne,P as re,aQ as Be,a5 as te,ad as Oe,az as qe,aA as Ae,aB as fe,aC as Ge,aD as Je,R as ke,aE as Qe,aF as Xe,ac as Ye,aH as Ke,aI as Ze,at as et}from"./vue-CMGQ9A1z.js";import{_ as W,g as tt}from"./index.vue_vue_type_script_setup_true_lang-BTWGwO90.js";import{g as lt,a as le,M as he,b as F,E as at,p as ot,m as X,c as nt,n as k,G as rt,A as it,d as st,u as ct}from"./GameInfo-BGd6k-DU.js";import{W as dt,g as ut}from"./workflow-fnf6-20P.js";import{u as pt}from"./enhancer-B9sRPYoi.js";import{C as Ve,v as Ce,P as ht}from"./index-CYQyJvlF.js";import{_ as mt}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ft={class:"app-container"},gt={class:"game-info"},vt={class:"flex flex-col gap-2"},bt={class:"whitespace-nowrap flex-shrink-0"},_t={class:"flex flex-wrap items-center gap-x-4 gap-y-2"},xt={class:"text-xs color-gray-500 mb-1"},yt={style:{position:"relative",width:"100%","padding-bottom":"100%"}},wt={key:0,class:"absolute bottom-0 right-0"},Pt={class:"mb-2 color-gray-500"},kt={"color-gray-600":""},Vt={class:"flex flex-wrap"},Ct={class:"absolute bottom-0 right-0"},Lt={style:{display:"flex","flex-wrap":"wrap","margin-top":"10px"}},Ht={key:0,class:"absolute bottom-0 right-0"},Et={class:"flex justify-between items-center"},It={class:"font-size-14px"},Ft={class:"flex justify-between items-center"},Mt={class:"font-size-14px"},St={class:"grid w-full items-center gap-x-1",style:{gridTemplateColumns:"44px minmax(0, 1fr) 44px"}},Ut={class:"font-size-14px whitespace-nowrap"},Rt={class:"grid w-full items-center gap-x-1 mt-2",style:{gridTemplateColumns:"44px minmax(0, 1fr) 44px"}},Tt={class:"font-size-14px whitespace-nowrap"},Wt=Se({__name:"index",setup($t){const c=pt(),{t:r}=Ue(),ae=x(!1),Y=x(""),Le=oe(()=>lt().filter(n=>r(n.name).toLocaleLowerCase().includes(Y.value.toLowerCase())).sort((n,t)=>n.sortIndex-t.sortIndex)),u=x({protection:{},originPrice:0}),M=x([]),$=x([]),K=x([]),Z=x([]),B={hourlyRate:5e6,taxRate:2,enhanceLevel:10},ie=oe({get:()=>!c.config.ignoreTax,set:n=>{c.config.ignoreTax=!n}});Re(()=>{c.hrid&&ce(le(c.hrid))}),ne(()=>c.config,()=>{c.saveConfig()},{deep:!0});const H=x(!1),O=x(!1),q=x(!1);ne([()=>M.value,()=>H.value,()=>O.value,()=>q.value],Ie,{deep:!0}),ne([()=>H.value,()=>O.value,()=>q.value],()=>{ge()},{deep:!1});function se(n){return le(n).categoryHrid==="/item_categories/drink"}function A(n,t){return q.value?F(n,t,Ce().buyStatus,ht.BID_HIGH).bid:F(n,t).ask}function He(n){const t=[[r("锻造"),"cheesesmithing"],[r("制造"),"crafting"],[r("裁缝"),"tailoring"]];let s;for(const[a,d]of t){const f=new he({hrid:n,project:a,action:d});if(f.available){s=f;break}}return s!=null&&s.available?s.ingredientList.filter(a=>!se(a.hrid)).map(a=>({hrid:a.hrid,count:a.count,level:a.level,originPrice:A(a.hrid,a.level)})):[]}function Ee(n){var E;const t=le(n),s=[[r("锻造"),"cheesesmithing"],[r("制造"),"crafting"],[r("裁缝"),"tailoring"]],a=tt(t)==="charm"?7:2;let d;for(const[v,C]of s)for(const[I,z]of s){const _=new he({hrid:n,project:I,action:z});if(!_.available)continue;const D=[_],G=[[...D]];let J=_,o=1;for(;(E=J.actionItem)!=null&&E.upgradeItemHrid&&o<a;){const p=new he({hrid:J.actionItem.upgradeItemHrid,project:v,action:C});if(!p.available)break;D.unshift(p),o++,G.push([...D]),J=p}for(const p of G){const m=new dt(p.map(R=>ut(R)),r("{0}步{1}",[p.length,I]));m.run();const S=m.productListWithPricePreprocess.list.filter(R=>R.hrid===n).reduce((R,ee)=>R+(ee.countPH||0),0);if(!S||S<=1e-12)continue;const Pe=m.ingredientListWithPrice.filter(R=>!se(R.hrid)).reduce((R,ee)=>{const Me=q.value?A(ee.hrid,ee.level):ee.price;return R+(ee.countPH||0)*Me},0)/S;(!d||Pe<d.costPerItem)&&(d={workflow:m,outputPH:S,costPerItem:Pe})}}if(!d)return;const{workflow:f,outputPH:w}=d,V=f.ingredientListWithPrice.filter(v=>!se(v.hrid)).map(v=>({hrid:v.hrid,count:(v.countPH||0)/w,level:v.level,originPrice:A(v.hrid,v.level)})),P=[];return f.calculatorList.forEach((v,C)=>{if(Array.isArray(v))return;const I=f.workMultiplier[C],z=v.ingredientListWithPrice.filter(_=>!se(_.hrid)).map(_=>({hrid:_.hrid,count:(_.countPH||0)*I/w,level:_.level,originPrice:A(_.hrid,_.level)}));P.push({title:`${r("{0}步{1}",[C+1,v.project])}:`,ingredients:z})}),{totalIngredients:V,stepList:P}}function ge(){const n=u.value.hrid;if(!n){M.value=[],$.value=[];return}if(!H.value){$.value=[];return}if(!O.value){M.value=He(n),$.value=[];return}const t=Ee(n);if(!t){M.value=[],$.value=[];return}M.value=t.totalIngredients,$.value=t.stepList}function ce(n){if(!n)return;c.config.hrid=n.hrid,u.value={hrid:n.hrid,originPrice:0},ae.value=!1;const t=[[r("锻造"),"cheesesmithing"],[r("制造"),"crafting"],[r("裁缝"),"tailoring"]];let s;for(const[a,d]of t)if(s=new he({hrid:n.hrid,project:a,action:d}),s.available)break;M.value=s.available?s.ingredientList.filter(a=>le(a.hrid).categoryHrid!=="/item_categories/drink").map(a=>({hrid:a.hrid,count:a.count,level:a.level,originPrice:A(a.hrid,a.level)})):[],K.value=n.enhancementCosts.map(a=>({hrid:a.itemHrid,count:a.count,originPrice:F(a.itemHrid).ask})),Z.value=n.protectionItemHrids?n.protectionItemHrids.map(a=>({hrid:a,count:1,originPrice:F(a).ask})):[],Z.value.length||Z.value.push({hrid:n.hrid,count:1,originPrice:F(n.hrid).ask}),Z.value.push({hrid:"/items/mirror_of_protection",count:1,originPrice:F("/items/mirror_of_protection").ask}),u.value.protection=Z.value.reduce((a,d)=>a&&a.originPrice<d.originPrice?a:d),ge()}const j=oe(()=>{var d,f;if(!u.value.hrid)return[];const n=[],t=!!c.config.ignoreTax,s=t?1:.98,a=c.enhanceLevel??B.enhanceLevel;for(let w=1;w<=a;++w){const V=new at({hrid:u.value.hrid,enhanceLevel:a,protectLevel:w}),{actions:P,protects:E}=V.enhancelate(),v=K.value.reduce((J,o)=>{const p=typeof o.price=="number"?o.price:o.originPrice;return J+p*o.count*P},0)+(typeof((d=u.value.protection)==null?void 0:d.price)=="number"?u.value.protection.price:u.value.protection.originPrice)*E,C=v+(typeof((f=u.value)==null?void 0:f.price)=="number"?u.value.price:u.value.originPrice);let I=C+(c.hourlyRate??B.hourlyRate)*(P/V.actionsPH);t||(I*=1+(c.taxRate??B.taxRate)/100);const z=typeof u.value.productPrice=="number"?u.value.productPrice:F(u.value.hrid,a).bid,_=(z*s-C)/P*V.actionsPH,D=z*s-C,G=P/V.actionsPH*3600;n.push({actions:P,actionsFormatted:k(P,2),protects:E,protectsFormatted:k(E,2),protectLevel:w,time:nt(G*1e9),expPHFormat:X(V.exp*V.actionsPH),matCost:X(v),totalCostFormatted:X(I),totalCost:I,totalCostNoHourly:C,matCostPH:`${X(v/G*3600)} / h`,hourlyCost:_,hourlyCostFormatted:X(_),profitPPFormatted:X(D),profitRateFormatted:ot(D/C)})}return n}),de=oe(()=>{if(!j.value.length)return{};const n=Object.keys(j.value[0]),t={};for(const s of n){const a=Math.max(...j.value.map(d=>{var f;return((f=d[s])==null?void 0:f.toString().length)||0}));t[s]=Math.max(a*10+20,60)}for(const s of K.value){const a=Math.max(...j.value.map(d=>k(s.count*d.actions).toString().length||0));t[s.hrid]=Math.max(a*10+20,60)}return t}),ve=x(null),be=oe(()=>{var s;const t=(((s=ve.value)==null?void 0:s.columns)??[]).reduce((a,d)=>a+(d.minWidth||0),0)??0;return Math.max(t+100,1100)});ne([()=>st(),()=>ct().config],()=>c.hrid&&ce(le(c.hrid)),{immediate:!1});function Ie(){if(!u.value.hrid)return;if(u.value=JSON.parse(JSON.stringify(u.value)),!H.value){u.value.originPrice=F(u.value.hrid).ask;return}const n=M.value;u.value.originPrice=n.length?n.reduce((t,s)=>{const a=typeof s.price=="number"?s.price:s.originPrice;return t+a*s.count},0):F(u.value.hrid).ask,M.value.forEach(t=>{t.originPrice=A(t.hrid,t.level)}),$.value.forEach(t=>{t.ingredients.forEach(s=>{s.originPrice=A(s.hrid,s.level)})}),K.value.forEach(t=>{t.originPrice=F(t.hrid).ask})}function Fe({row:n}){if(c.config.tab==="1"){if(n.hourlyCost===Math.max(...j.value.map(t=>t.hourlyCost)))return{background:"rgb(34, 68, 34)"}}else if(n.totalCost===Math.min(...j.value.map(t=>t.totalCost)))return{background:"rgb(34, 68, 34)"};if(n.totalCostNoHourly===Math.min(...j.value.map(t=>t.totalCostNoHourly)))return{background:"rgb(34, 51, 85)"}}const ue=x(!1),_e=x(0),xe=x(0),pe=x("");function ye(n,t){const d=document.body.offsetWidth-100,f=t.clientX+10;xe.value=f>d?d:f,_e.value=t.clientY,ue.value=!0,pe.value=n}function we(){ue.value=!1}return ne(ue,n=>{n?document.body.addEventListener("click",we):document.body.removeEventListener("click",we)}),(n,t)=>{const s=Be,a=ze,d=De,f=Ne,w=je,V=$e,P=Oe,E=qe,v=Je,C=Ge,I=Xe,z=Ye,_=Qe,D=Ze,G=Ke,J=et;return h(),y("div",ft,[Te(g("ul",{class:"contextmenu",style:me({left:`${e(xe)}px`,top:`${e(_e)}px`})},[e(c).hasFavorite(e(pe))?(h(),y("li",{key:1,onClick:t[1]||(t[1]=o=>e(c).removeFavorite(e(pe)))}," 取消收藏 ")):(h(),y("li",{key:0,onClick:t[0]||(t[0]=o=>e(c).addFavorite(e(pe)))}," 收藏 "))],4),[[We,e(ue)]]),g("div",gt,[l(rt),g("div",null,[l(it,{actions:["enhancing"],equipments:["hands","neck","earrings","ring","pouch"]})])]),l(J,{gutter:20,class:"row max-w-1100px mx-auto!"},{default:i(()=>[l(V,{xs:24,sm:24,md:10,lg:8,xl:8,class:"max-w-400px mx-auto"},{default:i(()=>[l(w,null,{header:i(()=>[g("div",vt,[g("span",bt,b(e(r)("装备成本")),1),g("div",_t,[l(s,{modelValue:e(H),"onUpdate:modelValue":t[2]||(t[2]=o=>te(H)?H.value=o:null)},{default:i(()=>[U(b(e(r)("制作装备")),1)]),_:1},8,["modelValue"]),l(s,{modelValue:e(O),"onUpdate:modelValue":t[3]||(t[3]=o=>te(O)?O.value=o:null),disabled:!e(H)},{default:i(()=>[U(b(e(r)("最佳制作方案")),1)]),_:1},8,["modelValue","disabled"]),l(s,{modelValue:e(q),"onUpdate:modelValue":t[4]||(t[4]=o=>te(q)?q.value=o:null),disabled:!e(H)},{default:i(()=>[U(b(e(r)("材料右价+")),1)]),_:1},8,["modelValue","disabled"])])])]),default:i(()=>[e(H)&&e(M).length?(h(),y(N,{key:0},[l(e(Q),{data:e(M),style:{"--el-table-border-color":"none"},"cell-style":{padding:"0"}},{default:i(()=>[l(a,{label:e(r)("物品")},{default:i(({row:o})=>[l(W,{hrid:o.hrid},null,8,["hrid"])]),_:1},8,["label"]),l(a,{prop:"count",label:e(r)("数量")},{default:i(({row:o})=>[U(b(k(o.count,2)),1)]),_:1},8,["label"]),l(a,{label:e(r)("价格"),align:"center","min-width":"120"},{default:i(({row:o})=>[o.hrid!==e(Ve)?(h(),L(d,{key:0,class:"max-w-100%",modelValue:o.price,"onUpdate:modelValue":p=>o.price=p,placeholder:k(o.originPrice),controls:!1},null,8,["modelValue","onUpdate:modelValue","placeholder"])):T("",!0)]),_:1},8,["label"])]),_:1},8,["data"]),l(f,{class:"mt-2 mb-2"})],64)):T("",!0),e(H)&&e(O)&&e($).length?(h(),y(N,{key:1},[(h(!0),y(N,null,re(e($),o=>(h(),y("div",{key:o.title,class:"mb-3"},[g("div",xt,b(o.title),1),l(e(Q),{data:o.ingredients,style:{"--el-table-border-color":"none"},"cell-style":{padding:"0"},size:"small"},{default:i(()=>[l(a,{label:e(r)("物品")},{default:i(({row:p})=>[l(W,{hrid:p.hrid},null,8,["hrid"])]),_:1},8,["label"]),l(a,{prop:"count",label:e(r)("数量")},{default:i(({row:p})=>[U(b(k(p.count,4)),1)]),_:1},8,["label"])]),_:2},1032,["data"])]))),128)),l(f,{class:"mt-2 mb-2"})],64)):T("",!0),l(e(Q),{data:[e(u)],"show-header":!1,style:{"--el-table-border-color":"none"}},{default:i(()=>[l(a,null,{default:i(({row:o})=>[l(W,{hrid:o.hrid},null,8,["hrid"])]),_:1}),l(a,{prop:"count"}),l(a,{"min-width":"120",align:"center"},{default:i(({row:o})=>[l(d,{class:"max-w-100%",modelValue:o.price,"onUpdate:modelValue":p=>o.price=p,placeholder:k(o.originPrice),controls:!1},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1}),l(V,{xs:16,sm:10,md:10,lg:6,xl:6,class:"max-w-300px mx-auto"},{default:i(()=>[l(w,null,{default:i(()=>{var o,p;return[g("div",yt,[l(W,{hrid:(o=e(u))==null?void 0:o.hrid,style:{position:"absolute",bottom:"10%",left:"10%",width:"80%",height:"80%"}},null,8,["hrid"]),l(P,{style:{position:"absolute",width:"100%",height:"100%",opacity:"0.5"},onClick:t[5]||(t[5]=m=>(ae.value=!0,Y.value=""))},{default:i(()=>{var m;return[U(b((m=e(u))!=null&&m.hrid?"":e(r)("选择装备")),1)]}),_:1}),(p=e(u))!=null&&p.hrid?(h(),y("div",wt,[e(c).hasFavorite(e(u).hrid)?(h(),L(E,{key:1,underline:!1,icon:e(fe),type:"primary",onClick:t[7]||(t[7]=m=>e(c).removeFavorite(e(u).hrid)),style:{"font-size":"42px"}},null,8,["icon"])):(h(),L(E,{key:0,underline:!1,type:"info",icon:e(Ae),onClick:t[6]||(t[6]=m=>e(c).addFavorite(e(u).hrid)),style:{"font-size":"42px"}},null,8,["icon"]))])):T("",!0),l(C,{modelValue:e(ae),"onUpdate:modelValue":t[9]||(t[9]=m=>te(ae)?ae.value=m:null),"show-close":!1},{default:i(()=>[l(v,{modelValue:e(Y),"onUpdate:modelValue":t[8]||(t[8]=m=>te(Y)?Y.value=m:null),placeholder:e(r)("搜索")},null,8,["modelValue","placeholder"]),e(c).favorite.length&&!e(Y)?(h(),y(N,{key:0},[l(f,{class:"mt-2 mb-2"}),g("div",Pt,[U(b(e(r)("收藏"))+" ",1),g("span",kt," ("+b(e(r)("右键/长按取消收藏"))+")",1)]),g("div",Vt,[(h(!0),y(N,null,re(e(c).favorite,m=>(h(),L(P,{key:m,class:"relative",style:{width:"50px",height:"50px",margin:"2px"},onClick:S=>ce(e(le)(m)),onContextmenu:ke(S=>ye(m,S),["prevent"])},{default:i(()=>[l(W,{hrid:m},null,8,["hrid"]),g("div",Ct,[l(E,{underline:!1,icon:e(fe),type:"primary",style:{"font-size":"16px"}},null,8,["icon"])])]),_:2},1032,["onClick","onContextmenu"]))),128))]),l(f,{class:"mt-2 mb-1"})],64)):T("",!0),g("div",Lt,[(h(!0),y(N,null,re(e(Le),m=>(h(),L(P,{key:m.hrid,style:{width:"50px",height:"50px",margin:"2px"},class:"relative",onClick:S=>ce(m),onContextmenu:ke(S=>ye(m.hrid,S),["prevent"])},{default:i(()=>[l(W,{hrid:m.hrid},null,8,["hrid"]),e(c).hasFavorite(m.hrid)?(h(),y("div",Ht,[l(E,{underline:!1,icon:e(fe),type:"primary",style:{"font-size":"16px"}},null,8,["icon"])])):T("",!0)]),_:2},1032,["onClick","onContextmenu"]))),128))])]),_:1},8,["modelValue"])])]}),_:1}),l(w,{class:"mt-2"},{default:i(()=>[l(_,{modelValue:e(c).config.tab,"onUpdate:modelValue":t[14]||(t[14]=o=>e(c).config.tab=o),type:"border-card",stretch:""},{default:i(()=>[l(I,{label:e(r)("工时费")},{default:i(()=>[g("div",Et,[g("div",It,b(e(r)("工时费/h")),1),l(d,{class:"w-120px",modelValue:e(c).config.hourlyRate,"onUpdate:modelValue":t[10]||(t[10]=o=>e(c).config.hourlyRate=o),step:1,min:0,max:5e9,placeholder:k(B.hourlyRate),controls:!1},null,8,["modelValue","placeholder"])]),g("div",Ft,[g("div",Mt,b(e(r)("溢价率%")),1),l(d,{class:"w-120px",modelValue:e(c).config.taxRate,"onUpdate:modelValue":t[11]||(t[11]=o=>e(c).config.taxRate=o),step:2,"step-strictly":!0,min:0,max:2,"controls-position":"right",placeholder:B.taxRate.toString()},null,8,["modelValue","placeholder"])])]),_:1},8,["label"]),l(I,{label:e(r)("成品售价")},{default:i(()=>[g("div",St,[g("div",Ut,b(e(r)("价格")),1),l(d,{class:"w-full",style:{width:"100%"},modelValue:e(u).productPrice,"onUpdate:modelValue":t[12]||(t[12]=o=>e(u).productPrice=o),step:1,min:0,placeholder:k(e(F)(e(u).hrid,e(c).enhanceLevel??B.enhanceLevel).bid),controls:!1},null,8,["modelValue","placeholder"]),t[16]||(t[16]=g("div",null,null,-1))]),g("div",Rt,[g("div",Tt,b(e(r)("税率%")),1),l(d,{class:"w-full",style:{width:"100%"},"model-value":e(ie)?2:0,step:2,min:0,max:2,"controls-position":"right",controls:!1,disabled:""},null,8,["model-value"]),l(z,{modelValue:e(ie),"onUpdate:modelValue":t[13]||(t[13]=o=>te(ie)?ie.value=o:null),size:"small",class:"justify-self-end"},null,8,["modelValue"])])]),_:1},8,["label"])]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(V,{xs:24,sm:24,md:10,lg:8,xl:8,class:"max-w-400px mx-auto"},{default:i(()=>[l(w,{header:e(r)("强化消耗")},{default:i(()=>[l(e(Q),{data:e(K),style:{"--el-table-border-color":"none"},"cell-style":{padding:"0"}},{default:i(()=>[l(a,{label:e(r)("物品")},{default:i(({row:o})=>[l(W,{hrid:o.hrid},null,8,["hrid"])]),_:1},8,["label"]),l(a,{prop:"count",label:e(r)("数量")},{default:i(({row:o})=>[U(b(k(o.count,2)),1)]),_:1},8,["label"]),l(a,{label:e(r)("价格"),align:"center","min-width":"120"},{default:i(({row:o})=>[o.hrid!==e(Ve)?(h(),L(d,{key:0,class:"max-w-100%",modelValue:o.price,"onUpdate:modelValue":p=>o.price=p,placeholder:k(o.originPrice),controls:!1},null,8,["modelValue","onUpdate:modelValue","placeholder"])):T("",!0)]),_:1},8,["label"])]),_:1},8,["data"]),l(f,{class:"mt-2 mb-2"}),l(e(Q),{data:[e(u)],"show-header":!1,style:{"--el-table-border-color":"none"}},{default:i(()=>[l(a,{"min-width":"160"},{default:i(({row:o})=>[l(G,{modelValue:o.protection.hrid,"onUpdate:modelValue":p=>o.protection.hrid=p},{default:i(()=>[(h(!0),y(N,null,re(e(Z),p=>(h(),L(D,{key:p.hrid,value:p.hrid,border:"",style:{width:"50px",height:"50px",margin:"2px"},onClick:()=>o.protection=p},{default:i(()=>[l(W,{hrid:p.hrid},null,8,["hrid"])]),_:2},1032,["value","onClick"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),l(a,{"min-width":"120",align:"center"},{default:i(({row:o})=>[l(d,{class:"max-w-100%",modelValue:o.protection.price,"onUpdate:modelValue":p=>o.protection.price=p,placeholder:k(o.protection.originPrice),controls:!1},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:1})]),_:1},8,["data"]),l(f,{class:"mt-2 mb-2"}),l(e(Q),{data:[e(u)],"show-header":!1,style:{"--el-table-border-color":"none"}},{default:i(()=>[l(a,null,{default:i(()=>[U(b(e(r)("目标"))+": ",1)]),_:1}),l(a),l(a,{"min-width":"120",align:"center"},{default:i(()=>[l(d,{class:"max-w-100%",max:20,min:1,modelValue:e(c).config.enhanceLevel,"onUpdate:modelValue":t[15]||(t[15]=o=>e(c).config.enhanceLevel=o),placeholder:k(B.enhanceLevel),"controls-position":"right"},null,8,["modelValue","placeholder"])]),_:1})]),_:1},8,["data"])]),_:1},8,["header"])]),_:1})]),_:1}),l(w,{class:"mx-auto",style:me({width:`${e(be)}px`,maxWidth:"100%"})},{default:i(()=>[l(e(Q),{ref_key:"refTable",ref:ve,data:e(j),size:"large",border:"",fit:"","header-cell-style":{padding:"8px 0"},style:me({width:`${e(be)}px`}),"row-style":Fe},{default:i(()=>[l(a,{prop:"protectLevel",label:e(r)("Prot"),"min-width":e(de).protectLevel,"header-align":"center",align:"right"},null,8,["label","min-width"]),l(a,{prop:"actionsFormatted",label:e(r)("次数"),"min-width":e(de).actionsFormatted,"header-align":"center",align:"right"},null,8,["label","min-width"]),l(a,{prop:"time",label:e(r)("时间"),"min-width":e(de).time,align:"right"},null,8,["label","min-width"]),l(a,{prop:"expPHFormat",label:e(r)("经验 / h"),"min-width":100,align:"right"},null,8,["label"]),(h(!0),y(N,null,re(e(K),o=>(h(),L(a,{key:o.hrid,"min-width":100,"header-align":"center",align:"right"},{header:i(()=>[l(W,{class:"mt-[8px]",width:20,height:20,hrid:o.hrid},null,8,["hrid"])]),default:i(({row:p})=>[U(b(X(o.count*p.actions)),1)]),_:2},1024))),128)),l(a,{prop:"protectsFormatted",label:e(r)("保护"),"min-width":e(de).protectsFormatted,"header-align":"center",align:"right"},null,8,["label","min-width"]),l(a,{prop:"matCost",label:e(r)("材料费用"),"min-width":100,"header-align":"center",align:"right"},null,8,["label"]),l(a,{prop:"matCostPH",label:e(r)("损耗"),"min-width":120,"header-align":"center",align:"right"},null,8,["label"]),e(c).config.tab==="1"&&e(Ce)().checkSecret()?(h(),L(a,{key:0,prop:"profitRateFormatted",label:e(r)("利润率"),"min-width":100,"header-align":"center",align:"right"},null,8,["label"])):T("",!0),e(c).config.tab==="1"?(h(),L(a,{key:1,prop:"profitPPFormatted",label:e(r)("单个利润"),"min-width":100,"header-align":"center",align:"right"},null,8,["label"])):T("",!0),e(c).config.tab==="1"?(h(),L(a,{key:2,prop:"hourlyCostFormatted",label:e(r)("工时费"),"min-width":100,"header-align":"center",align:"right"},null,8,["label"])):(h(),L(a,{key:3,prop:"totalCostFormatted",label:e(r)("总费用"),"min-width":120,"header-align":"center",align:"right"},null,8,["label"]))]),_:1},8,["data","style"])]),_:1},8,["style"])])}}}),Gt=mt(Wt,[["__scopeId","data-v-f5f7cb9b"]]);export{Gt as default};

import{k as Le,u as ke,r as V,l as j,H as Re,w as oe,f as y,ao as Fe,i as d,s as t,ar as Ee,v as e,aq as ie,q as a,at as Ue,au as He,n as Ie,h as f,av as Me,aw as F,ax as je,ay as ze,G as _,F as h,a0 as We,V as De,D as le,ad as Te,p as z,az as $e,aA as Se,aB as re,aC as Ae,a5 as xe,aD as Ne,O as W,ab as Be,P as A,R as be,aE as Oe,aF as qe,aG as Ge,aH as Xe,aI as Ye}from"./vue-DmXGC6sY.js";import{_ as E}from"./index.vue_vue_type_script_setup_true_lang-D7BdDwpT.js";import{g as Je,a as se,M as Ke,b as U,D as Qe,E as Ze,m as H,p as Y,c as ye,n as x,G as et,A as tt,d as lt,u as at}from"./GameInfo-IQrmJeRM.js";import{u as nt}from"./enhancer-KvDSlfD0.js";import{C as we}from"./index-27uvcALl.js";import{_ as ot}from"./_plugin-vue_export-helper-DlAUqK2U.js";const it={class:"app-container"},rt={class:"game-info"},st={class:"flex justify-between items-center"},dt={class:"flex items-center"},ct={class:"w-200px"},ut={class:"flex items-center"},pt={class:"w-200px"},ht={class:"flex items-center"},mt={class:"w-200px"},ft={style:{position:"relative",width:"100%","padding-bottom":"100%"}},vt={key:0,class:"absolute bottom-0 right-0"},gt={class:"mb-2 color-gray-500"},_t={"color-gray-600":""},xt={class:"flex flex-wrap"},bt={class:"absolute bottom-0 right-0"},yt={style:{display:"flex","flex-wrap":"wrap","margin-top":"10px"}},wt={key:0,class:"absolute bottom-0 right-0"},Ct={class:"flex justify-between items-center"},Vt={class:"font-size-14px"},Pt={class:"flex justify-between items-center"},Lt={class:"font-size-14px"},kt={class:"flex justify-between items-center"},Rt={class:"font-size-14px"},Ft={class:"flex justify-between items-center"},Et={class:"font-size-14px"},Ut={class:"font-size-14px flex items-center justify-between"},Ht={class:"font-size-14px flex items-center justify-between"},It={class:"flex mt-1px mb-2px justify-between items-center"},Mt={class:"font-size-14px"},jt={class:"flex justify-between items-center"},zt={class:"font-size-14px w-100px"},Wt={style:{display:"flex","justify-content":"center","align-items":"center",gap:"5px"}},Dt={style:{display:"flex","justify-content":"center","align-items":"center",gap:"5px"}},Tt={style:{display:"flex","justify-content":"center","align-items":"center",gap:"5px"}},$t=Le({__name:"index",setup(St){const s=nt(),{t:i}=ke(),N=V(!1),$=V(""),Ce=j(()=>Je().filter(p=>i(p.name).toLocaleLowerCase().includes($.value.toLowerCase())).sort((p,n)=>p.sortIndex-n.sortIndex)),c=V({protection:{},originPrice:0}),B=V([]),S=V([]),P=V({ingredientList:[],productList:[],successRate:0}),b={hourlyRate:5e6,taxRate:2,enhanceLevel:10,originLevel:0,escapeLevel:-1};Re(()=>{s.advancedConfig.hrid&&J(se(s.advancedConfig.hrid))}),oe(()=>s.advancedConfig,()=>{s.saveAdvancedConfig()},{deep:!0});function J(p){if(!p)return;s.advancedConfig.hrid=p.hrid,c.value={hrid:p.hrid,originPrice:0},N.value=!1;const n=[[i("锻造"),"cheesesmithing"],[i("制造"),"crafting"],[i("裁缝"),"tailoring"]];let o;for(const[r,u]of n)if(o=new Ke({hrid:p.hrid,project:r,action:u}),o.available)break;B.value=p.enhancementCosts.map(r=>({hrid:r.itemHrid,count:r.count,originPrice:U(r.itemHrid).ask})),S.value=p.protectionItemHrids?p.protectionItemHrids.map(r=>({hrid:r,count:1,originPrice:U(r).ask})):[],S.value.length||S.value.push({hrid:p.hrid,count:1,originPrice:U(p.hrid).ask}),S.value.push({hrid:"/items/mirror_of_protection",count:1,originPrice:U("/items/mirror_of_protection").ask}),c.value.protection=S.value.reduce((r,u)=>r&&r.originPrice<u.originPrice?r:u),de()}function de(){if(!c.value.hrid)return;const p=new Qe({hrid:c.value.hrid,enhanceLevel:s.advancedConfig.enhanceLevel??b.enhanceLevel,catalystRank:2});P.value.ingredientList=p.ingredientListWithPrice.slice(1,3).map(n=>({...n,originPrice:n.price,price:void 0})),P.value.productList=p.productListWithPrice.slice(0,-2).map(n=>({...n,originPrice:n.price,price:void 0})),P.value.successRate=p.successRate}const ce=j(()=>U(c.value.hrid,s.advancedConfig.originLevel??b.originLevel).ask),ue=j(()=>U(c.value.hrid).ask),pe=j(()=>U(c.value.hrid,Math.max(s.advancedConfig.escapeLevel??b.escapeLevel,0)).ask),ae=j(()=>{const p=P.value.ingredientList.reduce((o,r)=>{const u=typeof r.price=="number"?r.price:r.originPrice;return o+u*r.count*(r.rate||1)},0);return(P.value.productList.reduce((o,r)=>{const u=typeof r.price=="number"?r.price:r.originPrice;return o+u*r.count*(r.rate||1)},0)-p)*P.value.successRate}),D=j(()=>{var r;if(!c.value.hrid)return[];const p=[],n=s.advancedConfig.enhanceLevel??b.enhanceLevel;let o=Math.max(2,(s.advancedConfig.escapeLevel??b.escapeLevel)+1);for(;o<=n;++o){const u=new Ze({hrid:c.value.hrid,enhanceLevel:n,protectLevel:o,originLevel:s.advancedConfig.originLevel,escapeLevel:s.advancedConfig.escapeLevel});if(!u.available)continue;const{actions:g,protects:L,targetRate:C,leapRate:k,escapeRate:I}=u.enhancelate(),M=B.value.reduce((v,R)=>{const Pe=typeof R.price=="number"?R.price:R.originPrice;return v+Pe*R.count*g},0)+(typeof((r=c.value.protection)==null?void 0:r.price)=="number"?c.value.protection.price:c.value.protection.originPrice)*L,Z=typeof c.value.price=="number"?c.value.price:ce.value,w=M+Z;let ee=w+(s.advancedConfig.hourlyRate??b.hourlyRate)*(g/u.actionsPH);const q=1-(s.advancedConfig.taxRate??b.taxRate)/100;ee/=q;const T=u.realEscapeLevel===0?typeof c.value.whitePrice=="number"?c.value.whitePrice:ue.value:typeof c.value.escapePrice=="number"?c.value.escapePrice:pe.value,ne=(Z-T*.98)/g*u.actionsPH;let G=typeof c.value.productPrice=="number"?c.value.productPrice:U(c.value.hrid,n).bid;s.advancedConfig.tab==="2"&&(G=ae.value);const te=((G*(C+k)+T*I)*.98-w)/g*u.actionsPH,X=(G*(C+k)+T*I)*.98-w,l=(ee-T*I)/(C+k),m=g/u.actionsPH*3600;p.push({actions:g,actionsFormatted:x(g,2),protects:L,protectsFormatted:x(L,2),protectLevel:o,targetRateFormatted:Y(C+k),leapRateFormatted:Y(k),escapeRateFormatted:Y(I),realEscapeLevel:u.realEscapeLevel,time:ye(m*1e9),successTime:ye(m*1e9/(C+k)),expPHFormat:H(u.exp*u.actionsPH),matCost:H(M),totalCostFormatted:H(l),profitPPFormatted:H(X),profitRate:X/w,profitRateFormatted:Y(X/w),totalCost:l,totalCostNoHourly:w,matCostPH:`${H(M/m*3600)} / h`,fallingRatePH:`${H(ne)} / h`,hourlyCost:te,hourlyCostFormatted:H(te)})}return p}),O=j(()=>{if(!D.value.length)return{};const p=Object.keys(D.value[0]),n={};for(const o of p){const r=Math.max(...D.value.map(u=>{var g;return((g=u[o])==null?void 0:g.toString().length)||0}));n[o]=Math.max(r*10+20,60)}for(const o of B.value){const r=Math.max(...D.value.map(u=>x(o.count*u.actions).toString().length||0));n[o.hrid]=Math.max(r*10+20,60)}return n}),he=V(null),me=j(()=>{var o;const n=(((o=he.value)==null?void 0:o.columns)??[]).reduce((r,u)=>r+(u.minWidth||0),0)??0;return Math.max(n+100,1100)});oe([()=>lt(),()=>at().config],()=>s.advancedConfig.hrid&&J(se(s.advancedConfig.hrid)),{immediate:!1});function Ve({row:p}){if(p.profitRate===Math.max(...D.value.map(n=>n.profitRate)))return{background:"rgb(34, 68, 34)"};if(p.hourlyCost===Math.max(...D.value.map(n=>n.hourlyCost)))return{background:"rgb(34, 51, 85)"}}const K=V(!1),fe=V(0),ve=V(0),Q=V("");function ge(p,n){const u=document.body.offsetWidth-100,g=n.clientX+10;ve.value=g>u?u:g,fe.value=n.clientY,K.value=!0,Q.value=p}function _e(){K.value=!1}return oe(K,p=>{p?document.body.addEventListener("click",_e):document.body.removeEventListener("click",_e)}),(p,n)=>{const o=je,r=ze,u=Ie("Warning"),g=De,L=We,C=He,k=Me,I=Te,M=$e,Z=Ne,w=Be,ee=Ae,q=qe,T=Ge,ne=Oe,G=Ye,te=Xe,X=Ue;return f(),y("div",it,[Fe(d("ul",{class:"contextmenu",style:ie({left:`${e(ve)}px`,top:`${e(fe)}px`})},[e(s).hasAdvancedFavorite(e(Q))?(f(),y("li",{key:1,onClick:n[1]||(n[1]=l=>e(s).removeAdvancedFavorite(e(Q)))}," 取消收藏 ")):(f(),y("li",{key:0,onClick:n[0]||(n[0]=l=>e(s).addAdvancedFavorite(e(Q)))}," 收藏 "))],4),[[Ee,e(K)]]),d("div",rt,[t(et),d("div",null,[t(tt,{actions:["enhancing","alchemy"],equipments:["hands","neck","earrings","ring","pouch"]})])]),t(X,{gutter:20,class:"row max-w-1100px mx-auto!"},{default:a(()=>[t(k,{xs:24,sm:24,md:10,lg:8,xl:8,class:"max-w-400px mx-auto"},{default:a(()=>[t(C,null,{header:a(()=>[d("div",st,[d("span",null,h(e(i)("装备成本")),1)])]),default:a(()=>[t(e(F),{data:[e(c)],"show-header":!1,style:{"--el-table-border-color":"none"}},{default:a(()=>[t(o,null,{default:a(({row:l})=>[t(E,{hrid:l.hrid},null,8,["hrid"])]),_:1}),t(o,{"min-width":"120",align:"center"},{default:a(({row:l})=>[t(r,{class:"max-w-100%",modelValue:l.price,"onUpdate:modelValue":m=>l.price=m,placeholder:x(e(ce)),controls:!1},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:1})]),_:1},8,["data"]),t(e(F),{data:[e(c)],"show-header":!1,style:{"--el-table-border-color":"none"}},{default:a(()=>[t(o,null,{default:a(()=>[_(h(e(i)("初始等级"))+": ",1)]),_:1}),t(o,{"min-width":"120",align:"center"},{default:a(()=>[t(r,{class:"max-w-100%",max:(e(s).advancedConfig.enhanceLevel??b.enhanceLevel)-1,min:0,modelValue:e(s).advancedConfig.originLevel,"onUpdate:modelValue":n[2]||(n[2]=l=>e(s).advancedConfig.originLevel=l),placeholder:x(b.originLevel),"controls-position":"right"},null,8,["max","modelValue","placeholder"])]),_:1})]),_:1},8,["data"]),t(e(F),{data:[e(c)],"show-header":!1,style:{"--el-table-border-color":"none"}},{default:a(()=>[t(o,null,{default:a(()=>[t(L,{placement:"top",effect:"light"},{content:a(()=>[_(h(e(i)("#逃逸等级提示")),1)]),default:a(()=>[d("div",dt,[t(g,null,{default:a(()=>[t(u)]),_:1}),d("div",ct,h(e(i)("逃逸等级"))+": ",1)])]),_:1})]),_:1}),t(o,{"min-width":"120",align:"center"},{default:a(()=>[t(r,{class:"max-w-100%",max:(e(s).advancedConfig.originLevel??b.originLevel)-1,min:-1,modelValue:e(s).advancedConfig.escapeLevel,"onUpdate:modelValue":n[3]||(n[3]=l=>e(s).advancedConfig.escapeLevel=l),placeholder:x(b.escapeLevel),"controls-position":"right"},null,8,["max","modelValue","placeholder"])]),_:1})]),_:1},8,["data"]),t(e(F),{data:[e(c)],"show-header":!1,style:{"--el-table-border-color":"none"}},{default:a(()=>[t(o,null,{default:a(()=>[t(L,{placement:"top",effect:"light"},{content:a(()=>[_(h(e(i)("#逃逸价格提示")),1)]),default:a(()=>[d("div",ut,[t(g,null,{default:a(()=>[t(u)]),_:1}),d("div",pt,h(e(i)("逃逸价格"))+": ",1)])]),_:1})]),_:1}),t(o,{"min-width":"120",align:"center"},{default:a(({row:l})=>[t(r,{class:"max-w-100%",modelValue:l.escapePrice,"onUpdate:modelValue":m=>l.escapePrice=m,placeholder:x(e(pe)),controls:!1},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:1})]),_:1},8,["data"]),t(e(F),{data:[e(c)],"show-header":!1,style:{"--el-table-border-color":"none"}},{default:a(()=>[t(o,null,{default:a(()=>[t(L,{placement:"top",effect:"light"},{content:a(()=>[_(h(e(i)("#白板价格提示")),1)]),default:a(()=>[d("div",ht,[t(g,null,{default:a(()=>[t(u)]),_:1}),d("div",mt,h(e(i)("白板价格"))+": ",1)])]),_:1})]),_:1}),t(o,{"min-width":"120",align:"center"},{default:a(({row:l})=>[t(r,{class:"max-w-100%",modelValue:l.whitePrice,"onUpdate:modelValue":m=>l.whitePrice=m,placeholder:x(e(ue)),controls:!1},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1}),t(k,{xs:16,sm:10,md:10,lg:6,xl:6,class:"max-w-300px mx-auto"},{default:a(()=>[t(C,null,{default:a(()=>{var l,m;return[d("div",ft,[t(E,{hrid:(l=e(c))==null?void 0:l.hrid,style:{position:"absolute",bottom:"10%",left:"10%",width:"80%",height:"80%"}},null,8,["hrid"]),t(I,{style:{position:"absolute",width:"100%",height:"100%",opacity:"0.5"},onClick:n[4]||(n[4]=v=>(N.value=!0,$.value=""))},{default:a(()=>{var v;return[_(h((v=e(c))!=null&&v.hrid?"":e(i)("选择装备")),1)]}),_:1}),(m=e(c))!=null&&m.hrid?(f(),y("div",vt,[e(s).hasAdvancedFavorite(e(c).hrid)?(f(),z(M,{key:1,underline:!1,icon:e(re),type:"primary",onClick:n[6]||(n[6]=v=>e(s).removeAdvancedFavorite(e(c).hrid)),style:{"font-size":"42px"}},null,8,["icon"])):(f(),z(M,{key:0,underline:!1,type:"info",icon:e(Se),onClick:n[5]||(n[5]=v=>e(s).addAdvancedFavorite(e(c).hrid)),style:{"font-size":"42px"}},null,8,["icon"]))])):le("",!0),t(ee,{modelValue:e(N),"onUpdate:modelValue":n[8]||(n[8]=v=>xe(N)?N.value=v:null),"show-close":!1},{default:a(()=>[t(Z,{modelValue:e($),"onUpdate:modelValue":n[7]||(n[7]=v=>xe($)?$.value=v:null),placeholder:e(i)("搜索")},null,8,["modelValue","placeholder"]),e(s).advancedFavorite.length&&!e($)?(f(),y(W,{key:0},[t(w,{class:"mt-2 mb-2"}),d("div",gt,[_(h(e(i)("收藏"))+" ",1),d("span",_t," ("+h(e(i)("右键/长按取消收藏"))+")",1)]),d("div",xt,[(f(!0),y(W,null,A(e(s).advancedFavorite,v=>(f(),z(I,{key:v,class:"relative",style:{width:"50px",height:"50px",margin:"2px"},onClick:R=>J(e(se)(v)),onContextmenu:be(R=>ge(v,R),["prevent"])},{default:a(()=>[t(E,{hrid:v},null,8,["hrid"]),d("div",bt,[t(M,{underline:!1,icon:e(re),type:"primary",style:{"font-size":"16px"}},null,8,["icon"])])]),_:2},1032,["onClick","onContextmenu"]))),128))]),t(w,{class:"mt-2 mb-1"})],64)):le("",!0),d("div",yt,[(f(!0),y(W,null,A(e(Ce),v=>(f(),z(I,{key:v.hrid,style:{width:"50px",height:"50px",margin:"2px"},class:"relative",onClick:R=>J(v),onContextmenu:be(R=>ge(v.hrid,R),["prevent"])},{default:a(()=>[t(E,{hrid:v.hrid},null,8,["hrid"]),e(s).hasAdvancedFavorite(v.hrid)?(f(),y("div",wt,[t(M,{underline:!1,icon:e(re),type:"primary",style:{"font-size":"16px"}},null,8,["icon"])])):le("",!0)]),_:2},1032,["onClick","onContextmenu"]))),128))])]),_:1},8,["modelValue"])])]}),_:1}),t(C,{class:"mt-2"},{default:a(()=>[t(ne,{modelValue:e(s).advancedConfig.tab,"onUpdate:modelValue":n[13]||(n[13]=l=>e(s).advancedConfig.tab=l),type:"border-card",stretch:""},{default:a(()=>[t(q,{label:e(i)("工时费")},{default:a(()=>[d("div",Ct,[d("div",Vt,h(e(i)("工时费/h")),1),t(r,{class:"w-120px",modelValue:e(s).advancedConfig.hourlyRate,"onUpdate:modelValue":n[9]||(n[9]=l=>e(s).advancedConfig.hourlyRate=l),step:1,min:0,max:5e8,placeholder:b.hourlyRate.toString(),controls:!1},null,8,["modelValue","placeholder"])]),d("div",Pt,[d("div",Lt,h(e(i)("税率%")),1),t(r,{class:"w-120px",modelValue:e(s).advancedConfig.taxRate,"onUpdate:modelValue":n[10]||(n[10]=l=>e(s).advancedConfig.taxRate=l),step:1,min:0,max:20,"controls-position":"right",controls:!1,disabled:"",placeholder:b.taxRate.toString()},null,8,["modelValue","placeholder"])])]),_:1},8,["label"]),t(q,{label:e(i)("成品售价")},{default:a(()=>[d("div",kt,[d("div",Rt,h(e(i)("价格")),1),t(r,{class:"w-130px",modelValue:e(c).productPrice,"onUpdate:modelValue":n[11]||(n[11]=l=>e(c).productPrice=l),step:1,min:0,placeholder:x(e(U)(e(c).hrid,e(s).advancedConfig.enhanceLevel??b.enhanceLevel).bid),controls:!1},null,8,["modelValue","placeholder"])]),d("div",Ft,[d("div",Et,h(e(i)("溢价率%")),1),t(r,{class:"w-130px",modelValue:e(s).advancedConfig.taxRate,"onUpdate:modelValue":n[12]||(n[12]=l=>e(s).advancedConfig.taxRate=l),step:1,min:0,max:20,"controls-position":"right",controls:!1,disabled:"",placeholder:b.taxRate.toString()},null,8,["modelValue","placeholder"])])]),_:1},8,["label"]),t(q,{label:e(i)("分解")},{default:a(()=>[(f(!0),y(W,null,A(e(P).ingredientList,l=>(f(),y("div",{key:l.hrid,class:"flex justify-between items-center"},[d("div",Ut,[d("div",null,[t(E,{hrid:l.hrid,class:"inline-block mr-1"},null,8,["hrid"])]),d("div",null,h(x(l.count*(l.rate||1),2)),1)]),t(r,{class:"w-100px",modelValue:l.price,"onUpdate:modelValue":m=>l.price=m,placeholder:x(l.originPrice),controls:!1,disabled:l.hrid===e(we)},null,8,["modelValue","onUpdate:modelValue","placeholder","disabled"])]))),128)),t(w,{class:"mt-5px mb-5px"}),(f(!0),y(W,null,A(e(P).productList,l=>(f(),y("div",{key:l.hrid,class:"flex justify-between items-center"},[d("div",Ht,[d("div",null,[t(E,{hrid:l.hrid,class:"inline-block mr-1"},null,8,["hrid"])]),d("div",null,h(x(l.count*(l.rate||1),2)),1)]),t(r,{class:"w-100px",modelValue:l.price,"onUpdate:modelValue":m=>l.price=m,placeholder:x(l.originPrice),controls:!1},null,8,["modelValue","onUpdate:modelValue","placeholder"])]))),128)),d("div",It,[d("div",Mt,h(e(i)("成功率")),1),t(T,{class:"w-100px",type:"success",size:"large"},{default:a(()=>[_(h(e(P).successRate&&Y(e(P).successRate)),1)]),_:1})]),d("div",jt,[d("div",zt,h(e(i)("分解税后收益")),1),t(T,{class:"w-100px",type:"success",size:"large"},{default:a(()=>[_(h(e(ae)&&H(e(ae)*.98)),1)]),_:1})])]),_:1},8,["label"])]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(k,{xs:24,sm:24,md:10,lg:8,xl:8,class:"max-w-400px mx-auto"},{default:a(()=>[t(C,{header:e(i)("强化消耗")},{default:a(()=>[t(e(F),{data:e(B),style:{"--el-table-border-color":"none"},"cell-style":{padding:"0"}},{default:a(()=>[t(o,{label:e(i)("物品")},{default:a(({row:l})=>[t(E,{hrid:l.hrid},null,8,["hrid"])]),_:1},8,["label"]),t(o,{prop:"count",label:e(i)("数量")},{default:a(({row:l})=>[_(h(x(l.count,2)),1)]),_:1},8,["label"]),t(o,{label:e(i)("价格"),align:"center","min-width":"120"},{default:a(({row:l})=>[l.hrid!==e(we)?(f(),z(r,{key:0,class:"max-w-100%",modelValue:l.price,"onUpdate:modelValue":m=>l.price=m,placeholder:x(l.originPrice),controls:!1},null,8,["modelValue","onUpdate:modelValue","placeholder"])):le("",!0)]),_:1},8,["label"])]),_:1},8,["data"]),t(w,{class:"mt-2 mb-2"}),t(e(F),{data:[e(c)],"show-header":!1,style:{"--el-table-border-color":"none"}},{default:a(()=>[t(o,{"min-width":"160"},{default:a(({row:l})=>[t(te,{modelValue:l.protection.hrid,"onUpdate:modelValue":m=>l.protection.hrid=m},{default:a(()=>[(f(!0),y(W,null,A(e(S),m=>(f(),z(G,{key:m.hrid,value:m.hrid,border:"",style:{width:"50px",height:"50px",margin:"2px"},onClick:()=>l.protection=m},{default:a(()=>[t(E,{hrid:m.hrid},null,8,["hrid"])]),_:2},1032,["value","onClick"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),t(o,{"min-width":"120",align:"center"},{default:a(({row:l})=>[t(r,{class:"max-w-100%",modelValue:l.protection.price,"onUpdate:modelValue":m=>l.protection.price=m,placeholder:x(l.protection.originPrice),controls:!1},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:1})]),_:1},8,["data"]),t(w,{class:"mt-2 mb-2"}),t(e(F),{data:[e(c)],"show-header":!1,style:{"--el-table-border-color":"none"}},{default:a(()=>[t(o,null,{default:a(()=>[_(h(e(i)("目标"))+": ",1)]),_:1}),t(o),t(o,{"min-width":"120",align:"center"},{default:a(()=>[t(r,{class:"max-w-100%",max:20,min:1,modelValue:e(s).advancedConfig.enhanceLevel,"onUpdate:modelValue":n[14]||(n[14]=l=>e(s).advancedConfig.enhanceLevel=l),placeholder:x(b.enhanceLevel),onChange:de,"controls-position":"right"},null,8,["modelValue","placeholder"])]),_:1})]),_:1},8,["data"])]),_:1},8,["header"])]),_:1})]),_:1}),t(C,{class:"mx-auto",style:ie({width:`${e(me)}px`,maxWidth:"100%"})},{default:a(()=>[t(e(F),{ref_key:"refTable",ref:he,data:e(D),size:"large",border:"",fit:"","header-cell-style":{padding:"8px 0"},style:ie({width:`${e(me)}px`}),"row-style":Ve},{default:a(()=>[t(o,{prop:"protectLevel",label:e(i)("Prot"),"min-width":e(O).protectLevel,"header-align":"center",align:"right"},null,8,["label","min-width"]),t(o,{prop:"actionsFormatted",label:e(i)("次数"),"min-width":e(O).actionsFormatted,"header-align":"center",align:"right"},null,8,["label","min-width"]),t(o,{prop:"time",label:e(i)("时间"),"min-width":e(O).time,align:"right"},null,8,["label","min-width"]),t(o,{prop:"expPHFormat",label:e(i)("经验 / h"),"min-width":100,align:"right"},null,8,["label"]),(f(!0),y(W,null,A(e(B),l=>(f(),z(o,{key:l.hrid,"min-width":100,"header-align":"center",align:"right"},{header:a(()=>[t(E,{class:"mt-[8px]",width:20,height:20,hrid:l.hrid},null,8,["hrid"])]),default:a(({row:m})=>[_(h(H(l.count*m.actions)),1)]),_:2},1024))),128)),t(o,{prop:"protectsFormatted",label:e(i)("保护"),"min-width":e(O).protectsFormatted,"header-align":"center",align:"right"},null,8,["label","min-width"]),t(o,{prop:"matCostPH",label:e(i)("材料损耗"),"min-width":120,"header-align":"center",align:"right"},null,8,["label"]),t(o,{prop:"fallingRatePH",label:e(i)("逃逸损耗"),"min-width":120,"header-align":"center",align:"right"},{header:a(()=>[d("div",Wt,[d("div",null,h(e(i)("逃逸损耗")),1),t(L,{placement:"top",effect:"light"},{content:a(()=>[_(h(e(i)("#逃逸损耗提示")),1)]),default:a(()=>[t(g,null,{default:a(()=>[t(u)]),_:1})]),_:1})])]),default:a(({row:l})=>[_(h(l.fallingRatePH),1)]),_:1},8,["label"]),e(s).advancedConfig.tab!=="0"?(f(),y(W,{key:0},[t(o,{prop:"profitPPFormatted",label:e(i)("利润 / 件"),"min-width":100,"header-align":"center",align:"right"},{header:a(()=>[d("div",Dt,[d("div",null,h(e(i)("利润 / 件")),1),t(L,{placement:"top",effect:"light"},{content:a(()=>[_(h(e(i)("#超级强化利润/件提示")),1)]),default:a(()=>[t(g,null,{default:a(()=>[t(u)]),_:1})]),_:1})])]),default:a(({row:l})=>[_(h(l.profitPPFormatted),1)]),_:1},8,["label"]),t(o,{prop:"hourlyCostFormatted",label:e(i)("工时费"),"min-width":100,"header-align":"center",align:"right"},null,8,["label"]),t(o,{prop:"profitRateFormatted",label:e(i)("利润率"),"min-width":100,"header-align":"center",align:"right"},null,8,["label"])],64)):(f(),z(o,{key:1,prop:"totalCostFormatted",label:e(i)("指导价"),"min-width":120,"header-align":"center",align:"right"},{header:a(()=>[d("div",Tt,[d("div",null,h(e(i)("指导价")),1),t(L,{placement:"top",effect:"light"},{content:a(()=>n[15]||(n[15]=[_(" 总成本 = 材料费用 + 工时费 + 1个初始物品成本 "),d("br",null,null,-1),_(" 总收入 = (成功率*指导价 + 逃逸率*逃逸价格或白板价格) * 98% "),d("br",null,null,-1),_(" 总成本 = 总收入 "),d("br",null,null,-1),_(" ∴ 指导价 = (总成本 / 98% - 逃逸率*逃逸价格或白板价格) / 成功率 ")])),default:a(()=>[t(g,null,{default:a(()=>[t(u)]),_:1})]),_:1})])]),default:a(({row:l})=>[_(h(l.totalCostFormatted),1)]),_:1},8,["label"])),t(o,{prop:"targetRateFormatted",label:e(i)("成功率"),"min-width":80,"header-align":"center",align:"right"},null,8,["label"]),t(o,{prop:"successTime",label:e(i)("期望耗时"),"min-width":e(O).successTime,"header-align":"center",align:"right"},null,8,["label","min-width"]),t(o,{prop:"realEscapeLevel",label:e(i)("逃逸等级"),"min-width":90,"header-align":"center",align:"right"},null,8,["label"])]),_:1},8,["data","style"])]),_:1},8,["style"])])}}}),Xt=ot($t,[["__scopeId","data-v-4a1ca837"]]);export{Xt as default};

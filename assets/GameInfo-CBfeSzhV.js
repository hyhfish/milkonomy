var no=Object.defineProperty;var io=(e,t,r)=>t in e?no(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ce=(e,t,r)=>io(e,typeof t!="symbol"?t+"":t,r);import{w as qe,C as Er,P as Ir,A as vr,p as ou,E as uo,z as ao,B as oo,H as ci,x as ar,n as so,v as co}from"./index-CaItEIO1.js";import{g as jn,a as li,i as lo,_ as We}from"./index.vue_vue_type_script_setup_true_lang-D7BdDwpT.js";import{g as fo,w as bt,t as Re,d as su,k as cu,r as ut,u as lu,f as Ye,O as ft,ao as ho,i as we,s as Y,ar as po,v as X,aq as mo,D as pr,p as xt,F as Le,P as St,aC as vo,a5 as fi,q as Q,aS as hi,ad as Do,b4 as go,h as xe,G as at,R as yo,at as wo,av as _o,au as Eo,aw as Fo,ax as bo,ay as Co,aT as Ao,aU as Bo,b5 as Mo,aQ as xo,aD as So,y as Pr,Y as No}from"./vue-DmXGC6sY.js";import{_ as fu}from"./_plugin-vue_export-helper-DlAUqK2U.js";function Zr(e,t=0){return Math.abs(e)>=0&&Math.abs(e)<2?e=Math.round(e*10**t)/10**t:Math.abs(e)>=0&&Math.abs(e)<10?e=Math.round(e*10**Math.min(t,2))/10**Math.min(t,2):Math.abs(e)>=10&&Math.abs(e)<100?e=Math.round(e*10**Math.min(t,1))/10**Math.min(t,1):e=Math.round(e),To(e)}function To(e){const t=e.toString();if(Math.abs(e)<1e3)return t;let r="";const n=t[0]==="-",i=t.length;for(let u=n?1:0;u<i;u++)u>0&&(i-u)%3===0&&(r+=","),r+=t[u];return n?`-${r}`:r}function Lo(e){let t="";e/=1e9;const r=Math.floor(e/3600),n=Math.floor(e%3600/60),i=r||n?0:2,u=Math.floor(e%60*10**i)/10**i;return r&&(t+=`${r}h`),n&&(t+=`${n<10?"0":""}${n}m`),u&&(t+=`${u<10?"0":""}${u}s`),t}function Qt(e,t=2){return`${Math.round(e*100*10**t)/10**t}%`}const Wr=["","K","M","B","T"];function ep(e){for(let t=0;t<Wr.length;t++)if(Math.abs(e)<10**((t+2)*3-1))return`${Zr(e/1e3**t)}${Wr[t]}`;return Zr(e)}function It(e){for(let t=0;t<Wr.length;t++)if(Math.abs(e)<10**((t+1)*3))return`${Zr(e/1e3**t,2)}${Wr[t]}`;return`${e.toLocaleString("en-US")}`}var Fn,pi;function Io(){return pi||(pi=1,Fn=function e(t){Object.freeze(t);var r=typeof t=="function",n=Object.prototype.hasOwnProperty;return Object.getOwnPropertyNames(t).forEach(function(i){n.call(t,i)&&(!r||i!=="caller"&&i!=="callee"&&i!=="arguments")&&t[i]!==null&&(typeof t[i]=="object"||typeof t[i]=="function")&&!Object.isFrozen(t[i])&&e(t[i])}),t}),Fn}var Po=Io();const Oo=fo(Po),Vt={gameData:null,marketData:null};let In={};const di={},mi={},vi={};let Hr={},Dt={},hu=qe().buyStatus,pu=qe().sellStatus;bt(()=>qe().gameData,()=>{const e=structuredClone(Re(qe().gameData));Vt.gameData=e&&Oo(e),In={},Dt={},zo()},{immediate:!0});bt(()=>qe().marketData,()=>{const e=Object.freeze(structuredClone(Re(qe().marketData)));Vt.marketData=e,Dt={}},{immediate:!0});bt([()=>qe().buyStatus,()=>qe().sellStatus],()=>{Dt={}},{immediate:!0});bt(()=>qe().buyStatus,e=>{hu=e},{immediate:!0});bt(()=>qe().sellStatus,e=>{pu=e},{immediate:!0});function _t(){return Vt.gameData}function Pn(){return Vt.marketData}const Di={"/items/cowbell":()=>({ask:le("/items/bag_of_10_cowbells").ask/10||4e4,bid:le("/items/bag_of_10_cowbells").bid/10||4e4,avg:-1,vol:-1}),"/items/coin":()=>({ask:1,bid:1,avg:1,vol:-1})};function gi(e,t,r){function n(i){const u={price:-1};switch(i){case Ir.ASK:u.price=e.ask;break;case Ir.BID:u.price=e.bid;break;case Ir.ASK_LOW:u.price=e.ask,u.price>0&&(u.price=yi(u.price,!1));break;case Ir.BID_HIGH:u.price=e.bid,u.price>0&&(u.price=yi(u.price,!0));break}return u}return{ask:n(t).price,bid:n(r).price,avg:e.avg,vol:e.vol}}const dr=[[0,1],[50,2],[100,5],[300,10]];function yi(e,t=!0){if(e<=0)return-1;let r=0;for(;e>300;)e/=10,r+=1;let n=0,i=0;for(let u=0;u<dr.length;u++)if(e<=dr[u][0]){n=i=u-1,e===dr[u][0]&&(n=u);break}return t?(e+dr[n][1])*10**r:(e-dr[i][1])*10**r}function le(e,t=0,r=hu,n=pu){var s,c;if(!e)return{ask:-1,bid:-1,avg:-1,vol:-1};const i=kt(e);if(t){const l=(s=Vt.marketData)==null?void 0:s.marketData[e],h=l?l[t]:void 0,p={ask:(h==null?void 0:h.ask)??-1,bid:(h==null?void 0:h.bid)??-1,avg:(h==null?void 0:h.avg)??-1,vol:(h==null?void 0:h.vol)??-1};return gi(p,r,n)}const u=`${e}|${r}|${n}`;if(Dt[u])return Dt[u];if(Di[e])return Dt[u]=Di[e](),Dt[u];if($o(e)&&e!=="/items/bag_of_10_cowbells")return Dt[u]=Ro(e),Dt[u];const a=_t().shopItemDetailMap[`/shop_items/${i.hrid.split("/").pop()}`],o=((c=Pn().marketData[i.hrid])==null?void 0:c[0])||{ask:-1,bid:-1,avg:-1,vol:-1};return a&&a.costs[0].itemHrid===Er&&(o.ask=o.ask===-1?a.costs[0].count:Math.min(o.ask,a.costs[0].count)),Dt[u]=gi(o,r,n),Dt[u]}function $o(e){return kt(e).categoryHrid==="/item_categories/loot"}function Ro(e){return _t().openableLootDropMap[e].reduce((r,n)=>{const i=(n.maxCount+n.minCount)/2,u=le(n.itemHrid);return r.ask+=u.ask*i*n.dropRate,r.bid+=u.bid*i*n.dropRate,r},{ask:0,bid:0})}function kt(e){let t=di[e];return t||(t=_t().itemDetailMap[e],t&&(di[e]=t)),t}function Fr(e){let t=In[e];return t||(t=_t().actionDetailMap[e],t&&(In[e]=t)),t}function On(e){let t=mi[e];return t||(t=_t().communityBuffTypeDetailMap[e],t&&(mi[e]=t)),t}function $n(e){let t=vi[e];if(!t){const r=_t().achievementTierDetailMap;if(!r)return;t=r[e],t&&(vi[e]=t)}return t}function bn(){return Fr("/actions/alchemy/transmute").baseTimeCost}function Cn(){return Fr("/actions/alchemy/decompose").baseTimeCost}function An(){return Fr("/actions/alchemy/coinify").baseTimeCost}function Bn(){return Fr("/actions/enhancing/enhance").baseTimeCost}function zo(){Hr={},Vt.gameData&&Object.entries(Vt.gameData.actionDetailMap).forEach(([e,t])=>{(e.match(/fabric$/)||e.match(/lumber$/)||e.match(/cheese$/))&&(Hr[t.inputItems[0].itemHrid]=t.outputItems[0].itemHrid)}),Hr["/items/rainbow_milk"]="/items/rainbow_cheese"}function tp(e){return Hr[e]}let Gn={};function qo(e){return Gn[`${e.originLevel}-${e.enhanceLevel}-${e.protectLevel}-${e.itemLevel}-${e.escapeLevel}`]}function Ho(e,t){Gn[`${e.originLevel}-${e.enhanceLevel}-${e.protectLevel}-${e.itemLevel}-${e.escapeLevel}`]=t}function Uo(){Gn={}}const cn={MINUTE:6e10,HOUR:36e11};function Jn(e,t){let r="/items/small_artisans_crate";const n=1*t/(8*cn.HOUR);let i=0;return e.itemLevel<35?(r="/items/small_artisans_crate",i=(e.itemLevel+100)/100):e.itemLevel<70?(r="/items/medium_artisans_crate",i=(e.itemLevel-35+100)/150):(r="/items/large_artisans_crate",i=(e.itemLevel-70+100)/200),[{itemHrid:r,dropRate:n*i,minCount:1,maxCount:1}]}function Yn(e,t){return[{itemHrid:"/items/alchemy_essence",dropRate:1*t/(6*cn.MINUTE)*((e.itemLevel+100)/100),minCount:1,maxCount:1}]}function ko(e,t){return t===0?0:Math.round(2*(.5+.1*1.05**(e.itemLevel||0))*2**t)}function Vo(e,t){return[{itemHrid:"/items/enhancing_essence",dropRate:1*t/(2*cn.MINUTE)*((e.itemLevel+100)/100),minCount:1,maxCount:1}]}function Zo(e,t){let r="/items/small_artisans_crate";const n=1*t/(4*cn.HOUR);let i=0;return e.itemLevel<35?(r="/items/small_artisans_crate",i=(e.itemLevel+100)/100):e.itemLevel<70?(r="/items/medium_artisans_crate",i=(e.itemLevel-35+100)/150):(r="/items/large_artisans_crate",i=(e.itemLevel-70+100)/200),[{itemHrid:r,dropRate:n*i,minCount:1,maxCount:1}]}function Wo(e,t){return 1.4*(1+t)*(10+e.itemLevel)}function jo(e){return 1*(10+e.itemLevel)}function Go(e){return 1.4*(10+e.itemLevel)}function Jo(e){return 1.6*(10+e.itemLevel)}const ln=[{type:"off_hand",hrid:"/items/eye_watch",enhanceLevel:10},{type:"head",hrid:"/items/red_culinary_hat",enhanceLevel:10},{type:"hands",hrid:"/items/enchanted_gloves",enhanceLevel:10},{type:"feet",hrid:"/items/collectors_boots",enhanceLevel:10},{type:"neck",hrid:"",enhanceLevel:void 0},{type:"earrings",hrid:"",enhanceLevel:void 0},{type:"ring",hrid:"",enhanceLevel:void 0},{type:"pouch",hrid:"",enhanceLevel:void 0}],du=Object.freeze({milking:["/items/processing_tea","/items/gathering_tea","/items/efficiency_tea"],foraging:["/items/processing_tea","/items/gathering_tea","/items/efficiency_tea"],woodcutting:["/items/processing_tea","/items/gathering_tea","/items/efficiency_tea"],cheesesmithing:["/items/wisdom_tea","/items/artisan_tea","/items/efficiency_tea"],crafting:["/items/wisdom_tea","/items/artisan_tea","/items/efficiency_tea"],tailoring:["/items/wisdom_tea","/items/artisan_tea","/items/efficiency_tea"],brewing:["/items/gourmet_tea","/items/artisan_tea","/items/efficiency_tea"],cooking:["/items/gourmet_tea","/items/artisan_tea","/items/efficiency_tea"],alchemy:["/items/wisdom_tea","/items/efficiency_tea","/items/catalytic_tea"],enhancing:["/items/wisdom_tea","/items/blessed_tea","/items/super_enhancing_tea"]}),mu=[{type:"experience",hrid:"/community_buff_types/experience",level:void 0},{type:"gathering_quantity",hrid:"/community_buff_types/gathering_quantity",level:void 0},{type:"production_efficiency",hrid:"/community_buff_types/production_efficiency",level:void 0},{type:"enhancing_speed",hrid:"/community_buff_types/enhancing_speed",level:void 0}],vu=[{type:"beginner",enabled:!1},{type:"novice",enabled:!1},{type:"adept",enabled:!1},{type:"veteran",enabled:!1},{type:"elite",enabled:!1},{type:"champion",enabled:!1}],Yo=5,Du=su("player",{state:()=>({config:es(),presets:yu(),presetIndex:_u()}),actions:{commit(){ts(this.presets)},setActionConfig(e,t){this.config=e,this.presets[t]=e,this.commit(),this.setPresetIndex(t)},switchTo(e){this.config=this.presets[e],this.setPresetIndex(e)},removePreset(e){this.presets.length<=1||(this.presets.splice(e,1),this.commit(),this.presetIndex===e?this.setPresetIndex(0):this.presetIndex>e&&this.setPresetIndex(this.presetIndex-1),this.config=this.presets[this.presetIndex])},setPresetIndex(e){this.presetIndex=e,rs(e),Ko()},isOverflow(){return this.presets.length>=Yo}}});function Ko(){qe().clearAllCaches(),Uo()}function Rn(e,t){const r=new Map;for(const a of Object.values(vr)){const o=Object.values(qe().gameData.itemDetailMap).filter(s=>{var c,l;return((c=s.equipmentDetail)==null?void 0:c.noncombatStats)&&Object.keys((l=s.equipmentDetail)==null?void 0:l.noncombatStats).length>0}).filter(s=>{var c;return((c=s.equipmentDetail)==null?void 0:c.type)===`/equipment_types/${a}_tool`}).find(s=>s.itemLevel===80);r.set(a,{action:a,playerLevel:100,tool:{type:`${a}_tool`,hrid:o==null?void 0:o.hrid,enhanceLevel:10},legs:{type:"legs",hrid:void 0,enhanceLevel:void 0},body:{type:"body",hrid:void 0,enhanceLevel:void 0},back:{type:"back",hrid:void 0,enhanceLevel:void 0},charm:{type:"charm",hrid:void 0,enhanceLevel:void 0},houseLevel:4,tea:structuredClone(du[a])})}const n=new Map;for(const a of Object.values(ln))n.set(a.type,{type:a.type,hrid:a.hrid,enhanceLevel:a.enhanceLevel});const i=new Map;for(const a of Object.values(mu))i.set(a.type,{type:a.type,hrid:a.hrid,level:a.level});const u=new Map;for(const a of Object.values(vu))u.set(a.type,{type:a.type,enabled:a.enabled});return{actionConfigMap:r,specialEquimentMap:n,communityBuffMap:i,achievementBuffMap:u,name:e,color:t}}const Xo="player-action-config",gu="player-action-config-presets";function Qo(){const e={actionConfigMap:new Map,specialEquimentMap:new Map,communityBuffMap:new Map,achievementBuffMap:new Map,name:"0",color:"#11BF11"};try{const t=JSON.parse(localStorage.getItem(Xo)||"{}");e.actionConfigMap=new Map(Object.entries(t.actionConfigMap||{})),e.specialEquimentMap=new Map(Object.entries(t.specialEquimentMap||{})),e.communityBuffMap=new Map(Object.entries(t.communityBuffMap||{})),e.achievementBuffMap=new Map(Object.entries(t.achievementBuffMap||{}))}catch{}return e}function es(){const e=yu(),t=Math.min(_u(),e.length-1);return e[t]}function yu(){const e=[];try{const t=JSON.parse(localStorage.getItem(gu)||"[]");for(const r of t){const n={name:r.name,color:r.color,actionConfigMap:new Map(Object.entries(r.actionConfigMap||{})),specialEquimentMap:new Map(Object.entries(r.specialEquimentMap||{})),communityBuffMap:new Map(Object.entries(r.communityBuffMap||{})),achievementBuffMap:new Map(Object.entries(r.achievementBuffMap||{}))};e.push(n)}e.length===0&&e.push(Qo())}catch{}return e.length===0&&e.push(Rn("0","#11BF11")),e}function ts(e){const t=e.map(r=>{const n={};for(const[i,u]of Object.entries(r))u instanceof Map?n[i]=Object.fromEntries(u.entries()):n[i]=u;return n});localStorage.setItem(gu,JSON.stringify(t))}const wu="player-action-preset-index";function _u(){const e=localStorage.getItem(wu);return e?Number.parseInt(e,10):0}function rs(e){localStorage.setItem(wu,String(e))}function Dr(){return Du(ou)}function ns(e,t){Dr().setActionConfig(e,t),Dr().commit()}let br=structuredClone(Re(Dr().config));const or=structuredClone(Re(Dr().config));let fn=[],Eu=[],Fu=[],ee={};bt(()=>qe().gameData,()=>{qe().gameData&&(fn=Object.freeze(structuredClone(Object.values(Re(qe().gameData.itemDetailMap)))).filter(e=>{var t,r;return((t=e.equipmentDetail)==null?void 0:t.noncombatStats)&&Object.keys((r=e.equipmentDetail)==null?void 0:r.noncombatStats).length>0}),Eu=Object.freeze(structuredClone(Object.values(Re(qe().gameData.itemDetailMap)))).filter(e=>e.equipmentDetail),Fu=Object.freeze(structuredClone(Object.values(Re(qe().gameData.itemDetailMap)))).filter(e=>e.categoryHrid==="/item_categories/drink"),is(),us(),Cu())},{immediate:!0});bt(()=>Dr().config,e=>{br=structuredClone(Re(e)),Cu()},{immediate:!0});function is(){for(const e of Object.values(vr)){const t=bu(e).find(r=>r.itemLevel===80);or.actionConfigMap.set(e,{action:e,playerLevel:100,tool:{type:`${e}_tool`,hrid:t==null?void 0:t.hrid,enhanceLevel:10},legs:{type:"legs",hrid:void 0,enhanceLevel:void 0},body:{type:"body",hrid:void 0,enhanceLevel:void 0},back:{type:"back",hrid:void 0,enhanceLevel:void 0},charm:{type:"charm",hrid:void 0,enhanceLevel:void 0},houseLevel:4,tea:structuredClone(du[e])})}}function us(){const e=new Map;for(const t of Object.values(ln))or.specialEquimentMap.set(t.type,{type:t.type,hrid:t.hrid,enhanceLevel:t.enhanceLevel});return e}function Kn(e){return br.actionConfigMap.get(e)??or.actionConfigMap.get(e)}function bu(e){return fn.filter(t=>{var r;return((r=t.equipmentDetail)==null?void 0:r.type)===`/equipment_types/${e}_tool`}).sort((t,r)=>t.itemLevel-r.itemLevel)}function rp(){return Eu}function Or(e,t){return fn.filter(r=>Object.keys(r.equipmentDetail.noncombatStats).find(n=>n.includes(e))).filter(r=>jn(r)===t)}function as(){return fn.filter(e=>ln.find(t=>t.type===jn(e)))}function os(e){return as().filter(t=>jn(t)===e)}function ss(e){return br.specialEquimentMap.get(e)??or.specialEquimentMap.get(e)}function cs(e){return br.communityBuffMap.get(e)??or.communityBuffMap.get(e)}function ls(e){return br.achievementBuffMap.get(e)??or.achievementBuffMap.get(e)}function fs(e){return Fu.filter(t=>{var r;return(r=t.consumableDetail)==null?void 0:r.usableInActionTypeMap[`/action_types/${e}`]}).sort((t,r)=>t.itemLevel-r.itemLevel).sort((t,r)=>Number(t.hrid.includes(e))-Number(r.hrid.includes(e)))}function Cr(e){return(Kn(e.action).tea||[]).map(t=>({hrid:t,count:3600/300/e.consumePH*(1+hs()),marketPrice:le(t).ask}))}function Cu(){var t,r,n;if(!_t())return;ee={};const e=_t().enhancementLevelTotalBonusMultiplierTable;for(const i of uo){const u=ss(i);if(u&&u.hrid){const a=kt(u.hrid);(t=a.equipmentDetail)!=null&&t.noncombatStats&&Object.entries(a.equipmentDetail.noncombatStats).forEach(([o,s])=>{var l;const c=(l=a.equipmentDetail)==null?void 0:l.noncombatEnhancementBonuses[o];ee[o]=(ee[o]||0)+s+(c||0)*e[u.enhanceLevel||0]})}}for(const i of ao){const u=cs(i);if(u&&u.hrid&&u.level){const a=On(u.hrid),o=a.buff;for(const s in a.usableInActionTypeMap){const c=li(s);o.typeHrid==="/buff_types/action_speed"&&(ee[`${c}Speed`]=(ee[`${c}Speed`]||0)+(o.flatBoost+o.flatBoostLevelBonus*(u.level-1))),o.typeHrid==="/buff_types/wisdom"&&(ee[`${c}Experience`]=(ee[`${c}Experience`]||0)+(o.flatBoost+o.flatBoostLevelBonus*(u.level-1))),o.typeHrid==="/buff_types/gathering"&&(ee[`${c}Gathering`]=(ee[`${c}Gathering`]||0)+(o.flatBoost+o.flatBoostLevelBonus*(u.level-1))),o.typeHrid==="/buff_types/efficiency"&&(ee[`${c}Efficiency`]=(ee[`${c}Efficiency`]||0)+(o.flatBoost+o.flatBoostLevelBonus*(u.level-1)))}}}for(const i of oo){const u=ls(i);if(!(u!=null&&u.enabled))continue;const a=$n(`/achievement_tiers/${i}`);if(!a)continue;const o=a.buff;for(const s in a.usableInActionTypeMap){const c=li(s);vr.includes(c)&&(o.typeHrid==="/buff_types/action_speed"&&(ee[`${c}Speed`]=(ee[`${c}Speed`]||0)+o.flatBoost+o.ratioBoost),o.typeHrid==="/buff_types/wisdom"&&(ee[`${c}Experience`]=(ee[`${c}Experience`]||0)+o.flatBoost+o.ratioBoost),o.typeHrid==="/buff_types/gathering"&&(ee[`${c}Gathering`]=(ee[`${c}Gathering`]||0)+o.flatBoost+o.ratioBoost),o.typeHrid==="/buff_types/efficiency"&&(ee[`${c}Efficiency`]=(ee[`${c}Efficiency`]||0)+o.flatBoost+o.ratioBoost),o.typeHrid==="/buff_types/rare_find"&&(ee[`${c}RareFind`]=(ee[`${c}RareFind`]||0)+o.flatBoost+o.ratioBoost),o.typeHrid==="/buff_types/enhancing_success"&&(ee[`${c}Success`]=(ee[`${c}Success`]||0)+o.flatBoost+o.ratioBoost))}}for(const i of vr){const u=Kn(i);for(const a of Object.values(u))if(a&&typeof a=="object"&&!Array.isArray(a)&&a.hrid){const o=kt(a.hrid);(r=o.equipmentDetail)!=null&&r.noncombatStats&&Object.entries(o.equipmentDetail.noncombatStats).forEach(([s,c])=>{var h;const l=(h=o.equipmentDetail)==null?void 0:h.noncombatEnhancementBonuses[s];ee[s]=(ee[s]||0)+c+(l||0)*e[a.enhanceLevel||0]})}Object.keys(ci[i]).forEach(a=>{let o=i;(a==="RareFind"||a==="Experience")&&(o="skilling"),ee[`${o}${a}`]=(ee[`${o}${a}`]||0)+(ci[i][a]||0)*(u.houseLevel||0)});for(const a of u.tea||[]){const o=kt(a);(n=o.consumableDetail)!=null&&n.buffs&&o.consumableDetail.buffs.forEach(s=>{s.typeHrid===`/buff_types/${i}_level`&&(ee[`${i}Level`]=(ee[`${i}Level`]||0)+s.flatBoost*(1+(ee.drinkConcentration||0))),s.typeHrid==="/buff_types/efficiency"&&(ee[`${i}Efficiency`]=(ee[`${i}Efficiency`]||0)+s.flatBoost*(1+(ee.drinkConcentration||0))),s.typeHrid==="/buff_types/artisan"&&(ee[`${i}Artisan`]=(ee[`${i}Artisan`]||0)+s.flatBoost*(1+(ee.drinkConcentration||0))),s.typeHrid==="/buff_types/action_level"&&(ee[`${i}Level`]=(ee[`${i}Level`]||0)-s.flatBoost),s.typeHrid==="/buff_types/gourmet"&&(ee[`${i}Gourmet`]=(ee[`${i}Gourmet`]||0)+s.flatBoost*(1+(ee.drinkConcentration||0))),s.typeHrid===`/buff_types/${i}_success`&&(ee[`${i}Success`]=(ee[`${i}Success`]||0)+s.ratioBoost*(1+(ee.drinkConcentration||0))),s.typeHrid==="/buff_types/blessed"&&(ee[`${i}Blessed`]=(ee[`${i}Blessed`]||0)+s.flatBoost*(1+(ee.drinkConcentration||0))),s.typeHrid==="/buff_types/action_speed"&&(ee[`${i}Speed`]=(ee[`${i}Speed`]||0)+s.flatBoost*(1+(ee.drinkConcentration||0))),s.typeHrid==="/buff_types/gathering"&&(ee[`${i}Gathering`]=(ee[`${i}Gathering`]||0)+s.flatBoost*(1+(ee.drinkConcentration||0))),s.typeHrid==="/buff_types/processing"&&(ee[`${i}Processing`]=(ee[`${i}Processing`]||0)+s.flatBoost*(1+(ee.drinkConcentration||0))),s.typeHrid==="/buff_types/wisdom"&&(ee[`${i}Experience`]=(ee[`${i}Experience`]||0)+s.flatBoost*(1+(ee.drinkConcentration||0)))})}}}function nt(e,t){return(ee[`${e}${t}`]||0)+(ee[`skilling${t}`]||0)}function hs(){return ee.drinkConcentration||0}function Xn(e){return Kn(e).playerLevel+nt(e,"Level")}function ps(e){const r=Xn("alchemy");return r>=e.itemLevel?0:-.9*(1-r/e.itemLevel)}function ds(e){const t="enhancing",r=Xn(t),n=r>=e.itemLevel?(r-e.itemLevel)*5e-4:-.5*(1-r/e.itemLevel),i=nt(t,"Success");return n+i}const ms=su("price",{state:()=>({map:vs(),activated:gs()}),actions:{commit(){Ds(this.map),qe().clearAllCaches()},setPrice(e){var r,n;let t=this.map.get(tr(e.hrid,e.level));t||(t={hrid:e.hrid,level:e.level,ask:{manual:!1,manualPrice:void 0},bid:{manual:!1,manualPrice:void 0}},this.map.set(tr(e.hrid,e.level),t)),Object.assign(t.ask,e.ask),Object.assign(t.bid,e.bid);for(const[i,u]of this.map)!((r=u.ask)!=null&&r.manual)&&!((n=u.bid)!=null&&n.manual)&&this.map.delete(i)},deletePrice(e){this.map.delete(tr(e.hrid,e.level)),this.commit()},setActivated(e){this.activated=e,ys(String(e)),qe().clearAllCaches()}}}),Au="price-list";function vs(){const e=new Map;try{const t=JSON.parse(localStorage.getItem(Au)||"[]");for(const r of t)e.set(tr(r.hrid,r.level),r)}catch{}return e}function Ds(e){const t=Array.from(e.values());localStorage.setItem(Au,JSON.stringify(t))}const Bu="price-activated";function gs(){return localStorage.getItem(Bu)==="true"}function ys(e){localStorage.setItem(Bu,e)}function tr(e,t){return t?`${e}-${t}`:e}function Et(){return ms(ou)}async function np(e){await new Promise(r=>setTimeout(r,0));let t=structuredClone(Array.from(Re(Et().map).values()));return e.name&&(t=t.filter(r=>ar(kt(r.hrid).name).toLocaleLowerCase().includes(e.name.toLowerCase()))),{list:t.slice((e.currentPage-1)*e.size,e.currentPage*e.size),total:t.length}}function ip(e,t,r){wi(e,t,"ingredient"),wi(e,r,"product"),Et().commit()}function wi(e,t,r){for(let n=0;n<t.length;n++){const i=e[`${r}ListWithPrice`][n].hrid,u=e[`${r}ListWithPrice`][n].level,a=ws(i,u),o=!!t[n].manual;(o||a)&&Et().setPrice({hrid:i,level:u,[r==="ingredient"?"ask":"bid"]:{manual:o,manualPrice:t[n].price}})}}function up(e){Et().setPrice(e),Et().commit()}const Ar=structuredClone(Re(Et().$state));bt(()=>Et().map,()=>{Ar.map=Object.freeze(structuredClone(Re(Et().map)))},{deep:!0});bt(()=>Et().activated,()=>{Ar.activated=Et().activated});function jr(e,t){return _s()?Ar.map.get(tr(e,t)):null}function ws(e,t){return Ar.map.has(tr(e,t))}function _s(){return Ar.activated}function ap(e,t,r){var u,a,o,s;const n=(a=(u=jr(e,t))==null?void 0:u[r])==null?void 0:a.manual,i=(s=(o=jr(e,t))==null?void 0:o[r])==null?void 0:s.manualPrice;return n?i:le(e,t)[r]}class Qn{constructor(t){ce(this,"hrid");ce(this,"project");ce(this,"action");ce(this,"ingredientPriceConfigList");ce(this,"productPriceConfigList");ce(this,"catalystRank");ce(this,"result");ce(this,"favorite");ce(this,"hasManualPrice",!1);ce(this,"config");ce(this,"enhanceLevel",0);ce(this,"sellTaxFactor",.98);ce(this,"_item");ce(this,"_key");ce(this,"_ingredientListWithPrice");ce(this,"_productListWithPrice");ce(this,"_actionsPH");ce(this,"_consumePH");ce(this,"_gainPH");const{hrid:r,project:n,action:i,ingredientPriceConfigList:u=[],productPriceConfigList:a=[],catalystRank:o}=t;this.config=t,this.hrid=r,this.project=n,this.action=i,this.ingredientPriceConfigList=u,this.productPriceConfigList=a,this.catalystRank=o,typeof t.sellTaxFactor=="number"&&(this.sellTaxFactor=t.sellTaxFactor)}setSellTaxFactor(t){return this.sellTaxFactor=t,this}get item(){return this._item||(this._item=kt(this.hrid)),this._item}get id(){return`${this.hrid}-${this.project}-${this.action}`}get key(){return this._key||(this._key=this.item.hrid.substring(this.item.hrid.lastIndexOf("/")+1)),this._key}get efficiency(){return 1+Math.max(0,(this.playerLevel-this.actionLevel)*.01)+nt(this.action,"Efficiency")}get speed(){return 1+nt(this.action,"Speed")}get isEquipment(){return this.item.categoryHrid==="/item_categories/equipment"}handlePrice(t,r,n){var u,a,o,s;const i=[];for(let c=0;c<t.length;c++){const l=t[c],h=r[c],p=(a=(u=jr(l.hrid,l.level))==null?void 0:u[n])==null?void 0:a.manual,d=(s=(o=jr(l.hrid,l.level))==null?void 0:o[n])==null?void 0:s.manualPrice;!(h!=null&&h.immutable)&&p&&(this.hasManualPrice=!0);const v=h!=null&&h.immutable?h.price:p?d:l.marketPrice;i.push(Object.assign(l,{price:v}))}return i}get ingredientListWithPrice(){if(!this._ingredientListWithPrice){const t=this.ingredientList.map(r=>({...r,countPH:r.count*this.consumePH,counterCountPH:r.counterCount?r.counterCount*this.consumePH:void 0}));this._ingredientListWithPrice=this.handlePrice(t,this.ingredientPriceConfigList,"ask")}return this._ingredientListWithPrice}get productListWithPrice(){if(!this._productListWithPrice){const t=this.productList.map(r=>({...r,countPH:r.count*this.gainPH*(r.rate||1),counterCountPH:r.counterCount?r.counterCount*this.gainPH*(r.rate||1):void 0}));this._productListWithPrice=this.handlePrice(t,this.productPriceConfigList,"bid")}return this._productListWithPrice}get cost(){return this.ingredientListWithPrice.reduce((t,r)=>t+r.count*r.price,0)}get cost4Mat(){return this.ingredientListWithPrice.slice(1).reduce((t,r)=>t+r.count*r.price,0)}get gainEscapePH(){const t=this.ingredientListWithPrice[0],r=this.productListWithPrice[1];return t?!r||r.hrid!==t.hrid?t.countPH*t.price:t.countPH*r.price*this.sellTaxFactor:0}get income(){return this.productListWithPrice.reduce((r,n)=>{const i=n.hrid===Er?this.sellTaxFactor:1;return r+n.count*(n.rate||1)*n.price/i},0)*this.sellTaxFactor}get actionsPH(){return this._actionsPH===void 0&&(this._actionsPH=60*60*1e9/this.timeCost*this.efficiency),this._actionsPH}get consumePH(){return this._consumePH===void 0&&(this._consumePH=this.actionsPH),this._consumePH}get gainPH(){return this._gainPH===void 0&&(this._gainPH=this.actionsPH*this.successRate),this._gainPH}get valid(){for(const t of this.ingredientListWithPrice)if(t.price===-1)return!1;return!0}get actionItem(){}get calculator(){return this}get exp(){var t,r;return(((r=(t=this.actionItem)==null?void 0:t.experienceGain)==null?void 0:r.value)||0)*(1+nt(this.action,"Experience"))}run(){const t=this.exp*this.actionsPH,r=this.cost*this.consumePH,n=this.cost4Mat*this.consumePH,i=this.income*this.gainPH;let u=i-r;const a=u/this.actionsPH;let o=r?u/r:0;this.valid||(u=-1/24,o=-1);const s=r-this.gainEscapePH,c=s/u;return this.result={hrid:this.item.hrid,name:ar(this.item.name),project:this.project,successRate:this.successRate,costPH:r,cost4MatPH:n,consumePH:this.consumePH,gainPH:this.gainPH,incomePH:i,profitPH:u,profitRate:o,costPHFormat:It(r),cost4MatPHFormat:It(n),incomePHFormat:It(i),profitPHFormat:It(u),profitPDFormat:It(u*24),profitPP:a,profitPPFormat:It(a),profitRateFormat:Qt(o),efficiencyFormat:Qt(this.efficiency-1),speedFormat:Qt(this.speed-1),timeCostFormat:Lo(this.timeCost),successRateFormat:Qt(this.successRate),expPH:t,expPHFormat:It(t),cost4EnhancePHFormat:It(s),risk:c,riskFormat:Zr(c,2)},this}get playerLevel(){return Xn(this.action)}get essenceRatio(){return nt(this.action,"EssenceFind")||0}get rareRatio(){return nt(this.action,"RareFind")||0}get successRate(){return 1}}class ei extends Qn{get actionLevel(){return this.item.itemLevel}constructor(t){super({...t,action:"alchemy"})}get catalystRatio(){let t=nt(this.action,"Success")||0;return t+=this.catalystRank?this.catalystRank*.1+.05:0,t}get successRate(){return Math.min(1,this.baseSuccessRate*(1+ps(this.item)+this.catalystRatio))}get exp(){return this.baseExp*(1+nt(this.action,"Experience"))}}class op extends ei{constructor(r){super({...r,project:ar("转化")});ce(this,"_ingredientList");ce(this,"_productList")}get className(){return"TransmuteCalculator"}get catalyst(){if(this.catalystRank===1)return"catalyst_of_transmutation";if(this.catalystRank===2)return"prime_catalyst"}get available(){var r;return((r=this.item.alchemyDetail)==null?void 0:r.transmuteDropTable)!=null}get timeCost(){return bn()/this.speed}get baseSuccessRate(){return this.item.alchemyDetail.transmuteSuccessRate}get baseExp(){return Jo(this.item)}get ingredientList(){if(!this._ingredientList){let r=[{hrid:this.item.hrid,count:this.item.alchemyDetail.bulkMultiplier*(1-this.sameItemCounter),counterCount:this.item.alchemyDetail.bulkMultiplier*this.sameItemCounter,marketPrice:le(this.item.hrid).ask},{hrid:Er,count:this.item.alchemyDetail.bulkMultiplier,marketPrice:Math.max(Math.floor(this.item.sellPrice/5),50)}];this.catalyst&&r.push({hrid:`/items/${this.catalyst}`,count:this.successRate,marketPrice:le(`/items/${this.catalyst}`).ask}),r=r.concat(Cr(this)),this._ingredientList=r}return this._ingredientList}get productList(){if(!this._productList){const r=this.item.alchemyDetail.transmuteDropTable;this._productList=r.map(n=>({hrid:n.itemHrid,count:(n.maxCount-(n.itemHrid===this.item.hrid?n.maxCount:0))*this.item.alchemyDetail.bulkMultiplier,counterCount:(n.itemHrid===this.item.hrid?n.maxCount:0)*this.item.alchemyDetail.bulkMultiplier,rate:n.dropRate,marketPrice:le(n.itemHrid).bid})).concat(Jn(this.item,bn()).map(n=>({hrid:n.itemHrid,count:(n.minCount+n.maxCount)/2/this.successRate,counterCount:0,rate:n.dropRate*(1+this.rareRatio),marketPrice:le(n.itemHrid).bid}))).concat(Yn(this.item,bn()).map(n=>({hrid:n.itemHrid,count:(n.minCount+n.maxCount)/2/this.successRate,counterCount:0,rate:n.dropRate*(1+this.essenceRatio),marketPrice:le(n.itemHrid).bid})))}return this._productList}get sameItemCounter(){const r=this.item.alchemyDetail.transmuteDropTable.find(n=>n.itemHrid===this.item.hrid);return r?Math.min(1,r.maxCount*(r.dropRate||1)*this.successRate):0}}class Es extends ei{constructor(r){super({...r,project:ar("分解")});ce(this,"enhanceLevel");ce(this,"_ingredientList");ce(this,"_productList");this.enhanceLevel=r.enhanceLevel||0}get className(){return"DecomposeCalculator"}get catalyst(){if(this.catalystRank===1)return"catalyst_of_decomposition";if(this.catalystRank===2)return"prime_catalyst"}get available(){var r;return((r=this.item.alchemyDetail)==null?void 0:r.decomposeItems)!=null}get timeCost(){return Cn()/this.speed}get baseSuccessRate(){return .6}get baseExp(){return Go(this.item)}get ingredientList(){if(!this._ingredientList){let r=[{hrid:this.item.hrid,count:this.item.alchemyDetail.bulkMultiplier,marketPrice:le(this.item.hrid,this.enhanceLevel).ask,level:this.enhanceLevel},{hrid:Er,count:this.item.alchemyDetail.bulkMultiplier,marketPrice:50+5*this.item.itemLevel}];this.catalyst&&r.push({hrid:`/items/${this.catalyst}`,count:this.successRate,marketPrice:le(`/items/${this.catalyst}`).ask}),r=r.concat(Cr(this)),this._ingredientList=r}return this._ingredientList}get productList(){if(!this._productList){let r=[];this.enhanceLevel>0&&r.push({hrid:"/items/enhancing_essence",count:ko(this.item,this.enhanceLevel),marketPrice:le("/items/enhancing_essence").bid}),r=r.concat(this.item.alchemyDetail.decomposeItems.map(n=>({hrid:n.itemHrid,count:n.count*this.item.alchemyDetail.bulkMultiplier,marketPrice:le(n.itemHrid).bid}))).concat(Jn(this.item,Cn()).map(n=>({hrid:n.itemHrid,rate:n.dropRate*(1+this.rareRatio),count:(n.minCount+n.maxCount)/2/this.successRate,marketPrice:le(n.itemHrid).bid}))).concat(Yn(this.item,Cn()).map(n=>({hrid:n.itemHrid,count:(n.minCount+n.maxCount)/2/this.successRate,rate:n.dropRate*(1+this.essenceRatio),marketPrice:le(n.itemHrid).bid}))),this._productList=r}return this._productList}}class sp extends ei{constructor(r){super({...r,project:ar("点金")});ce(this,"_ingredientList");ce(this,"_productList")}get className(){return"CoinifyCalculator"}get catalyst(){if(this.catalystRank===1)return"catalyst_of_coinification";if(this.catalystRank===2)return"prime_catalyst"}get available(){var r;return(r=this.item.alchemyDetail)==null?void 0:r.isCoinifiable}get timeCost(){return An()/this.speed}get baseSuccessRate(){return .7}get baseExp(){return jo(this.item)}get ingredientList(){if(!this._ingredientList){let r=[{hrid:this.item.hrid,count:this.item.alchemyDetail.bulkMultiplier,marketPrice:le(this.item.hrid).ask}];this.catalyst&&r.push({hrid:`/items/${this.catalyst}`,count:this.successRate,marketPrice:le(`/items/${this.catalyst}`).ask}),r=r.concat(Cr(this)),this._ingredientList=r}return this._ingredientList}get productList(){return this._productList||(this._productList=[{hrid:Er,count:1,marketPrice:this.item.sellPrice*5*this.item.alchemyDetail.bulkMultiplier}].concat(Jn(this.item,An()).map(r=>({hrid:r.itemHrid,count:(r.minCount+r.maxCount)/2/this.successRate,rate:r.dropRate*(1+this.rareRatio),marketPrice:le(r.itemHrid).bid}))).concat(Yn(this.item,An()).map(r=>({hrid:r.itemHrid,count:(r.minCount+r.maxCount)/2/this.successRate,rate:r.dropRate*(1+this.essenceRatio),marketPrice:le(r.itemHrid).bid})))),this._productList}}function Gr(){return Gr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gr.apply(null,arguments)}var Mu={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function xu(e,t){if(Jr(e,t))return e[t];throw typeof e[t]=="function"&&Fs(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function Su(e,t,r){if(Jr(e,t))return e[t]=r,r;throw new Error('No access to property "'+t+'"')}function Jr(e,t){return!bs(e)&&!Array.isArray(e)?!1:gr(Cs,t)?!0:!(t in Object.prototype||t in Function.prototype)}function Fs(e,t){return e==null||typeof e[t]!="function"||gr(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:gr(As,t)?!0:!(t in Object.prototype||t in Function.prototype)}function bs(e){return typeof e=="object"&&e&&e.constructor===Object}var Cs={length:!0,name:!0},As={toString:!0,valueOf:!0,toLocaleString:!0};class Bs{constructor(t){this.wrappedObject=t,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(t=>this.has(t)).values()}get(t){return xu(this.wrappedObject,t)}set(t,r){return Su(this.wrappedObject,t,r),this}has(t){return Jr(this.wrappedObject,t)&&t in this.wrappedObject}entries(){return Ms(this.keys(),t=>[t,this.get(t)])}forEach(t){for(var r of this.keys())t(this.get(r),r,this)}delete(t){Jr(this.wrappedObject,t)&&delete this.wrappedObject[t]}clear(){for(var t of this.keys())this.delete(t)}get size(){return Object.keys(this.wrappedObject).length}}function Ms(e,t){return{next:()=>{var r=e.next();return r.done?r:{value:t(r.value),done:!1}}}}function Be(e){return typeof e=="number"}function Se(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function xs(e){return typeof e=="bigint"}function Nu(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function Tu(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function Lu(e){return e&&e.constructor.prototype.isUnit===!0||!1}function pt(e){return typeof e=="string"}var Ce=Array.isArray;function Te(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function Yr(e){return Array.isArray(e)||Te(e)}function Ss(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Ns(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Iu(e){return e&&e.constructor.prototype.isRange===!0||!1}function hn(e){return e&&e.constructor.prototype.isIndex===!0||!1}function Ts(e){return typeof e=="boolean"}function Ls(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function Is(e){return e&&e.constructor.prototype.isHelp===!0||!1}function Ps(e){return typeof e=="function"}function Os(e){return e instanceof Date}function $s(e){return e instanceof RegExp}function ti(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!Nu(e)&&!Tu(e))}function Rs(e){return e?e instanceof Map||e instanceof Bs||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}function zs(e){return e===null}function qs(e){return e===void 0}function Hs(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Us(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function ks(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Vs(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function Zs(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ws(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function js(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Gs(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function Js(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ys(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ks(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function Xs(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Qs(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function ec(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function tc(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function rc(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function nc(e){return e&&e.constructor.prototype.isChain===!0||!1}function wt(e){var t=typeof e;return t==="object"?e===null?"null":Se(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function Ae(e){var t=typeof e;if(t==="number"||t==="bigint"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(r){return Ae(r)});if(e instanceof Date)return new Date(e.valueOf());if(Se(e))return e;if(ti(e))return ic(e,Ae);if(t==="function")return e;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function ic(e,t){var r={};for(var n in e)gr(e,n)&&(r[n]=t(e[n]));return r}function uc(e,t){for(var r in t)gr(t,r)&&(e[r]=t[r]);return e}function Rt(e,t){var r,n,i;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;n++)if(!Rt(e[n],t[n]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e)if(!(r in t)||!Rt(e[r],t[r]))return!1;for(r in t)if(!(r in e))return!1;return!0}else return e===t}}function gr(e,t){return e&&Object.hasOwnProperty.call(e,t)}function ac(e,t){for(var r={},n=0;n<t.length;n++){var i=t[n],u=e[i];u!==void 0&&(r[i]=u)}return r}var oc=["Matrix","Array"],sc=["number","BigNumber","Fraction"],ot=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Mu)};Gr(ot,Mu,{MATRIX_OPTIONS:oc,NUMBER_OPTIONS:sc});function _i(){return!0}function ct(){return!1}function Yt(){}const Ei="Argument is not a typed-function.";function Pu(){function e(_){return typeof _=="object"&&_!==null&&_.constructor===Object}const t=[{name:"number",test:function(_){return typeof _=="number"}},{name:"string",test:function(_){return typeof _=="string"}},{name:"boolean",test:function(_){return typeof _=="boolean"}},{name:"Function",test:function(_){return typeof _=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(_){return _ instanceof Date}},{name:"RegExp",test:function(_){return _ instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(_){return _===null}},{name:"undefined",test:function(_){return _===void 0}}],r={name:"any",test:_i,isAny:!0};let n,i,u=0,a={createCount:0};function o(_){const A=n.get(_);if(A)return A;let S='Unknown type "'+_+'"';const $=_.toLowerCase();let q;for(q of i)if(q.toLowerCase()===$){S+='. Did you mean "'+q+'" ?';break}throw new TypeError(S)}function s(_){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const S=A?o(A).index:i.length,$=[];for(let R=0;R<_.length;++R){if(!_[R]||typeof _[R].name!="string"||typeof _[R].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const G=_[R].name;if(n.has(G))throw new TypeError('Duplicate type name "'+G+'"');$.push(G),n.set(G,{name:G,test:_[R].test,isAny:_[R].isAny,index:S+R,conversionsTo:[]})}const q=i.slice(S);i=i.slice(0,S).concat($).concat(q);for(let R=S+$.length;R<i.length;++R)n.get(i[R]).index=R}function c(){n=new Map,i=[],u=0,s([r],!1)}c(),s(t);function l(){let _;for(_ of i)n.get(_).conversionsTo=[];u=0}function h(_){const A=i.filter(S=>{const $=n.get(S);return!$.isAny&&$.test(_)});return A.length?A:["any"]}function p(_){return _&&typeof _=="function"&&"_typedFunctionData"in _}function d(_,A,S){if(!p(_))throw new TypeError(Ei);const $=S&&S.exact,q=Array.isArray(A)?A.join(","):A,R=F(q),G=m(R);if(!$||G in _.signatures){const ge=_._typedFunctionData.signatureMap.get(G);if(ge)return ge}const k=R.length;let J;if($){J=[];let ge;for(ge in _.signatures)J.push(_._typedFunctionData.signatureMap.get(ge))}else J=_._typedFunctionData.signatures;for(let ge=0;ge<k;++ge){const Fe=R[ge],Oe=[];let et;for(et of J){const Qe=b(et.params,ge);if(!(!Qe||Fe.restParam&&!Qe.restParam)){if(!Qe.hasAny){const dt=g(Qe);if(Fe.types.some(mt=>!dt.has(mt.name)))continue}Oe.push(et)}}if(J=Oe,J.length===0)break}let H;for(H of J)if(H.params.length<=k)return H;throw new TypeError("Signature not found (signature: "+(_.name||"unnamed")+"("+m(R,", ")+"))")}function v(_,A,S){return d(_,A,S).implementation}function f(_,A){const S=o(A);if(S.test(_))return _;const $=S.conversionsTo;if($.length===0)throw new Error("There are no conversions to "+A+" defined.");for(let q=0;q<$.length;q++)if(o($[q].from).test(_))return $[q].convert(_);throw new Error("Cannot convert "+_+" to "+A)}function m(_){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return _.map(S=>S.name).join(A)}function D(_){const A=_.indexOf("...")===0,$=(A?_.length>3?_.slice(3):"any":_).split("|").map(k=>o(k.trim()));let q=!1,R=A?"...":"";return{types:$.map(function(k){return q=k.isAny||q,R+=k.name+"|",{name:k.name,typeIndex:k.index,test:k.test,isAny:k.isAny,conversion:null,conversionIndex:-1}}),name:R.slice(0,-1),hasAny:q,hasConversion:!1,restParam:A}}function E(_){const A=_.types.map(G=>G.name),S=Z(A);let $=_.hasAny,q=_.name;const R=S.map(function(G){const k=o(G.from);return $=k.isAny||$,q+="|"+G.from,{name:G.from,typeIndex:k.index,test:k.test,isAny:k.isAny,conversion:G,conversionIndex:G.index}});return{types:_.types.concat(R),name:q,hasAny:$,hasConversion:R.length>0,restParam:_.restParam}}function g(_){return _.typeSet||(_.typeSet=new Set,_.types.forEach(A=>_.typeSet.add(A.name))),_.typeSet}function F(_){const A=[];if(typeof _!="string")throw new TypeError("Signatures must be strings");const S=_.trim();if(S==="")return A;const $=S.split(",");for(let q=0;q<$.length;++q){const R=D($[q].trim());if(R.restParam&&q!==$.length-1)throw new SyntaxError('Unexpected rest parameter "'+$[q]+'": only allowed for the last parameter');if(R.types.length===0)return null;A.push(R)}return A}function w(_){const A=O(_);return A?A.restParam:!1}function y(_){if(!_||_.types.length===0)return _i;if(_.types.length===1)return o(_.types[0].name).test;if(_.types.length===2){const A=o(_.types[0].name).test,S=o(_.types[1].name).test;return function(q){return A(q)||S(q)}}else{const A=_.types.map(function(S){return o(S.name).test});return function($){for(let q=0;q<A.length;q++)if(A[q]($))return!0;return!1}}}function B(_){let A,S,$;if(w(_)){A=Ve(_).map(y);const q=A.length,R=y(O(_)),G=function(k){for(let J=q;J<k.length;J++)if(!R(k[J]))return!1;return!0};return function(J){for(let H=0;H<A.length;H++)if(!A[H](J[H]))return!1;return G(J)&&J.length>=q+1}}else return _.length===0?function(R){return R.length===0}:_.length===1?(S=y(_[0]),function(R){return S(R[0])&&R.length===1}):_.length===2?(S=y(_[0]),$=y(_[1]),function(R){return S(R[0])&&$(R[1])&&R.length===2}):(A=_.map(y),function(R){for(let G=0;G<A.length;G++)if(!A[G](R[G]))return!1;return R.length===A.length})}function b(_,A){return A<_.length?_[A]:w(_)?O(_):null}function M(_,A){const S=b(_,A);return S?g(S):new Set}function C(_){return _.conversion===null||_.conversion===void 0}function P(_,A){const S=new Set;return _.forEach($=>{const q=M($.params,A);let R;for(R of q)S.add(R)}),S.has("any")?["any"]:Array.from(S)}function U(_,A,S){let $,q;const R=_||"unnamed";let G=S,k;for(k=0;k<A.length;k++){const Fe=[];if(G.forEach(Oe=>{const et=b(Oe.params,k),Qe=y(et);(k<Oe.params.length||w(Oe.params))&&Qe(A[k])&&Fe.push(Oe)}),Fe.length===0){if(q=P(G,k),q.length>0){const Oe=h(A[k]);return $=new TypeError("Unexpected type of argument in function "+R+" (expected: "+q.join(" or ")+", actual: "+Oe.join(" | ")+", index: "+k+")"),$.data={category:"wrongType",fn:R,index:k,actual:Oe,expected:q},$}}else G=Fe}const J=G.map(function(Fe){return w(Fe.params)?1/0:Fe.params.length});if(A.length<Math.min.apply(null,J))return q=P(G,k),$=new TypeError("Too few arguments in function "+R+" (expected: "+q.join(" or ")+", index: "+A.length+")"),$.data={category:"tooFewArgs",fn:R,index:A.length,expected:q},$;const H=Math.max.apply(null,J);if(A.length>H)return $=new TypeError("Too many arguments in function "+R+" (expected: "+H+", actual: "+A.length+")"),$.data={category:"tooManyArgs",fn:R,index:A.length,expectedLength:H},$;const ge=[];for(let Fe=0;Fe<A.length;++Fe)ge.push(h(A[Fe]).join("|"));return $=new TypeError('Arguments of type "'+ge.join(", ")+'" do not match any of the defined signatures of function '+R+"."),$.data={category:"mismatch",actual:ge},$}function K(_){let A=i.length+1;for(let S=0;S<_.types.length;S++)C(_.types[S])&&(A=Math.min(A,_.types[S].typeIndex));return A}function x(_){let A=u+1;for(let S=0;S<_.types.length;S++)C(_.types[S])||(A=Math.min(A,_.types[S].conversionIndex));return A}function T(_,A){if(_.hasAny){if(!A.hasAny)return 1}else if(A.hasAny)return-1;if(_.restParam){if(!A.restParam)return 1}else if(A.restParam)return-1;if(_.hasConversion){if(!A.hasConversion)return 1}else if(A.hasConversion)return-1;const S=K(_)-K(A);if(S<0)return-1;if(S>0)return 1;const $=x(_)-x(A);return $<0?-1:$>0?1:0}function N(_,A){const S=_.params,$=A.params,q=O(S),R=O($),G=w(S),k=w($);if(G&&q.hasAny){if(!k||!R.hasAny)return 1}else if(k&&R.hasAny)return-1;let J=0,H=0,ge;for(ge of S)ge.hasAny&&++J,ge.hasConversion&&++H;let Fe=0,Oe=0;for(ge of $)ge.hasAny&&++Fe,ge.hasConversion&&++Oe;if(J!==Fe)return J-Fe;if(G&&q.hasConversion){if(!k||!R.hasConversion)return 1}else if(k&&R.hasConversion)return-1;if(H!==Oe)return H-Oe;if(G){if(!k)return 1}else if(k)return-1;const et=(S.length-$.length)*(G?-1:1);if(et!==0)return et;const Qe=[];let dt=0;for(let Jt=0;Jt<S.length;++Jt){const Tr=T(S[Jt],$[Jt]);Qe.push(Tr),dt+=Tr}if(dt!==0)return dt;let mt;for(mt of Qe)if(mt!==0)return mt;return 0}function Z(_){if(_.length===0)return[];const A=_.map(o);_.length>1&&A.sort((q,R)=>q.index-R.index);let S=A[0].conversionsTo;if(_.length===1)return S;S=S.concat([]);const $=new Set(_);for(let q=1;q<A.length;++q){let R;for(R of A[q].conversionsTo)$.has(R.from)||(S.push(R),$.add(R.from))}return S}function V(_,A){let S=A;if(_.some(q=>q.hasConversion)){const q=w(_),R=_.map(j);S=function(){const k=[],J=q?arguments.length-1:arguments.length;for(let H=0;H<J;H++)k[H]=R[H](arguments[H]);return q&&(k[J]=arguments[J].map(R[J])),A.apply(this,k)}}let $=S;if(w(_)){const q=_.length-1;$=function(){return S.apply(this,I(arguments,0,q).concat([I(arguments,q)]))}}return $}function j(_){let A,S,$,q;const R=[],G=[];switch(_.types.forEach(function(k){k.conversion&&(R.push(o(k.conversion.from).test),G.push(k.conversion.convert))}),G.length){case 0:return function(J){return J};case 1:return A=R[0],$=G[0],function(J){return A(J)?$(J):J};case 2:return A=R[0],S=R[1],$=G[0],q=G[1],function(J){return A(J)?$(J):S(J)?q(J):J};default:return function(J){for(let H=0;H<G.length;H++)if(R[H](J))return G[H](J);return J}}}function te(_){function A(S,$,q){if($<S.length){const R=S[$];let G=[];if(R.restParam){const k=R.types.filter(C);k.length<R.types.length&&G.push({types:k,name:"..."+k.map(J=>J.name).join("|"),hasAny:k.some(J=>J.isAny),hasConversion:!1,restParam:!0}),G.push(R)}else G=R.types.map(function(k){return{types:[k],name:k.name,hasAny:k.isAny,hasConversion:k.conversion,restParam:!1}});return Ze(G,function(k){return A(S,$+1,q.concat([k]))})}else return[q]}return A(_,0,[])}function se(_,A){const S=Math.max(_.length,A.length);for(let k=0;k<S;k++){const J=M(_,k),H=M(A,k);let ge=!1,Fe;for(Fe of H)if(J.has(Fe)){ge=!0;break}if(!ge)return!1}const $=_.length,q=A.length,R=w(_),G=w(A);return R?G?$===q:q>=$:G?$>=q:$===q}function pe(_){return _.map(A=>Mt(A)?st(A.referToSelf.callback):Bt(A)?He(A.referTo.references,A.referTo.callback):A)}function de(_,A,S){const $=[];let q;for(q of _){let R=S[q];if(typeof R!="number")throw new TypeError('No definition for referenced signature "'+q+'"');if(R=A[R],typeof R!="function")return!1;$.push(R)}return $}function Me(_,A,S){const $=pe(_),q=new Array($.length).fill(!1);let R=!0;for(;R;){R=!1;let G=!0;for(let k=0;k<$.length;++k){if(q[k])continue;const J=$[k];if(Mt(J))$[k]=J.referToSelf.callback(S),$[k].referToSelf=J.referToSelf,q[k]=!0,G=!1;else if(Bt(J)){const H=de(J.referTo.references,$,A);H?($[k]=J.referTo.callback.apply(this,H),$[k].referTo=J.referTo,q[k]=!0,G=!1):R=!0}}if(G&&R)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return $}function Ee(_){const A=/\bthis(\(|\.signatures\b)/;Object.keys(_).forEach(S=>{const $=_[S];if(A.test($.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function ve(_,A){if(a.createCount++,Object.keys(A).length===0)throw new SyntaxError("No signatures provided");a.warnAgainstDeprecatedThis&&Ee(A);const S=[],$=[],q={},R=[];let G;for(G in A){if(!Object.prototype.hasOwnProperty.call(A,G))continue;const me=F(G);if(!me)continue;S.forEach(function(hr){if(se(hr,me))throw new TypeError('Conflicting signatures "'+m(hr)+'" and "'+m(me)+'".')}),S.push(me);const tt=$.length;$.push(A[G]);const to=me.map(E);let Lr;for(Lr of te(to)){const hr=m(Lr);R.push({params:Lr,name:hr,fn:tt}),Lr.every(ro=>!ro.hasConversion)&&(q[hr]=tt)}}R.sort(N);const k=Me($,q,fr);let J;for(J in q)Object.prototype.hasOwnProperty.call(q,J)&&(q[J]=k[q[J]]);const H=[],ge=new Map;for(J of R)ge.has(J.name)||(J.fn=k[J.fn],H.push(J),ge.set(J.name,J));const Fe=H[0]&&H[0].params.length<=2&&!w(H[0].params),Oe=H[1]&&H[1].params.length<=2&&!w(H[1].params),et=H[2]&&H[2].params.length<=2&&!w(H[2].params),Qe=H[3]&&H[3].params.length<=2&&!w(H[3].params),dt=H[4]&&H[4].params.length<=2&&!w(H[4].params),mt=H[5]&&H[5].params.length<=2&&!w(H[5].params),Jt=Fe&&Oe&&et&&Qe&&dt&&mt;for(let me=0;me<H.length;++me)H[me].test=B(H[me].params);const Tr=Fe?y(H[0].params[0]):ct,Ba=Oe?y(H[1].params[0]):ct,Ma=et?y(H[2].params[0]):ct,xa=Qe?y(H[3].params[0]):ct,Sa=dt?y(H[4].params[0]):ct,Na=mt?y(H[5].params[0]):ct,Ta=Fe?y(H[0].params[1]):ct,La=Oe?y(H[1].params[1]):ct,Ia=et?y(H[2].params[1]):ct,Pa=Qe?y(H[3].params[1]):ct,Oa=dt?y(H[4].params[1]):ct,$a=mt?y(H[5].params[1]):ct;for(let me=0;me<H.length;++me)H[me].implementation=V(H[me].params,H[me].fn);const Ra=Fe?H[0].implementation:Yt,za=Oe?H[1].implementation:Yt,qa=et?H[2].implementation:Yt,Ha=Qe?H[3].implementation:Yt,Ua=dt?H[4].implementation:Yt,ka=mt?H[5].implementation:Yt,Va=Fe?H[0].params.length:-1,Za=Oe?H[1].params.length:-1,Wa=et?H[2].params.length:-1,ja=Qe?H[3].params.length:-1,Ga=dt?H[4].params.length:-1,Ja=mt?H[5].params.length:-1,Ya=Jt?6:0,Ka=H.length,Xa=H.map(me=>me.test),Qa=H.map(me=>me.implementation),eo=function(){for(let tt=Ya;tt<Ka;tt++)if(Xa[tt](arguments))return Qa[tt].apply(this,arguments);return a.onMismatch(_,arguments,H)};function fr(me,tt){return arguments.length===Va&&Tr(me)&&Ta(tt)?Ra.apply(this,arguments):arguments.length===Za&&Ba(me)&&La(tt)?za.apply(this,arguments):arguments.length===Wa&&Ma(me)&&Ia(tt)?qa.apply(this,arguments):arguments.length===ja&&xa(me)&&Pa(tt)?Ha.apply(this,arguments):arguments.length===Ga&&Sa(me)&&Oa(tt)?Ua.apply(this,arguments):arguments.length===Ja&&Na(me)&&$a(tt)?ka.apply(this,arguments):eo.apply(this,arguments)}try{Object.defineProperty(fr,"name",{value:_})}catch{}return fr.signatures=q,fr._typedFunctionData={signatures:H,signatureMap:ge},fr}function De(_,A,S){throw U(_,A,S)}function Ve(_){return I(_,0,_.length-1)}function O(_){return _[_.length-1]}function I(_,A,S){return Array.prototype.slice.call(_,A,S)}function Pe(_,A){for(let S=0;S<_.length;S++)if(A(_[S]))return _[S]}function Ze(_,A){return Array.prototype.concat.apply([],_.map(A))}function ye(){const _=Ve(arguments).map(S=>m(F(S))),A=O(arguments);if(typeof A!="function")throw new TypeError("Callback function expected as last argument");return He(_,A)}function He(_,A){return{referTo:{references:_,callback:A}}}function st(_){if(typeof _!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:_}}}function Bt(_){return _&&typeof _.referTo=="object"&&Array.isArray(_.referTo.references)&&typeof _.referTo.callback=="function"}function Mt(_){return _&&typeof _.referToSelf=="object"&&typeof _.referToSelf.callback=="function"}function jt(_,A){if(!_)return A;if(A&&A!==_){const S=new Error("Function names do not match (expected: "+_+", actual: "+A+")");throw S.data={actual:A,expected:_},S}return _}function Gt(_){let A;for(const S in _)Object.prototype.hasOwnProperty.call(_,S)&&(p(_[S])||typeof _[S].signature=="string")&&(A=jt(A,_[S].name));return A}function En(_,A){let S;for(S in A)if(Object.prototype.hasOwnProperty.call(A,S)){if(S in _&&A[S]!==_[S]){const $=new Error('Signature "'+S+'" is defined twice');throw $.data={signature:S,sourceFunction:A[S],destFunction:_[S]},$}_[S]=A[S]}}const Aa=a;a=function(_){const A=typeof _=="string",S=A?1:0;let $=A?_:"";const q={};for(let R=S;R<arguments.length;++R){const G=arguments[R];let k={},J;if(typeof G=="function"?(J=G.name,typeof G.signature=="string"?k[G.signature]=G:p(G)&&(k=G.signatures)):e(G)&&(k=G,A||(J=Gt(G))),Object.keys(k).length===0){const H=new TypeError("Argument to 'typed' at index "+R+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw H.data={index:R,argument:G},H}A||($=jt($,J)),En(q,k)}return ve($||"",q)},a.create=Pu,a.createCount=Aa.createCount,a.onMismatch=De,a.throwMismatchError=De,a.createError=U,a.clear=c,a.clearConversions=l,a.addTypes=s,a._findType=o,a.referTo=ye,a.referToSelf=st,a.convert=f,a.findSignature=d,a.find=v,a.isTypedFunction=p,a.warnAgainstDeprecatedThis=!0,a.addType=function(_,A){let S="any";A!==!1&&n.has("Object")&&(S="Object"),a.addTypes([_],S)};function si(_){if(!_||typeof _.from!="string"||typeof _.to!="string"||typeof _.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(_.to===_.from)throw new SyntaxError('Illegal to define conversion from "'+_.from+'" to itself.')}return a.addConversion=function(_){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};si(_);const S=o(_.to),$=S.conversionsTo.find(q=>q.from===_.from);if($)if(A&&A.override)a.removeConversion({from:$.from,to:_.to,convert:$.convert});else throw new Error('There is already a conversion from "'+_.from+'" to "'+S.name+'"');S.conversionsTo.push({from:_.from,convert:_.convert,index:u++})},a.addConversions=function(_,A){_.forEach(S=>a.addConversion(S,A))},a.removeConversion=function(_){si(_);const A=o(_.to),S=Pe(A.conversionsTo,q=>q.from===_.from);if(!S)throw new Error("Attempt to remove nonexistent conversion from "+_.from+" to "+_.to);if(S.convert!==_.convert)throw new Error("Conversion to remove does not match existing conversion");const $=A.conversionsTo.indexOf(S);A.conversionsTo.splice($,1)},a.resolve=function(_,A){if(!p(_))throw new TypeError(Ei);const S=_._typedFunctionData.signatures;for(let $=0;$<S.length;++$)if(S[$].test(A))return S[$];return null},a}const Kr=Pu();function re(e,t,r,n){function i(u){var a=ac(u,t.map(fc));return cc(e,t,u),r(a)}return i.isFactory=!0,i.fn=e,i.dependencies=t.slice().sort(),n&&(i.meta=n),i}function cc(e,t,r){var n=t.filter(u=>!lc(u)).every(u=>r[u]!==void 0);if(!n){var i=t.filter(u=>r[u]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(i.map(u=>'"'.concat(u,'"')).join(", "),"."))}}function lc(e){return e&&e[0]==="?"}function fc(e){return e&&e[0]==="?"?e.slice(1):e}function Ie(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function Mn(e,t,r){var n={2:"0b",8:"0o",16:"0x"},i=n[t],u="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Ie(r))throw new Error("size must be an integer");if(e>2**(r-1)-1||e<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!Ie(e))throw new Error("Value must be an integer");e<0&&(e=e+2**r),u="i".concat(r)}var a="";return e<0&&(e=-e,a="-"),"".concat(a).concat(i).concat(e.toString(t)).concat(u)}function zn(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:r,precision:n,wordSize:i}=Ou(t);switch(r){case"fixed":return pc(e,n);case"exponential":return $u(e,n);case"engineering":return hc(e,n);case"bin":return Mn(e,2,i);case"oct":return Mn(e,8,i);case"hex":return Mn(e,16,i);case"auto":return dc(e,n,t).replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],a=arguments[4];return u!=="."?u+a:a});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Ou(e){var t="auto",r,n;if(e!==void 0)if(Be(e))r=e;else if(Se(e))r=e.toNumber();else if(ti(e))e.precision!==void 0&&(r=Fi(e.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),e.wordSize!==void 0&&(n=Fi(e.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(t=e.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:t,precision:r,wordSize:n}}function pn(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],n=t[2],i=parseFloat(t[4]||"0"),u=n.indexOf(".");i+=u!==-1?u-1:n.length-1;var a=n.replace(".","").replace(/^0*/,function(o){return i-=o.length,""}).replace(/0*$/,"").split("").map(function(o){return parseInt(o)});return a.length===0&&(a.push(0),i++),{sign:r,coefficients:a,exponent:i}}function hc(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=pn(e),n=dn(r,t),i=n.exponent,u=n.coefficients,a=i%3===0?i:i<0?i-3-i%3:i-i%3;if(Be(t))for(;t>u.length||i-a+1>u.length;)u.push(0);else for(var o=Math.abs(i-a)-(u.length-1),s=0;s<o;s++)u.push(0);for(var c=Math.abs(i-a),l=1;c>0;)l++,c--;var h=u.slice(l).join(""),p=Be(t)&&h.length||h.match(/[1-9]/)?"."+h:"",d=u.slice(0,l).join("")+p+"e"+(i>=0?"+":"")+a.toString();return n.sign+d}function pc(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=pn(e),n=typeof t=="number"?dn(r,r.exponent+1+t):r,i=n.coefficients,u=n.exponent+1,a=u+(t||0);return i.length<a&&(i=i.concat(rr(a-i.length))),u<0&&(i=rr(-u+1).concat(i),u=1),u<i.length&&i.splice(u,0,u===0?"0.":"."),n.sign+i.join("")}function $u(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=pn(e),n=t?dn(r,t):r,i=n.coefficients,u=n.exponent;i.length<t&&(i=i.concat(rr(t-i.length)));var a=i.shift();return n.sign+a+(i.length>0?"."+i.join(""):"")+"e"+(u>=0?"+":"")+u}function dc(e,t,r){if(isNaN(e)||!isFinite(e))return String(e);var n=bi(r==null?void 0:r.lowerExp,-3),i=bi(r==null?void 0:r.upperExp,5),u=pn(e),a=t?dn(u,t):u;if(a.exponent<n||a.exponent>=i)return $u(e,t);var o=a.coefficients,s=a.exponent;o.length<t&&(o=o.concat(rr(t-o.length))),o=o.concat(rr(s-o.length+1+(o.length<t?t-o.length:0))),o=rr(-s).concat(o);var c=s>0?s:0;return c<o.length-1&&o.splice(c+1,0,"."),a.sign+o.join("")}function dn(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=r.coefficients;t<=0;)n.unshift(0),r.exponent++,t++;if(n.length>t){var i=n.splice(t,n.length-t);if(i[0]>=5){var u=t-1;for(n[u]++;n[u]===10;)n.pop(),u===0&&(n.unshift(0),r.exponent++,u++),u--,n[u]++}}return r}function rr(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}function mc(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function Lt(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(e)||isNaN(t)?!1:!isFinite(e)||!isFinite(t)?e===t:e===t?!0:Math.abs(e-t)<=Math.max(r*Math.max(Math.abs(e),Math.abs(t)),n)}function Fi(e,t){if(Be(e))return e;if(Se(e))return e.toNumber();t()}function bi(e,t){return Be(e)?e:Se(e)?e.toNumber():t}var Ru=function(){return Ru=Kr.create,Kr},vc=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Dc=re("typed",vc,function(t){var{BigNumber:r,Complex:n,DenseMatrix:i,Fraction:u}=t,a=Ru();return a.clear(),a.addTypes([{name:"number",test:Be},{name:"Complex",test:Nu},{name:"BigNumber",test:Se},{name:"bigint",test:xs},{name:"Fraction",test:Tu},{name:"Unit",test:Lu},{name:"identifier",test:o=>pt&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(o)},{name:"string",test:pt},{name:"Chain",test:nc},{name:"Array",test:Ce},{name:"Matrix",test:Te},{name:"DenseMatrix",test:Ss},{name:"SparseMatrix",test:Ns},{name:"Range",test:Iu},{name:"Index",test:hn},{name:"boolean",test:Ts},{name:"ResultSet",test:Ls},{name:"Help",test:Is},{name:"function",test:Ps},{name:"Date",test:Os},{name:"RegExp",test:$s},{name:"null",test:zs},{name:"undefined",test:qs},{name:"AccessorNode",test:Hs},{name:"ArrayNode",test:Us},{name:"AssignmentNode",test:ks},{name:"BlockNode",test:Vs},{name:"ConditionalNode",test:Zs},{name:"ConstantNode",test:Ws},{name:"FunctionNode",test:Gs},{name:"FunctionAssignmentNode",test:js},{name:"IndexNode",test:Js},{name:"Node",test:Ys},{name:"ObjectNode",test:Ks},{name:"OperatorNode",test:Xs},{name:"ParenthesisNode",test:Qs},{name:"RangeNode",test:ec},{name:"RelationalNode",test:tc},{name:"SymbolNode",test:rc},{name:"Map",test:Rs},{name:"Object",test:ti}]),a.addConversions([{from:"number",to:"BigNumber",convert:function(s){if(r||$r(s),mc(s)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+s+"). Use function bignumber(x) to convert to BigNumber.");return new r(s)}},{from:"number",to:"Complex",convert:function(s){return n||Rr(s),new n(s,0)}},{from:"BigNumber",to:"Complex",convert:function(s){return n||Rr(s),new n(s.toNumber(),0)}},{from:"bigint",to:"number",convert:function(s){if(s>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+s+")");return Number(s)}},{from:"bigint",to:"BigNumber",convert:function(s){return r||$r(s),new r(s.toString())}},{from:"bigint",to:"Fraction",convert:function(s){return u||zr(s),new u(s)}},{from:"Fraction",to:"BigNumber",convert:function(s){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(s){return n||Rr(s),new n(s.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(s){u||zr(s);var c=new u(s);if(c.valueOf()!==s)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+s+"). Use function fraction(x) to convert to Fraction.");return c}},{from:"string",to:"number",convert:function(s){var c=Number(s);if(isNaN(c))throw new Error('Cannot convert "'+s+'" to a number');return c}},{from:"string",to:"BigNumber",convert:function(s){r||$r(s);try{return new r(s)}catch{throw new Error('Cannot convert "'+s+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(s){try{return BigInt(s)}catch{throw new Error('Cannot convert "'+s+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(s){u||zr(s);try{return new u(s)}catch{throw new Error('Cannot convert "'+s+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(s){n||Rr(s);try{return new n(s)}catch{throw new Error('Cannot convert "'+s+'" to Complex')}}},{from:"boolean",to:"number",convert:function(s){return+s}},{from:"boolean",to:"BigNumber",convert:function(s){return r||$r(s),new r(+s)}},{from:"boolean",to:"bigint",convert:function(s){return BigInt(+s)}},{from:"boolean",to:"Fraction",convert:function(s){return u||zr(s),new u(+s)}},{from:"boolean",to:"string",convert:function(s){return String(s)}},{from:"Array",to:"Matrix",convert:function(s){return i||gc(),new i(s)}},{from:"Matrix",to:"Array",convert:function(s){return s.valueOf()}}]),a.onMismatch=(o,s,c)=>{var l=a.createError(o,s,c);if(["wrongType","mismatch"].includes(l.data.category)&&s.length===1&&Yr(s[0])&&c.some(p=>!p.params.includes(","))){var h=new TypeError("Function '".concat(o,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(o,")'."));throw h.data=l.data,h}throw l},a.onMismatch=(o,s,c)=>{var l=a.createError(o,s,c);if(["wrongType","mismatch"].includes(l.data.category)&&s.length===1&&Yr(s[0])&&c.some(p=>!p.params.includes(","))){var h=new TypeError("Function '".concat(o,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(o,")'."));throw h.data=l.data,h}throw l},a});function $r(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function Rr(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function gc(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function zr(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}var er=9e15,qt=1e9,qn="0123456789abcdef",Xr="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Qr="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Hn={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-er,maxE:er,crypto:!1},zu,Tt,ae=!0,mn="[DecimalError] ",zt=mn+"Invalid argument: ",qu=mn+"Precision limit exceeded",Hu=mn+"crypto unavailable",Uu="[object Decimal]",Xe=Math.floor,ze=Math.pow,yc=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,wc=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,_c=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,ku=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,gt=1e7,ue=7,Ec=9007199254740991,Fc=Xr.length-1,Un=Qr.length-1,z={toStringTag:Uu};z.absoluteValue=z.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),ie(e)};z.ceil=function(){return ie(new this.constructor(this),this.e+1,2)};z.clampedTo=z.clamp=function(e,t){var r,n=this,i=n.constructor;if(e=new i(e),t=new i(t),!e.s||!t.s)return new i(NaN);if(e.gt(t))throw Error(zt+t);return r=n.cmp(e),r<0?e:n.cmp(t)>0?t:new i(n)};z.comparedTo=z.cmp=function(e){var t,r,n,i,u=this,a=u.d,o=(e=new u.constructor(e)).d,s=u.s,c=e.s;if(!a||!o)return!s||!c?NaN:s!==c?s:a===o?0:!a^s<0?1:-1;if(!a[0]||!o[0])return a[0]?s:o[0]?-c:0;if(s!==c)return s;if(u.e!==e.e)return u.e>e.e^s<0?1:-1;for(n=a.length,i=o.length,t=0,r=n<i?n:i;t<r;++t)if(a[t]!==o[t])return a[t]>o[t]^s<0?1:-1;return n===i?0:n>i^s<0?1:-1};z.cosine=z.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+ue,n.rounding=1,r=bc(n,Gu(n,r)),n.precision=e,n.rounding=t,ie(Tt==2||Tt==3?r.neg():r,e,t,!0)):new n(1):new n(NaN)};z.cubeRoot=z.cbrt=function(){var e,t,r,n,i,u,a,o,s,c,l=this,h=l.constructor;if(!l.isFinite()||l.isZero())return new h(l);for(ae=!1,u=l.s*ze(l.s*l,1/3),!u||Math.abs(u)==1/0?(r=je(l.d),e=l.e,(u=(e-r.length+1)%3)&&(r+=u==1||u==-2?"0":"00"),u=ze(r,1/3),e=Xe((e+1)/3)-(e%3==(e<0?-1:2)),u==1/0?r="5e"+e:(r=u.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),n=new h(r),n.s=l.s):n=new h(u.toString()),a=(e=h.precision)+3;;)if(o=n,s=o.times(o).times(o),c=s.plus(l),n=_e(c.plus(l).times(o),c.plus(s),a+2,1),je(o.d).slice(0,a)===(r=je(n.d)).slice(0,a))if(r=r.slice(a-3,a+1),r=="9999"||!i&&r=="4999"){if(!i&&(ie(o,e+1,0),o.times(o).times(o).eq(l))){n=o;break}a+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(ie(n,e+1,1),t=!n.times(n).times(n).eq(l));break}return ae=!0,ie(n,e,h.rounding,t)};z.decimalPlaces=z.dp=function(){var e,t=this.d,r=NaN;if(t){if(e=t.length-1,r=(e-Xe(this.e/ue))*ue,e=t[e],e)for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r};z.dividedBy=z.div=function(e){return _e(this,new this.constructor(e))};z.dividedToIntegerBy=z.divToInt=function(e){var t=this,r=t.constructor;return ie(_e(t,new r(e),0,1,1),r.precision,r.rounding)};z.equals=z.eq=function(e){return this.cmp(e)===0};z.floor=function(){return ie(new this.constructor(this),this.e+1,3)};z.greaterThan=z.gt=function(e){return this.cmp(e)>0};z.greaterThanOrEqualTo=z.gte=function(e){var t=this.cmp(e);return t==1||t===0};z.hyperbolicCosine=z.cosh=function(){var e,t,r,n,i,u=this,a=u.constructor,o=new a(1);if(!u.isFinite())return new a(u.s?1/0:NaN);if(u.isZero())return o;r=a.precision,n=a.rounding,a.precision=r+Math.max(u.e,u.sd())+4,a.rounding=1,i=u.d.length,i<32?(e=Math.ceil(i/3),t=(1/Dn(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),u=nr(a,1,u.times(t),new a(1),!0);for(var s,c=e,l=new a(8);c--;)s=u.times(u),u=o.minus(s.times(l.minus(s.times(l))));return ie(u,a.precision=r,a.rounding=n,!0)};z.hyperbolicSine=z.sinh=function(){var e,t,r,n,i=this,u=i.constructor;if(!i.isFinite()||i.isZero())return new u(i);if(t=u.precision,r=u.rounding,u.precision=t+Math.max(i.e,i.sd())+4,u.rounding=1,n=i.d.length,n<3)i=nr(u,2,i,i,!0);else{e=1.4*Math.sqrt(n),e=e>16?16:e|0,i=i.times(1/Dn(5,e)),i=nr(u,2,i,i,!0);for(var a,o=new u(5),s=new u(16),c=new u(20);e--;)a=i.times(i),i=i.times(o.plus(a.times(s.times(a).plus(c))))}return u.precision=t,u.rounding=r,ie(i,t,r,!0)};z.hyperbolicTangent=z.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,_e(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)};z.inverseCosine=z.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),n=t.precision,i=t.rounding;return r!==-1?r===0?e.isNeg()?yt(t,n,i):new t(0):new t(NaN):e.isZero()?yt(t,n+4,i).times(.5):(t.precision=n+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=n,t.rounding=i,e.times(2))};z.inverseHyperbolicCosine=z.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,ae=!1,r=r.times(r).minus(1).sqrt().plus(r),ae=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)};z.inverseHyperbolicSine=z.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,ae=!1,r=r.times(r).plus(1).sqrt().plus(r),ae=!0,n.precision=e,n.rounding=t,r.ln())};z.inverseHyperbolicTangent=z.atanh=function(){var e,t,r,n,i=this,u=i.constructor;return i.isFinite()?i.e>=0?new u(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=u.precision,t=u.rounding,n=i.sd(),Math.max(n,e)<2*-i.e-1?ie(new u(i),e,t,!0):(u.precision=r=n-i.e,i=_e(i.plus(1),new u(1).minus(i),r+e,1),u.precision=e+4,u.rounding=1,i=i.ln(),u.precision=e,u.rounding=t,i.times(.5))):new u(NaN)};z.inverseSine=z.asin=function(){var e,t,r,n,i=this,u=i.constructor;return i.isZero()?new u(i):(t=i.abs().cmp(1),r=u.precision,n=u.rounding,t!==-1?t===0?(e=yt(u,r+4,n).times(.5),e.s=i.s,e):new u(NaN):(u.precision=r+6,u.rounding=1,i=i.div(new u(1).minus(i.times(i)).sqrt().plus(1)).atan(),u.precision=r,u.rounding=n,i.times(2)))};z.inverseTangent=z.atan=function(){var e,t,r,n,i,u,a,o,s,c=this,l=c.constructor,h=l.precision,p=l.rounding;if(c.isFinite()){if(c.isZero())return new l(c);if(c.abs().eq(1)&&h+4<=Un)return a=yt(l,h+4,p).times(.25),a.s=c.s,a}else{if(!c.s)return new l(NaN);if(h+4<=Un)return a=yt(l,h+4,p).times(.5),a.s=c.s,a}for(l.precision=o=h+10,l.rounding=1,r=Math.min(28,o/ue+2|0),e=r;e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(ae=!1,t=Math.ceil(o/ue),n=1,s=c.times(c),a=new l(c),i=c;e!==-1;)if(i=i.times(s),u=a.minus(i.div(n+=2)),i=i.times(s),a=u.plus(i.div(n+=2)),a.d[t]!==void 0)for(e=t;a.d[e]===u.d[e]&&e--;);return r&&(a=a.times(2<<r-1)),ae=!0,ie(a,l.precision=h,l.rounding=p,!0)};z.isFinite=function(){return!!this.d};z.isInteger=z.isInt=function(){return!!this.d&&Xe(this.e/ue)>this.d.length-2};z.isNaN=function(){return!this.s};z.isNegative=z.isNeg=function(){return this.s<0};z.isPositive=z.isPos=function(){return this.s>0};z.isZero=function(){return!!this.d&&this.d[0]===0};z.lessThan=z.lt=function(e){return this.cmp(e)<0};z.lessThanOrEqualTo=z.lte=function(e){return this.cmp(e)<1};z.logarithm=z.log=function(e){var t,r,n,i,u,a,o,s,c=this,l=c.constructor,h=l.precision,p=l.rounding,d=5;if(e==null)e=new l(10),t=!0;else{if(e=new l(e),r=e.d,e.s<0||!r||!r[0]||e.eq(1))return new l(NaN);t=e.eq(10)}if(r=c.d,c.s<0||!r||!r[0]||c.eq(1))return new l(r&&!r[0]?-1/0:c.s!=1?NaN:r?0:1/0);if(t)if(r.length>1)u=!0;else{for(i=r[0];i%10===0;)i/=10;u=i!==1}if(ae=!1,o=h+d,a=$t(c,o),n=t?en(l,o+10):$t(e,o),s=_e(a,n,o,1),yr(s.d,i=h,p))do if(o+=10,a=$t(c,o),n=t?en(l,o+10):$t(e,o),s=_e(a,n,o,1),!u){+je(s.d).slice(i+1,i+15)+1==1e14&&(s=ie(s,h+1,0));break}while(yr(s.d,i+=10,p));return ae=!0,ie(s,h,p)};z.minus=z.sub=function(e){var t,r,n,i,u,a,o,s,c,l,h,p,d=this,v=d.constructor;if(e=new v(e),!d.d||!e.d)return!d.s||!e.s?e=new v(NaN):d.d?e.s=-e.s:e=new v(e.d||d.s!==e.s?d:NaN),e;if(d.s!=e.s)return e.s=-e.s,d.plus(e);if(c=d.d,p=e.d,o=v.precision,s=v.rounding,!c[0]||!p[0]){if(p[0])e.s=-e.s;else if(c[0])e=new v(d);else return new v(s===3?-0:0);return ae?ie(e,o,s):e}if(r=Xe(e.e/ue),l=Xe(d.e/ue),c=c.slice(),u=l-r,u){for(h=u<0,h?(t=c,u=-u,a=p.length):(t=p,r=l,a=c.length),n=Math.max(Math.ceil(o/ue),a)+2,u>n&&(u=n,t.length=1),t.reverse(),n=u;n--;)t.push(0);t.reverse()}else{for(n=c.length,a=p.length,h=n<a,h&&(a=n),n=0;n<a;n++)if(c[n]!=p[n]){h=c[n]<p[n];break}u=0}for(h&&(t=c,c=p,p=t,e.s=-e.s),a=c.length,n=p.length-a;n>0;--n)c[a++]=0;for(n=p.length;n>u;){if(c[--n]<p[n]){for(i=n;i&&c[--i]===0;)c[i]=gt-1;--c[i],c[n]+=gt}c[n]-=p[n]}for(;c[--a]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=vn(c,r),ae?ie(e,o,s):e):new v(s===3?-0:0)};z.modulo=z.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?ie(new n(r),n.precision,n.rounding):(ae=!1,n.modulo==9?(t=_e(r,e.abs(),0,3,1),t.s*=e.s):t=_e(r,e,0,n.modulo,1),t=t.times(e),ae=!0,r.minus(t))};z.naturalExponential=z.exp=function(){return kn(this)};z.naturalLogarithm=z.ln=function(){return $t(this)};z.negated=z.neg=function(){var e=new this.constructor(this);return e.s=-e.s,ie(e)};z.plus=z.add=function(e){var t,r,n,i,u,a,o,s,c,l,h=this,p=h.constructor;if(e=new p(e),!h.d||!e.d)return!h.s||!e.s?e=new p(NaN):h.d||(e=new p(e.d||h.s===e.s?h:NaN)),e;if(h.s!=e.s)return e.s=-e.s,h.minus(e);if(c=h.d,l=e.d,o=p.precision,s=p.rounding,!c[0]||!l[0])return l[0]||(e=new p(h)),ae?ie(e,o,s):e;if(u=Xe(h.e/ue),n=Xe(e.e/ue),c=c.slice(),i=u-n,i){for(i<0?(r=c,i=-i,a=l.length):(r=l,n=u,a=c.length),u=Math.ceil(o/ue),a=u>a?u+1:a+1,i>a&&(i=a,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(a=c.length,i=l.length,a-i<0&&(i=a,r=l,l=c,c=r),t=0;i;)t=(c[--i]=c[i]+l[i]+t)/gt|0,c[i]%=gt;for(t&&(c.unshift(t),++n),a=c.length;c[--a]==0;)c.pop();return e.d=c,e.e=vn(c,n),ae?ie(e,o,s):e};z.precision=z.sd=function(e){var t,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(zt+e);return r.d?(t=Vu(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t};z.round=function(){var e=this,t=e.constructor;return ie(new t(e),e.e+1,t.rounding)};z.sine=z.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+ue,n.rounding=1,r=Ac(n,Gu(n,r)),n.precision=e,n.rounding=t,ie(Tt>2?r.neg():r,e,t,!0)):new n(NaN)};z.squareRoot=z.sqrt=function(){var e,t,r,n,i,u,a=this,o=a.d,s=a.e,c=a.s,l=a.constructor;if(c!==1||!o||!o[0])return new l(!c||c<0&&(!o||o[0])?NaN:o?a:1/0);for(ae=!1,c=Math.sqrt(+a),c==0||c==1/0?(t=je(o),(t.length+s)%2==0&&(t+="0"),c=Math.sqrt(t),s=Xe((s+1)/2)-(s<0||s%2),c==1/0?t="5e"+s:(t=c.toExponential(),t=t.slice(0,t.indexOf("e")+1)+s),n=new l(t)):n=new l(c.toString()),r=(s=l.precision)+3;;)if(u=n,n=u.plus(_e(a,u,r+2,1)).times(.5),je(u.d).slice(0,r)===(t=je(n.d)).slice(0,r))if(t=t.slice(r-3,r+1),t=="9999"||!i&&t=="4999"){if(!i&&(ie(u,s+1,0),u.times(u).eq(a))){n=u;break}r+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(ie(n,s+1,1),e=!n.times(n).eq(a));break}return ae=!0,ie(n,s,l.rounding,e)};z.tangent=z.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,r=r.sin(),r.s=1,r=_e(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,ie(Tt==2||Tt==4?r.neg():r,e,t,!0)):new n(NaN)};z.times=z.mul=function(e){var t,r,n,i,u,a,o,s,c,l=this,h=l.constructor,p=l.d,d=(e=new h(e)).d;if(e.s*=l.s,!p||!p[0]||!d||!d[0])return new h(!e.s||p&&!p[0]&&!d||d&&!d[0]&&!p?NaN:!p||!d?e.s/0:e.s*0);for(r=Xe(l.e/ue)+Xe(e.e/ue),s=p.length,c=d.length,s<c&&(u=p,p=d,d=u,a=s,s=c,c=a),u=[],a=s+c,n=a;n--;)u.push(0);for(n=c;--n>=0;){for(t=0,i=s+n;i>n;)o=u[i]+d[n]*p[i-n-1]+t,u[i--]=o%gt|0,t=o/gt|0;u[i]=(u[i]+t)%gt|0}for(;!u[--a];)u.pop();return t?++r:u.shift(),e.d=u,e.e=vn(u,r),ae?ie(e,h.precision,h.rounding):e};z.toBinary=function(e,t){return ri(this,2,e,t)};z.toDecimalPlaces=z.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(it(e,0,qt),t===void 0?t=n.rounding:it(t,0,8),ie(r,e+r.e+1,t))};z.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Ft(n,!0):(it(e,0,qt),t===void 0?t=i.rounding:it(t,0,8),n=ie(new i(n),e+1,t),r=Ft(n,!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r};z.toFixed=function(e,t){var r,n,i=this,u=i.constructor;return e===void 0?r=Ft(i):(it(e,0,qt),t===void 0?t=u.rounding:it(t,0,8),n=ie(new u(i),e+i.e+1,t),r=Ft(n,!1,e+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r};z.toFraction=function(e){var t,r,n,i,u,a,o,s,c,l,h,p,d=this,v=d.d,f=d.constructor;if(!v)return new f(d);if(c=r=new f(1),n=s=new f(0),t=new f(n),u=t.e=Vu(v)-d.e-1,a=u%ue,t.d[0]=ze(10,a<0?ue+a:a),e==null)e=u>0?t:c;else{if(o=new f(e),!o.isInt()||o.lt(c))throw Error(zt+o);e=o.gt(t)?u>0?t:c:o}for(ae=!1,o=new f(je(v)),l=f.precision,f.precision=u=v.length*ue*2;h=_e(o,t,0,1,1),i=r.plus(h.times(n)),i.cmp(e)!=1;)r=n,n=i,i=c,c=s.plus(h.times(i)),s=i,i=t,t=o.minus(h.times(i)),o=i;return i=_e(e.minus(r),n,0,1,1),s=s.plus(i.times(c)),r=r.plus(i.times(n)),s.s=c.s=d.s,p=_e(c,n,u,1).minus(d).abs().cmp(_e(s,r,u,1).minus(d).abs())<1?[c,n]:[s,r],f.precision=l,ae=!0,p};z.toHexadecimal=z.toHex=function(e,t){return ri(this,16,e,t)};z.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),e==null){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),t===void 0?t=n.rounding:it(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(ae=!1,r=_e(r,e,0,t,1).times(e),ae=!0,ie(r)):(e.s=r.s,r=e),r};z.toNumber=function(){return+this};z.toOctal=function(e,t){return ri(this,8,e,t)};z.toPower=z.pow=function(e){var t,r,n,i,u,a,o=this,s=o.constructor,c=+(e=new s(e));if(!o.d||!e.d||!o.d[0]||!e.d[0])return new s(ze(+o,c));if(o=new s(o),o.eq(1))return o;if(n=s.precision,u=s.rounding,e.eq(1))return ie(o,n,u);if(t=Xe(e.e/ue),t>=e.d.length-1&&(r=c<0?-c:c)<=Ec)return i=Zu(s,o,r,n),e.s<0?new s(1).div(i):ie(i,n,u);if(a=o.s,a<0){if(t<e.d.length-1)return new s(NaN);if(e.d[t]&1||(a=1),o.e==0&&o.d[0]==1&&o.d.length==1)return o.s=a,o}return r=ze(+o,c),t=r==0||!isFinite(r)?Xe(c*(Math.log("0."+je(o.d))/Math.LN10+o.e+1)):new s(r+"").e,t>s.maxE+1||t<s.minE-1?new s(t>0?a/0:0):(ae=!1,s.rounding=o.s=1,r=Math.min(12,(t+"").length),i=kn(e.times($t(o,n+r)),n),i.d&&(i=ie(i,n+5,1),yr(i.d,n,u)&&(t=n+10,i=ie(kn(e.times($t(o,t+r)),t),t+5,1),+je(i.d).slice(n+1,n+15)+1==1e14&&(i=ie(i,n+1,0)))),i.s=a,ae=!0,s.rounding=u,ie(i,n,u))};z.toPrecision=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Ft(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(it(e,1,qt),t===void 0?t=i.rounding:it(t,0,8),n=ie(new i(n),e,t),r=Ft(n,e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r};z.toSignificantDigits=z.toSD=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(it(e,1,qt),t===void 0?t=n.rounding:it(t,0,8)),ie(new n(r),e,t)};z.toString=function(){var e=this,t=e.constructor,r=Ft(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r};z.truncated=z.trunc=function(){return ie(new this.constructor(this),this.e+1,1)};z.valueOf=z.toJSON=function(){var e=this,t=e.constructor,r=Ft(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};function je(e){var t,r,n,i=e.length-1,u="",a=e[0];if(i>0){for(u+=a,t=1;t<i;t++)n=e[t]+"",r=ue-n.length,r&&(u+=Ot(r)),u+=n;a=e[t],n=a+"",r=ue-n.length,r&&(u+=Ot(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return u+a}function it(e,t,r){if(e!==~~e||e<t||e>r)throw Error(zt+e)}function yr(e,t,r,n){var i,u,a,o;for(u=e[0];u>=10;u/=10)--t;return--t<0?(t+=ue,i=0):(i=Math.ceil((t+1)/ue),t%=ue),u=ze(10,ue-t),o=e[i]%u|0,n==null?t<3?(t==0?o=o/100|0:t==1&&(o=o/10|0),a=r<4&&o==99999||r>3&&o==49999||o==5e4||o==0):a=(r<4&&o+1==u||r>3&&o+1==u/2)&&(e[i+1]/u/100|0)==ze(10,t-2)-1||(o==u/2||o==0)&&(e[i+1]/u/100|0)==0:t<4?(t==0?o=o/1e3|0:t==1?o=o/100|0:t==2&&(o=o/10|0),a=(n||r<4)&&o==9999||!n&&r>3&&o==4999):a=((n||r<4)&&o+1==u||!n&&r>3&&o+1==u/2)&&(e[i+1]/u/1e3|0)==ze(10,t-3)-1,a}function Ur(e,t,r){for(var n,i=[0],u,a=0,o=e.length;a<o;){for(u=i.length;u--;)i[u]*=t;for(i[0]+=qn.indexOf(e.charAt(a++)),n=0;n<i.length;n++)i[n]>r-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function bc(e,t){var r,n,i;if(t.isZero())return t;n=t.d.length,n<32?(r=Math.ceil(n/3),i=(1/Dn(4,r)).toString()):(r=16,i="2.3283064365386962890625e-10"),e.precision+=r,t=nr(e,1,t.times(i),new e(1));for(var u=r;u--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return e.precision-=r,t}var _e=function(){function e(n,i,u){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%u|0,o=a/u|0;return o&&n.unshift(o),n}function t(n,i,u,a){var o,s;if(u!=a)s=u>a?1:-1;else for(o=s=0;o<u;o++)if(n[o]!=i[o]){s=n[o]>i[o]?1:-1;break}return s}function r(n,i,u,a){for(var o=0;u--;)n[u]-=o,o=n[u]<i[u]?1:0,n[u]=o*a+n[u]-i[u];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,u,a,o,s){var c,l,h,p,d,v,f,m,D,E,g,F,w,y,B,b,M,C,P,U,K=n.constructor,x=n.s==i.s?1:-1,T=n.d,N=i.d;if(!T||!T[0]||!N||!N[0])return new K(!n.s||!i.s||(T?N&&T[0]==N[0]:!N)?NaN:T&&T[0]==0||!N?x*0:x/0);for(s?(d=1,l=n.e-i.e):(s=gt,d=ue,l=Xe(n.e/d)-Xe(i.e/d)),P=N.length,M=T.length,D=new K(x),E=D.d=[],h=0;N[h]==(T[h]||0);h++);if(N[h]>(T[h]||0)&&l--,u==null?(y=u=K.precision,a=K.rounding):o?y=u+(n.e-i.e)+1:y=u,y<0)E.push(1),v=!0;else{if(y=y/d+2|0,h=0,P==1){for(p=0,N=N[0],y++;(h<M||p)&&y--;h++)B=p*s+(T[h]||0),E[h]=B/N|0,p=B%N|0;v=p||h<M}else{for(p=s/(N[0]+1)|0,p>1&&(N=e(N,p,s),T=e(T,p,s),P=N.length,M=T.length),b=P,g=T.slice(0,P),F=g.length;F<P;)g[F++]=0;U=N.slice(),U.unshift(0),C=N[0],N[1]>=s/2&&++C;do p=0,c=t(N,g,P,F),c<0?(w=g[0],P!=F&&(w=w*s+(g[1]||0)),p=w/C|0,p>1?(p>=s&&(p=s-1),f=e(N,p,s),m=f.length,F=g.length,c=t(f,g,m,F),c==1&&(p--,r(f,P<m?U:N,m,s))):(p==0&&(c=p=1),f=N.slice()),m=f.length,m<F&&f.unshift(0),r(g,f,F,s),c==-1&&(F=g.length,c=t(N,g,P,F),c<1&&(p++,r(g,P<F?U:N,F,s))),F=g.length):c===0&&(p++,g=[0]),E[h++]=p,c&&g[0]?g[F++]=T[b]||0:(g=[T[b]],F=1);while((b++<M||g[0]!==void 0)&&y--);v=g[0]!==void 0}E[0]||E.shift()}if(d==1)D.e=l,zu=v;else{for(h=1,p=E[0];p>=10;p/=10)h++;D.e=h+l*d-1,ie(D,o?u+D.e+1:u,a,v)}return D}}();function ie(e,t,r,n){var i,u,a,o,s,c,l,h,p,d=e.constructor;e:if(t!=null){if(h=e.d,!h)return e;for(i=1,o=h[0];o>=10;o/=10)i++;if(u=t-i,u<0)u+=ue,a=t,l=h[p=0],s=l/ze(10,i-a-1)%10|0;else if(p=Math.ceil((u+1)/ue),o=h.length,p>=o)if(n){for(;o++<=p;)h.push(0);l=s=0,i=1,u%=ue,a=u-ue+1}else break e;else{for(l=o=h[p],i=1;o>=10;o/=10)i++;u%=ue,a=u-ue+i,s=a<0?0:l/ze(10,i-a-1)%10|0}if(n=n||t<0||h[p+1]!==void 0||(a<0?l:l%ze(10,i-a-1)),c=r<4?(s||n)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||n||r==6&&(u>0?a>0?l/ze(10,i-a):0:h[p-1])%10&1||r==(e.s<0?8:7)),t<1||!h[0])return h.length=0,c?(t-=e.e+1,h[0]=ze(10,(ue-t%ue)%ue),e.e=-t||0):h[0]=e.e=0,e;if(u==0?(h.length=p,o=1,p--):(h.length=p+1,o=ze(10,ue-u),h[p]=a>0?(l/ze(10,i-a)%ze(10,a)|0)*o:0),c)for(;;)if(p==0){for(u=1,a=h[0];a>=10;a/=10)u++;for(a=h[0]+=o,o=1;a>=10;a/=10)o++;u!=o&&(e.e++,h[0]==gt&&(h[0]=1));break}else{if(h[p]+=o,h[p]!=gt)break;h[p--]=0,o=1}for(u=h.length;h[--u]===0;)h.pop()}return ae&&(e.e>d.maxE?(e.d=null,e.e=NaN):e.e<d.minE&&(e.e=0,e.d=[0])),e}function Ft(e,t,r){if(!e.isFinite())return ju(e);var n,i=e.e,u=je(e.d),a=u.length;return t?(r&&(n=r-a)>0?u=u.charAt(0)+"."+u.slice(1)+Ot(n):a>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(e.e<0?"e":"e+")+e.e):i<0?(u="0."+Ot(-i-1)+u,r&&(n=r-a)>0&&(u+=Ot(n))):i>=a?(u+=Ot(i+1-a),r&&(n=r-i-1)>0&&(u=u+"."+Ot(n))):((n=i+1)<a&&(u=u.slice(0,n)+"."+u.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(u+="."),u+=Ot(n))),u}function vn(e,t){var r=e[0];for(t*=ue;r>=10;r/=10)t++;return t}function en(e,t,r){if(t>Fc)throw ae=!0,r&&(e.precision=r),Error(qu);return ie(new e(Xr),t,1,!0)}function yt(e,t,r){if(t>Un)throw Error(qu);return ie(new e(Qr),t,r,!0)}function Vu(e){var t=e.length-1,r=t*ue+1;if(t=e[t],t){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function Ot(e){for(var t="";e--;)t+="0";return t}function Zu(e,t,r,n){var i,u=new e(1),a=Math.ceil(n/ue+4);for(ae=!1;;){if(r%2&&(u=u.times(t),Ai(u.d,a)&&(i=!0)),r=Xe(r/2),r===0){r=u.d.length-1,i&&u.d[r]===0&&++u.d[r];break}t=t.times(t),Ai(t.d,a)}return ae=!0,u}function Ci(e){return e.d[e.d.length-1]&1}function Wu(e,t,r){for(var n,i,u=new e(t[0]),a=0;++a<t.length;){if(i=new e(t[a]),!i.s){u=i;break}n=u.cmp(i),(n===r||n===0&&u.s===r)&&(u=i)}return u}function kn(e,t){var r,n,i,u,a,o,s,c=0,l=0,h=0,p=e.constructor,d=p.rounding,v=p.precision;if(!e.d||!e.d[0]||e.e>17)return new p(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(ae=!1,s=v):s=t,o=new p(.03125);e.e>-2;)e=e.times(o),h+=5;for(n=Math.log(ze(2,h))/Math.LN10*2+5|0,s+=n,r=u=a=new p(1),p.precision=s;;){if(u=ie(u.times(e),s,1),r=r.times(++l),o=a.plus(_e(u,r,s,1)),je(o.d).slice(0,s)===je(a.d).slice(0,s)){for(i=h;i--;)a=ie(a.times(a),s,1);if(t==null)if(c<3&&yr(a.d,s-n,d,c))p.precision=s+=10,r=u=o=new p(1),l=0,c++;else return ie(a,p.precision=v,d,ae=!0);else return p.precision=v,a}a=o}}function $t(e,t){var r,n,i,u,a,o,s,c,l,h,p,d=1,v=10,f=e,m=f.d,D=f.constructor,E=D.rounding,g=D.precision;if(f.s<0||!m||!m[0]||!f.e&&m[0]==1&&m.length==1)return new D(m&&!m[0]?-1/0:f.s!=1?NaN:m?0:f);if(t==null?(ae=!1,l=g):l=t,D.precision=l+=v,r=je(m),n=r.charAt(0),Math.abs(u=f.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)f=f.times(e),r=je(f.d),n=r.charAt(0),d++;u=f.e,n>1?(f=new D("0."+r),u++):f=new D(n+"."+r.slice(1))}else return c=en(D,l+2,g).times(u+""),f=$t(new D(n+"."+r.slice(1)),l-v).plus(c),D.precision=g,t==null?ie(f,g,E,ae=!0):f;for(h=f,s=a=f=_e(f.minus(1),f.plus(1),l,1),p=ie(f.times(f),l,1),i=3;;){if(a=ie(a.times(p),l,1),c=s.plus(_e(a,new D(i),l,1)),je(c.d).slice(0,l)===je(s.d).slice(0,l))if(s=s.times(2),u!==0&&(s=s.plus(en(D,l+2,g).times(u+""))),s=_e(s,new D(d),l,1),t==null)if(yr(s.d,l-v,E,o))D.precision=l+=v,c=a=f=_e(h.minus(1),h.plus(1),l,1),p=ie(f.times(f),l,1),i=o=1;else return ie(s,D.precision=g,E,ae=!0);else return D.precision=g,s;s=c,i+=2}}function ju(e){return String(e.s*e.s/0)}function kr(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;n++);for(i=t.length;t.charCodeAt(i-1)===48;--i);if(t=t.slice(n,i),t){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%ue,r<0&&(n+=ue),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=ue;n<i;)e.d.push(+t.slice(n,n+=ue));t=t.slice(n),n=ue-t.length}else n-=i;for(;n--;)t+="0";e.d.push(+t),ae&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Cc(e,t){var r,n,i,u,a,o,s,c,l;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),ku.test(t))return kr(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(wc.test(t))r=16,t=t.toLowerCase();else if(yc.test(t))r=2;else if(_c.test(t))r=8;else throw Error(zt+t);for(u=t.search(/p/i),u>0?(s=+t.slice(u+1),t=t.substring(2,u)):t=t.slice(2),u=t.indexOf("."),a=u>=0,n=e.constructor,a&&(t=t.replace(".",""),o=t.length,u=o-u,i=Zu(n,new n(r),u,u*2)),c=Ur(t,r,gt),l=c.length-1,u=l;c[u]===0;--u)c.pop();return u<0?new n(e.s*0):(e.e=vn(c,l),e.d=c,ae=!1,a&&(e=_e(e,i,o*4)),s&&(e=e.times(Math.abs(s)<54?ze(2,s):ir.pow(2,s))),ae=!0,e)}function Ac(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:nr(e,2,t,t);r=1.4*Math.sqrt(n),r=r>16?16:r|0,t=t.times(1/Dn(5,r)),t=nr(e,2,t,t);for(var i,u=new e(5),a=new e(16),o=new e(20);r--;)i=t.times(t),t=t.times(u.plus(i.times(a.times(i).minus(o))));return t}function nr(e,t,r,n,i){var u,a,o,s,c=e.precision,l=Math.ceil(c/ue);for(ae=!1,s=r.times(r),o=new e(n);;){if(a=_e(o.times(s),new e(t++*t++),c,1),o=i?n.plus(a):n.minus(a),n=_e(a.times(s),new e(t++*t++),c,1),a=o.plus(n),a.d[l]!==void 0){for(u=l;a.d[u]===o.d[u]&&u--;);if(u==-1)break}u=o,o=n,n=a,a=u}return ae=!0,a.d.length=l+1,a}function Dn(e,t){for(var r=e;--t;)r*=e;return r}function Gu(e,t){var r,n=t.s<0,i=yt(e,e.precision,1),u=i.times(.5);if(t=t.abs(),t.lte(u))return Tt=n?4:1,t;if(r=t.divToInt(i),r.isZero())Tt=n?3:2;else{if(t=t.minus(r.times(i)),t.lte(u))return Tt=Ci(r)?n?2:3:n?4:1,t;Tt=Ci(r)?n?1:4:n?3:2}return t.minus(i).abs()}function ri(e,t,r,n){var i,u,a,o,s,c,l,h,p,d=e.constructor,v=r!==void 0;if(v?(it(r,1,qt),n===void 0?n=d.rounding:it(n,0,8)):(r=d.precision,n=d.rounding),!e.isFinite())l=ju(e);else{for(l=Ft(e),a=l.indexOf("."),v?(i=2,t==16?r=r*4-3:t==8&&(r=r*3-2)):i=t,a>=0&&(l=l.replace(".",""),p=new d(1),p.e=l.length-a,p.d=Ur(Ft(p),10,i),p.e=p.d.length),h=Ur(l,10,i),u=s=h.length;h[--s]==0;)h.pop();if(!h[0])l=v?"0p+0":"0";else{if(a<0?u--:(e=new d(e),e.d=h,e.e=u,e=_e(e,p,r,n,0,i),h=e.d,u=e.e,c=zu),a=h[r],o=i/2,c=c||h[r+1]!==void 0,c=n<4?(a!==void 0||c)&&(n===0||n===(e.s<0?3:2)):a>o||a===o&&(n===4||c||n===6&&h[r-1]&1||n===(e.s<0?8:7)),h.length=r,c)for(;++h[--r]>i-1;)h[r]=0,r||(++u,h.unshift(1));for(s=h.length;!h[s-1];--s);for(a=0,l="";a<s;a++)l+=qn.charAt(h[a]);if(v){if(s>1)if(t==16||t==8){for(a=t==16?4:3,--s;s%a;s++)l+="0";for(h=Ur(l,i,t),s=h.length;!h[s-1];--s);for(a=1,l="1.";a<s;a++)l+=qn.charAt(h[a])}else l=l.charAt(0)+"."+l.slice(1);l=l+(u<0?"p":"p+")+u}else if(u<0){for(;++u;)l="0"+l;l="0."+l}else if(++u>s)for(u-=s;u--;)l+="0";else u<s&&(l=l.slice(0,u)+"."+l.slice(u))}l=(t==16?"0x":t==2?"0b":t==8?"0o":"")+l}return e.s<0?"-"+l:l}function Ai(e,t){if(e.length>t)return e.length=t,!0}function Bc(e){return new this(e).abs()}function Mc(e){return new this(e).acos()}function xc(e){return new this(e).acosh()}function Sc(e,t){return new this(e).plus(t)}function Nc(e){return new this(e).asin()}function Tc(e){return new this(e).asinh()}function Lc(e){return new this(e).atan()}function Ic(e){return new this(e).atanh()}function Pc(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,u=n+4;return!e.s||!t.s?r=new this(NaN):!e.d&&!t.d?(r=yt(this,u,1).times(t.s>0?.25:.75),r.s=e.s):!t.d||e.isZero()?(r=t.s<0?yt(this,n,i):new this(0),r.s=e.s):!e.d||t.isZero()?(r=yt(this,u,1).times(.5),r.s=e.s):t.s<0?(this.precision=u,this.rounding=1,r=this.atan(_e(e,t,u,1)),t=yt(this,u,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(_e(e,t,u,1)),r}function Oc(e){return new this(e).cbrt()}function $c(e){return ie(e=new this(e),e.e+1,2)}function Rc(e,t,r){return new this(e).clamp(t,r)}function zc(e){if(!e||typeof e!="object")throw Error(mn+"Object expected");var t,r,n,i=e.defaults===!0,u=["precision",1,qt,"rounding",0,8,"toExpNeg",-er,0,"toExpPos",0,er,"maxE",0,er,"minE",-er,0,"modulo",0,9];for(t=0;t<u.length;t+=3)if(r=u[t],i&&(this[r]=Hn[r]),(n=e[r])!==void 0)if(Xe(n)===n&&n>=u[t+1]&&n<=u[t+2])this[r]=n;else throw Error(zt+r+": "+n);if(r="crypto",i&&(this[r]=Hn[r]),(n=e[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(Hu);else this[r]=!1;else throw Error(zt+r+": "+n);return this}function qc(e){return new this(e).cos()}function Hc(e){return new this(e).cosh()}function Ju(e){var t,r,n;function i(u){var a,o,s,c=this;if(!(c instanceof i))return new i(u);if(c.constructor=i,Bi(u)){c.s=u.s,ae?!u.d||u.e>i.maxE?(c.e=NaN,c.d=null):u.e<i.minE?(c.e=0,c.d=[0]):(c.e=u.e,c.d=u.d.slice()):(c.e=u.e,c.d=u.d?u.d.slice():u.d);return}if(s=typeof u,s==="number"){if(u===0){c.s=1/u<0?-1:1,c.e=0,c.d=[0];return}if(u<0?(u=-u,c.s=-1):c.s=1,u===~~u&&u<1e7){for(a=0,o=u;o>=10;o/=10)a++;ae?a>i.maxE?(c.e=NaN,c.d=null):a<i.minE?(c.e=0,c.d=[0]):(c.e=a,c.d=[u]):(c.e=a,c.d=[u]);return}if(u*0!==0){u||(c.s=NaN),c.e=NaN,c.d=null;return}return kr(c,u.toString())}if(s==="string")return(o=u.charCodeAt(0))===45?(u=u.slice(1),c.s=-1):(o===43&&(u=u.slice(1)),c.s=1),ku.test(u)?kr(c,u):Cc(c,u);if(s==="bigint")return u<0?(u=-u,c.s=-1):c.s=1,kr(c,u.toString());throw Error(zt+u)}if(i.prototype=z,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=zc,i.clone=Ju,i.isDecimal=Bi,i.abs=Bc,i.acos=Mc,i.acosh=xc,i.add=Sc,i.asin=Nc,i.asinh=Tc,i.atan=Lc,i.atanh=Ic,i.atan2=Pc,i.cbrt=Oc,i.ceil=$c,i.clamp=Rc,i.cos=qc,i.cosh=Hc,i.div=Uc,i.exp=kc,i.floor=Vc,i.hypot=Zc,i.ln=Wc,i.log=jc,i.log10=Jc,i.log2=Gc,i.max=Yc,i.min=Kc,i.mod=Xc,i.mul=Qc,i.pow=el,i.random=tl,i.round=rl,i.sign=nl,i.sin=il,i.sinh=ul,i.sqrt=al,i.sub=ol,i.sum=sl,i.tan=cl,i.tanh=ll,i.trunc=fl,e===void 0&&(e={}),e&&e.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function Uc(e,t){return new this(e).div(t)}function kc(e){return new this(e).exp()}function Vc(e){return ie(e=new this(e),e.e+1,3)}function Zc(){var e,t,r=new this(0);for(ae=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return ae=!0,new this(1/0);r=t}return ae=!0,r.sqrt()}function Bi(e){return e instanceof ir||e&&e.toStringTag===Uu||!1}function Wc(e){return new this(e).ln()}function jc(e,t){return new this(e).log(t)}function Gc(e){return new this(e).log(2)}function Jc(e){return new this(e).log(10)}function Yc(){return Wu(this,arguments,-1)}function Kc(){return Wu(this,arguments,1)}function Xc(e,t){return new this(e).mod(t)}function Qc(e,t){return new this(e).mul(t)}function el(e,t){return new this(e).pow(t)}function tl(e){var t,r,n,i,u=0,a=new this(1),o=[];if(e===void 0?e=this.precision:it(e,1,qt),n=Math.ceil(e/ue),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));u<n;)i=t[u],i>=429e7?t[u]=crypto.getRandomValues(new Uint32Array(1))[0]:o[u++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);u<n;)i=t[u]+(t[u+1]<<8)+(t[u+2]<<16)+((t[u+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(t,u):(o.push(i%1e7),u+=4);u=n/4}else throw Error(Hu);else for(;u<n;)o[u++]=Math.random()*1e7|0;for(n=o[--u],e%=ue,n&&e&&(i=ze(10,ue-e),o[u]=(n/i|0)*i);o[u]===0;u--)o.pop();if(u<0)r=0,o=[0];else{for(r=-1;o[0]===0;r-=ue)o.shift();for(n=1,i=o[0];i>=10;i/=10)n++;n<ue&&(r-=ue-n)}return a.e=r,a.d=o,a}function rl(e){return ie(e=new this(e),e.e+1,this.rounding)}function nl(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function il(e){return new this(e).sin()}function ul(e){return new this(e).sinh()}function al(e){return new this(e).sqrt()}function ol(e,t){return new this(e).sub(t)}function sl(){var e=0,t=arguments,r=new this(t[e]);for(ae=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return ae=!0,ie(r,this.precision,this.rounding)}function cl(e){return new this(e).tan()}function ll(e){return new this(e).tanh()}function fl(e){return ie(e=new this(e),e.e+1,1)}z[Symbol.for("nodejs.util.inspect.custom")]=z.toString;z[Symbol.toStringTag]="Decimal";var ir=z.constructor=Ju(Hn);Xr=new ir(Xr);Qr=new ir(Qr);var hl="BigNumber",pl=["?on","config"],dl=re(hl,pl,e=>{var{on:t,config:r}=e,n=ir.clone({precision:r.precision,modulo:ir.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},t&&t("config",function(i,u){i.precision!==u.precision&&n.config({precision:i.precision})}),n},{isClass:!0});const Je=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:(Math.exp(e)+Math.exp(-e))*.5},lt=Math.sinh||function(e){return Math.abs(e)<1e-9?e:(Math.exp(e)-Math.exp(-e))*.5},ml=function(e){const t=Math.PI/4;if(-t>e||e>t)return Math.cos(e)-1;const r=e*e;return r*(r*(r*(r*(r*(r*(r*(r/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},xn=function(e,t){return e=Math.abs(e),t=Math.abs(t),e<t&&([e,t]=[t,e]),e<1e8?Math.sqrt(e*e+t*t):(t/=e,e*Math.sqrt(1+t*t))},Kt=function(){throw SyntaxError("Invalid Param")};function Sn(e,t){const r=Math.abs(e),n=Math.abs(t);return e===0?Math.log(n):t===0?Math.log(r):r<3e3&&n<3e3?Math.log(e*e+t*t)*.5:(e=e*.5,t=t*.5,.5*Math.log(e*e+t*t)+Math.LN2)}const vl={re:0,im:0},Ht=function(e,t){const r=vl;if(e==null)r.re=r.im=0;else if(t!==void 0)r.re=e,r.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)r.re=e.re,r.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return L.INFINITY;r.re=e.abs*Math.cos(e.arg),r.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return L.INFINITY;r.re=e.r*Math.cos(e.phi),r.im=e.r*Math.sin(e.phi)}else e.length===2?(r.re=e[0],r.im=e[1]):Kt();break;case"string":r.im=r.re=0;const n=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let i=1,u=0;n===null&&Kt();for(let a=0;a<n.length;a++){const o=n[a];o===" "||o==="	"||o===`
`||(o==="+"?i++:o==="-"?u++:o==="i"||o==="I"?(i+u===0&&Kt(),n[a+1]!==" "&&!isNaN(n[a+1])?(r.im+=parseFloat((u%2?"-":"")+n[a+1]),a++):r.im+=parseFloat((u%2?"-":"")+"1"),i=u=0):((i+u===0||isNaN(o))&&Kt(),n[a+1]==="i"||n[a+1]==="I"?(r.im+=parseFloat((u%2?"-":"")+o),a++):r.re+=parseFloat((u%2?"-":"")+o),i=u=0))}i+u>0&&Kt();break;case"number":r.im=0,r.re=e;break;default:Kt()}return isNaN(r.re)||isNaN(r.im),r};function L(e,t){if(!(this instanceof L))return new L(e,t);const r=Ht(e,t);this.re=r.re,this.im=r.im}L.prototype={re:0,im:0,sign:function(){const e=xn(this.re,this.im);return new L(this.re/e,this.im/e)},add:function(e,t){const r=Ht(e,t),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im));return n||i?n&&i?L.NAN:L.INFINITY:new L(this.re+r.re,this.im+r.im)},sub:function(e,t){const r=Ht(e,t),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im));return n||i?n&&i?L.NAN:L.INFINITY:new L(this.re-r.re,this.im-r.im)},mul:function(e,t){const r=Ht(e,t),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im)),u=this.re===0&&this.im===0,a=r.re===0&&r.im===0;return n&&a||i&&u?L.NAN:n||i?L.INFINITY:r.im===0&&this.im===0?new L(this.re*r.re,0):new L(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(e,t){const r=Ht(e,t),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im)),u=this.re===0&&this.im===0,a=r.re===0&&r.im===0;if(u&&a||n&&i)return L.NAN;if(a||n)return L.INFINITY;if(u||i)return L.ZERO;if(r.im===0)return new L(this.re/r.re,this.im/r.re);if(Math.abs(r.re)<Math.abs(r.im)){const o=r.re/r.im,s=r.re*o+r.im;return new L((this.re*o+this.im)/s,(this.im*o-this.re)/s)}else{const o=r.im/r.re,s=r.im*o+r.re;return new L((this.re+this.im*o)/s,(this.im-this.re*o)/s)}},pow:function(e,t){const r=Ht(e,t),n=this.re===0&&this.im===0;if(r.re===0&&r.im===0)return L.ONE;if(r.im===0){if(this.im===0&&this.re>0)return new L(Math.pow(this.re,r.re),0);if(this.re===0)switch((r.re%4+4)%4){case 0:return new L(Math.pow(this.im,r.re),0);case 1:return new L(0,Math.pow(this.im,r.re));case 2:return new L(-Math.pow(this.im,r.re),0);case 3:return new L(0,-Math.pow(this.im,r.re))}}if(n&&r.re>0)return L.ZERO;const u=Math.atan2(this.im,this.re),a=Sn(this.re,this.im);let o=Math.exp(r.re*a-r.im*u),s=r.im*a+r.re*u;return new L(o*Math.cos(s),o*Math.sin(s))},sqrt:function(){const e=this.re,t=this.im;if(t===0)return e>=0?new L(Math.sqrt(e),0):new L(0,Math.sqrt(-e));const r=xn(e,t);let n=Math.sqrt(.5*(r+Math.abs(e))),i=Math.abs(t)/(2*n);return e>=0?new L(n,t<0?-i:i):new L(i,t<0?-n:n)},exp:function(){const e=Math.exp(this.re);return this.im===0?new L(e,0):new L(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){const e=this.re,t=this.im;return new L(Math.expm1(e)*Math.cos(t)+ml(t),Math.exp(e)*Math.sin(t))},log:function(){const e=this.re,t=this.im;return t===0&&e>0?new L(Math.log(e),0):new L(Sn(e,t),Math.atan2(t,e))},abs:function(){return xn(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const e=this.re,t=this.im;return new L(Math.sin(e)*Je(t),Math.cos(e)*lt(t))},cos:function(){const e=this.re,t=this.im;return new L(Math.cos(e)*Je(t),-Math.sin(e)*lt(t))},tan:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)+Je(t);return new L(Math.sin(e)/r,lt(t)/r)},cot:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)-Je(t);return new L(-Math.sin(e)/r,lt(t)/r)},sec:function(){const e=this.re,t=this.im,r=.5*Je(2*t)+.5*Math.cos(2*e);return new L(Math.cos(e)*Je(t)/r,Math.sin(e)*lt(t)/r)},csc:function(){const e=this.re,t=this.im,r=.5*Je(2*t)-.5*Math.cos(2*e);return new L(Math.sin(e)*Je(t)/r,-Math.cos(e)*lt(t)/r)},asin:function(){const e=this.re,t=this.im,r=new L(t*t-e*e+1,-2*e*t).sqrt(),n=new L(r.re-t,r.im+e).log();return new L(n.im,-n.re)},acos:function(){const e=this.re,t=this.im,r=new L(t*t-e*e+1,-2*e*t).sqrt(),n=new L(r.re-t,r.im+e).log();return new L(Math.PI/2-n.im,n.re)},atan:function(){const e=this.re,t=this.im;if(e===0){if(t===1)return new L(0,1/0);if(t===-1)return new L(0,-1/0)}const r=e*e+(1-t)*(1-t),n=new L((1-t*t-e*e)/r,-2*e/r).log();return new L(-.5*n.im,.5*n.re)},acot:function(){const e=this.re,t=this.im;if(t===0)return new L(Math.atan2(1,e),0);const r=e*e+t*t;return r!==0?new L(e/r,-t/r).atan():new L(e!==0?e/0:0,t!==0?-t/0:0).atan()},asec:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new L(0,1/0);const r=e*e+t*t;return r!==0?new L(e/r,-t/r).acos():new L(e!==0?e/0:0,t!==0?-t/0:0).acos()},acsc:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new L(Math.PI/2,1/0);const r=e*e+t*t;return r!==0?new L(e/r,-t/r).asin():new L(e!==0?e/0:0,t!==0?-t/0:0).asin()},sinh:function(){const e=this.re,t=this.im;return new L(lt(e)*Math.cos(t),Je(e)*Math.sin(t))},cosh:function(){const e=this.re,t=this.im;return new L(Je(e)*Math.cos(t),lt(e)*Math.sin(t))},tanh:function(){const e=2*this.re,t=2*this.im,r=Je(e)+Math.cos(t);return new L(lt(e)/r,Math.sin(t)/r)},coth:function(){const e=2*this.re,t=2*this.im,r=Je(e)-Math.cos(t);return new L(lt(e)/r,-Math.sin(t)/r)},csch:function(){const e=this.re,t=this.im,r=Math.cos(2*t)-Je(2*e);return new L(-2*lt(e)*Math.cos(t)/r,2*Je(e)*Math.sin(t)/r)},sech:function(){const e=this.re,t=this.im,r=Math.cos(2*t)+Je(2*e);return new L(2*Je(e)*Math.cos(t)/r,-2*lt(e)*Math.sin(t)/r)},asinh:function(){let e=this.im;this.im=-this.re,this.re=e;const t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){const e=this.acos();if(e.im<=0){const t=e.re;e.re=-e.im,e.im=t}else{const t=e.im;e.im=-e.re,e.re=t}return e},atanh:function(){const e=this.re,t=this.im,r=e>1&&t===0,n=1-e,i=1+e,u=n*n+t*t,a=u!==0?new L((i*n-t*t)/u,(t*n+i*t)/u):new L(e!==-1?e/0:0,t!==0?t/0:0),o=a.re;return a.re=Sn(a.re,a.im)/2,a.im=Math.atan2(a.im,o)/2,r&&(a.im=-a.im),a},acoth:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new L(0,Math.PI/2);const r=e*e+t*t;return r!==0?new L(e/r,-t/r).atanh():new L(e!==0?e/0:0,t!==0?-t/0:0).atanh()},acsch:function(){const e=this.re,t=this.im;if(t===0)return new L(e!==0?Math.log(e+Math.sqrt(e*e+1)):1/0,0);const r=e*e+t*t;return r!==0?new L(e/r,-t/r).asinh():new L(e!==0?e/0:0,t!==0?-t/0:0).asinh()},asech:function(){const e=this.re,t=this.im;if(this.isZero())return L.INFINITY;const r=e*e+t*t;return r!==0?new L(e/r,-t/r).acosh():new L(e!==0?e/0:0,t!==0?-t/0:0).acosh()},inverse:function(){if(this.isZero())return L.INFINITY;if(this.isInfinite())return L.ZERO;const e=this.re,t=this.im,r=e*e+t*t;return new L(e/r,-t/r)},conjugate:function(){return new L(this.re,-this.im)},neg:function(){return new L(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new L(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new L(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new L(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){const r=Ht(e,t);return Math.abs(r.re-this.re)<=L.EPSILON&&Math.abs(r.im-this.im)<=L.EPSILON},clone:function(){return new L(this.re,this.im)},toString:function(){let e=this.re,t=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<L.EPSILON&&(e=0),Math.abs(t)<L.EPSILON&&(t=0),t===0?r+e:(e!==0?(r+=e,r+=" ",t<0?(t=-t,r+="-"):r+="+",r+=" "):t<0&&(t=-t,r+="-"),t!==1&&(r+=t),r+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};L.ZERO=new L(0,0);L.ONE=new L(1,0);L.I=new L(0,1);L.PI=new L(Math.PI,0);L.E=new L(Math.E,0);L.INFINITY=new L(1/0,1/0);L.NAN=new L(NaN,NaN);L.EPSILON=1e-15;var Dl="Complex",gl=[],yl=re(Dl,gl,()=>(Object.defineProperty(L,"name",{value:"Complex"}),L.prototype.constructor=L,L.prototype.type="Complex",L.prototype.isComplex=!0,L.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},L.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},L.prototype.format=function(e){var t="",r=this.im,n=this.re,i=zn(this.re,e),u=zn(this.im,e),a=Be(e)?e:e?e.precision:null;if(a!==null){var o=Math.pow(10,-a);Math.abs(n/r)<o&&(n=0),Math.abs(r/n)<o&&(r=0)}return r===0?t=i:n===0?r===1?t="i":r===-1?t="-i":t=u+"i":r<0?r===-1?t=i+" - i":t=i+" - "+u.substring(1)+"i":r===1?t=i+" + i":t=i+" + "+u+"i",t},L.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return L(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],n=arguments[1];if(Be(r)){if(Lu(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),Be(n))return new L({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},L.prototype.valueOf=L.prototype.toString,L.fromJSON=function(e){return new L(e)},L.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},L),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(e){if(isNaN(e))throw new Error("");return e});const ne=BigInt(0),oe=BigInt(1),wr=BigInt(2),Vn=BigInt(5),rt=BigInt(10),wl=2e3,W={s:oe,n:ne,d:oe};function Nt(e,t){try{e=BigInt(e)}catch{throw Pt()}return e*t}function vt(e){return typeof e=="bigint"?e:Math.floor(e)}function Ne(e,t){if(t===ne)throw ni();const r=Object.create(ht.prototype);r.s=e<ne?-oe:oe,e=e<ne?-e:e;const n=Ut(e,t);return r.n=e/n,r.d=t/n,r}function Xt(e){const t={};let r=e,n=wr,i=Vn-oe;for(;i<=r;){for(;r%n===ne;)r/=n,t[n]=(t[n]||ne)+oe;i+=oe+wr*n++}return r!==e?r>1&&(t[r]=(t[r]||ne)+oe):t[e]=(t[e]||ne)+oe,t}const ke=function(e,t){let r=ne,n=oe,i=oe;if(e!=null)if(t!==void 0){if(typeof e=="bigint")r=e;else{if(isNaN(e))throw Pt();if(e%1!==0)throw Mi();r=BigInt(e)}if(typeof t=="bigint")n=t;else{if(isNaN(t))throw Pt();if(t%1!==0)throw Mi();n=BigInt(t)}i=r*n}else if(typeof e=="object"){if("d"in e&&"n"in e)r=BigInt(e.n),n=BigInt(e.d),"s"in e&&(r*=BigInt(e.s));else if(0 in e)r=BigInt(e[0]),1 in e&&(n=BigInt(e[1]));else if(typeof e=="bigint")r=e;else throw Pt();i=r*n}else if(typeof e=="number"){if(isNaN(e))throw Pt();if(e<0&&(i=-oe,e=-e),e%1===0)r=BigInt(e);else{let u=1,a=0,o=1,s=1,c=1,l=1e7;for(e>=1&&(u=10**Math.floor(1+Math.log10(e)),e/=u);o<=l&&c<=l;){let h=(a+s)/(o+c);if(e===h){o+c<=l?(r=a+s,n=o+c):c>o?(r=s,n=c):(r=a,n=o);break}else e>h?(a+=s,o+=c):(s+=a,c+=o),o>l?(r=s,n=c):(r=a,n=o)}r=BigInt(r)*BigInt(u),n=BigInt(n)}}else if(typeof e=="string"){let u=0,a=ne,o=ne,s=ne,c=oe,l=oe,h=e.replace(/_/g,"").match(/\d+|./g);if(h===null)throw Pt();if(h[u]==="-"?(i=-oe,u++):h[u]==="+"&&u++,h.length===u+1?o=Nt(h[u++],i):h[u+1]==="."||h[u]==="."?(h[u]!=="."&&(a=Nt(h[u++],i)),u++,(u+1===h.length||h[u+1]==="("&&h[u+3]===")"||h[u+1]==="'"&&h[u+3]==="'")&&(o=Nt(h[u],i),c=rt**BigInt(h[u].length),u++),(h[u]==="("&&h[u+2]===")"||h[u]==="'"&&h[u+2]==="'")&&(s=Nt(h[u+1],i),l=rt**BigInt(h[u+1].length)-oe,u+=3)):h[u+1]==="/"||h[u+1]===":"?(o=Nt(h[u],i),c=Nt(h[u+2],oe),u+=3):h[u+3]==="/"&&h[u+1]===" "&&(a=Nt(h[u],i),o=Nt(h[u+2],i),c=Nt(h[u+4],oe),u+=5),h.length<=u)n=c*l,i=r=s+n*a+l*o;else throw Pt()}else if(typeof e=="bigint")r=e,i=e,n=oe;else throw Pt();if(n===ne)throw ni();W.s=i<ne?-oe:oe,W.n=r<ne?-r:r,W.d=n<ne?-n:n};function _l(e,t,r){let n=oe;for(;t>ne;e=e*e%r,t>>=oe)t&oe&&(n=n*e%r);return n}function El(e,t){for(;t%wr===ne;t/=wr);for(;t%Vn===ne;t/=Vn);if(t===oe)return ne;let r=rt%t,n=1;for(;r!==oe;n++)if(r=r*rt%t,n>wl)return ne;return BigInt(n)}function Fl(e,t,r){let n=oe,i=_l(rt,r,t);for(let u=0;u<300;u++){if(n===i)return BigInt(u);n=n*rt%t,i=i*rt%t}return 0}function Ut(e,t){if(!e)return t;if(!t)return e;for(;;){if(e%=t,!e)return t;if(t%=e,!t)return e}}function ht(e,t){if(ke(e,t),this instanceof ht)e=Ut(W.d,W.n),this.s=W.s,this.n=W.n/e,this.d=W.d/e;else return Ne(W.s*W.n,W.d)}var ni=function(){return new Error("Division by Zero")},Pt=function(){return new Error("Invalid argument")},Mi=function(){return new Error("Parameters must be integer")};ht.prototype={s:oe,n:ne,d:oe,abs:function(){return Ne(this.n,this.d)},neg:function(){return Ne(-this.s*this.n,this.d)},add:function(e,t){return ke(e,t),Ne(this.s*this.n*W.d+W.s*this.d*W.n,this.d*W.d)},sub:function(e,t){return ke(e,t),Ne(this.s*this.n*W.d-W.s*this.d*W.n,this.d*W.d)},mul:function(e,t){return ke(e,t),Ne(this.s*W.s*this.n*W.n,this.d*W.d)},div:function(e,t){return ke(e,t),Ne(this.s*W.s*this.n*W.d,this.d*W.n)},clone:function(){return Ne(this.s*this.n,this.d)},mod:function(e,t){if(e===void 0)return Ne(this.s*this.n%this.d,oe);if(ke(e,t),ne===W.n*this.d)throw ni();return Ne(this.s*(W.d*this.n)%(W.n*this.d),W.d*this.d)},gcd:function(e,t){return ke(e,t),Ne(Ut(W.n,this.n)*Ut(W.d,this.d),W.d*this.d)},lcm:function(e,t){return ke(e,t),W.n===ne&&this.n===ne?Ne(ne,oe):Ne(W.n*this.n,Ut(W.n,this.n)*Ut(W.d,this.d))},inverse:function(){return Ne(this.s*this.d,this.n)},pow:function(e,t){if(ke(e,t),W.d===oe)return W.s<ne?Ne((this.s*this.d)**W.n,this.n**W.n):Ne((this.s*this.n)**W.n,this.d**W.n);if(this.s<ne)return null;let r=Xt(this.n),n=Xt(this.d),i=oe,u=oe;for(let a in r)if(a!=="1"){if(a==="0"){i=ne;break}if(r[a]*=W.n,r[a]%W.d===ne)r[a]/=W.d;else return null;i*=BigInt(a)**r[a]}for(let a in n)if(a!=="1"){if(n[a]*=W.n,n[a]%W.d===ne)n[a]/=W.d;else return null;u*=BigInt(a)**n[a]}return W.s<ne?Ne(u,i):Ne(i,u)},log:function(e,t){if(ke(e,t),this.s<=ne||W.s<=ne)return null;const r={},n=Xt(W.n),i=Xt(W.d),u=Xt(this.n),a=Xt(this.d);for(const c in i)n[c]=(n[c]||ne)-i[c];for(const c in a)u[c]=(u[c]||ne)-a[c];for(const c in n)c!=="1"&&(r[c]=!0);for(const c in u)c!=="1"&&(r[c]=!0);let o=null,s=null;for(const c in r){const l=n[c]||ne,h=u[c]||ne;if(l===ne){if(h!==ne)return null;continue}let p=h,d=l;const v=Ut(p,d);if(p/=v,d/=v,o===null&&s===null)o=p,s=d;else if(p*s!==o*d)return null}return o!==null&&s!==null?Ne(o,s):null},equals:function(e,t){return ke(e,t),this.s*this.n*W.d===W.s*W.n*this.d},lt:function(e,t){return ke(e,t),this.s*this.n*W.d<W.s*W.n*this.d},lte:function(e,t){return ke(e,t),this.s*this.n*W.d<=W.s*W.n*this.d},gt:function(e,t){return ke(e,t),this.s*this.n*W.d>W.s*W.n*this.d},gte:function(e,t){return ke(e,t),this.s*this.n*W.d>=W.s*W.n*this.d},compare:function(e,t){ke(e,t);let r=this.s*this.n*W.d-W.s*W.n*this.d;return(ne<r)-(r<ne)},ceil:function(e){return e=rt**BigInt(e||0),Ne(vt(this.s*e*this.n/this.d)+(e*this.n%this.d>ne&&this.s>=ne?oe:ne),e)},floor:function(e){return e=rt**BigInt(e||0),Ne(vt(this.s*e*this.n/this.d)-(e*this.n%this.d>ne&&this.s<ne?oe:ne),e)},round:function(e){return e=rt**BigInt(e||0),Ne(vt(this.s*e*this.n/this.d)+this.s*((this.s>=ne?oe:ne)+wr*(e*this.n%this.d)>this.d?oe:ne),e)},roundTo:function(e,t){ke(e,t);const r=this.n*W.d,n=this.d*W.n,i=r%n;let u=vt(r/n);return i+i>=n&&u++,Ne(this.s*u*W.n,W.d)},divisible:function(e,t){return ke(e,t),!(!(W.n*this.d)||this.n*W.d%(W.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(e){let t=this.n,r=this.d;e=e||15;let n=El(t,r),i=Fl(t,r,n),u=this.s<ne?"-":"";if(u+=vt(t/r),t%=r,t*=rt,t&&(u+="."),n){for(let a=i;a--;)u+=vt(t/r),t%=r,t*=rt;u+="(";for(let a=n;a--;)u+=vt(t/r),t%=r,t*=rt;u+=")"}else for(let a=e;t&&a--;)u+=vt(t/r),t%=r,t*=rt;return u},toFraction:function(e){let t=this.n,r=this.d,n=this.s<ne?"-":"";if(r===oe)n+=t;else{let i=vt(t/r);e&&i>ne&&(n+=i,n+=" ",t%=r),n+=t,n+="/",n+=r}return n},toLatex:function(e){let t=this.n,r=this.d,n=this.s<ne?"-":"";if(r===oe)n+=t;else{let i=vt(t/r);e&&i>ne&&(n+=i,t%=r),n+="\\frac{",n+=t,n+="}{",n+=r,n+="}"}return n},toContinued:function(){let e=this.n,t=this.d,r=[];do{r.push(vt(e/t));let n=e%t;e=t,t=n}while(e!==oe);return r},simplify:function(e){const t=BigInt(1/(e||.001)|0),r=this.abs(),n=r.toContinued();for(let i=1;i<n.length;i++){let u=Ne(n[i-1],oe);for(let o=i-2;o>=0;o--)u=u.inverse().add(n[o]);let a=u.sub(r);if(a.n*t<a.d)return u.mul(this.s)}return this}};var bl="Fraction",Cl=[],Al=re(bl,Cl,()=>(Object.defineProperty(ht,"name",{value:"Fraction"}),ht.prototype.constructor=ht,ht.prototype.type="Fraction",ht.prototype.isFraction=!0,ht.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},ht.fromJSON=function(e){return new ht(e)},ht),{isClass:!0}),Bl="Matrix",Ml=[],xl=re(Bl,Ml,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,r){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,r,n){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,r){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,r){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,r){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function Nn(e,t,r){var n=e.constructor,i=new n(2),u="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Ie(r))throw new Error("size must be an integer");if(e.greaterThan(i.pow(r-1).sub(1))||e.lessThan(i.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(i.pow(r))),u="i".concat(r)}switch(t){case 2:return"".concat(e.toBinary()).concat(u);case 8:return"".concat(e.toOctal()).concat(u);case 16:return"".concat(e.toHexadecimal()).concat(u);default:throw new Error("Base ".concat(t," not supported "))}}function Sl(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:r,precision:n,wordSize:i}=Ou(t);switch(r){case"fixed":return Tl(e,n);case"exponential":return xi(e,n);case"engineering":return Nl(e,n);case"bin":return Nn(e,2,i);case"oct":return Nn(e,8,i);case"hex":return Nn(e,16,i);case"auto":{var u=Si(t==null?void 0:t.lowerExp,-3),a=Si(t==null?void 0:t.upperExp,5);if(e.isZero())return"0";var o,s=e.toSignificantDigits(n),c=s.e;return c>=u&&c<a?o=s.toFixed():o=xi(e,n),o.replace(/((\.\d*?)(0+))($|e)/,function(){var l=arguments[2],h=arguments[4];return l!=="."?l+h:h})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Nl(e,t){var r=e.e,n=r%3===0?r:r<0?r-3-r%3:r-r%3,i=e.mul(Math.pow(10,-n)),u=i.toPrecision(t);if(u.includes("e")){var a=e.constructor;u=new a(u).toFixed()}return u+"e"+(r>=0?"+":"")+n.toString()}function xi(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function Tl(e,t){return e.toFixed(t)}function Si(e,t){return Be(e)?e:Se(e)?e.toNumber():t}function $e(e,t){var r=Ll(e,t);return t&&typeof t=="object"&&"truncate"in t&&r.length>t.truncate?r.substring(0,t.truncate-3)+"...":r}function Ll(e,t){if(typeof e=="number")return zn(e,t);if(Se(e))return Sl(e,t);if(Il(e))return!t||t.fraction!=="decimal"?"".concat(e.s*e.n,"/").concat(e.d):e.toString();if(Array.isArray(e))return Yu(e,t);if(pt(e))return Ni(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var r=Object.keys(e).map(n=>Ni(n)+": "+$e(e[n],t));return"{"+r.join(", ")+"}"}return String(e)}function Ni(e){for(var t=String(e),r="",n=0;n<t.length;){var i=t.charAt(n);r+=i in Ti?Ti[i]:i,n++}return'"'+r+'"'}var Ti={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Yu(e,t){if(Array.isArray(e)){for(var r="[",n=e.length,i=0;i<n;i++)i!==0&&(r+=", "),r+=Yu(e[i],t);return r+="]",r}else return $e(e,t)}function Il(e){return e&&typeof e=="object"&&typeof e.s=="bigint"&&typeof e.n=="bigint"&&typeof e.d=="bigint"||!1}function fe(e,t,r){if(!(this instanceof fe))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}fe.prototype=new RangeError;fe.prototype.constructor=RangeError;fe.prototype.name="DimensionError";fe.prototype.isDimensionError=!0;function Zt(e,t,r){if(!(this instanceof Zt))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Zt.prototype=new RangeError;Zt.prototype.constructor=RangeError;Zt.prototype.name="IndexError";Zt.prototype.isIndexError=!0;function Ke(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function Ku(e,t,r){var n,i=e.length;if(i!==t[r])throw new fe(i,t[r]);if(r<t.length-1){var u=r+1;for(n=0;n<i;n++){var a=e[n];if(!Array.isArray(a))throw new fe(t.length-1,t.length,"<");Ku(e[n],t,u)}}else for(n=0;n<i;n++)if(Array.isArray(e[n]))throw new fe(t.length+1,t.length,">")}function Li(e,t){var r=t.length===0;if(r){if(Array.isArray(e))throw new fe(e.length,0)}else Ku(e,t,0)}function tn(e,t){var r=e.isMatrix?e._size:Ke(e),n=t._sourceSize;n.forEach((i,u)=>{if(i!==null&&i!==r[u])throw new fe(i,r[u])})}function be(e,t){if(e!==void 0){if(!Be(e)||!Ie(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new Zt(e,t)}}function ur(e){for(var t=0;t<e._dimensions.length;++t){var r=e._dimensions[t];if(r._data&&Ce(r._data)){if(r._size[0]===0)return!0}else if(r.isRange){if(r.start===r.end)return!0}else if(pt(r)&&r.length===0)return!0}return!1}function _r(e,t,r){if(!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(i){if(!Be(i)||!Ie(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+$e(t)+")")}),(Be(e)||Se(e))&&(e=[e]);var n=r!==void 0?r:0;return Zn(e,t,0,n),e}function Zn(e,t,r,n){var i,u,a=e.length,o=t[r],s=Math.min(a,o);if(e.length=o,r<t.length-1){var c=r+1;for(i=0;i<s;i++)u=e[i],Array.isArray(u)||(u=[u],e[i]=u),Zn(u,t,c,n);for(i=s;i<o;i++)u=[],e[i]=u,Zn(u,t,c,n)}else{for(i=0;i<s;i++)for(;Array.isArray(e[i]);)e[i]=e[i][0];for(i=s;i<o;i++)e[i]=n}}function Xu(e,t){var r=Ol(e),n=r.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new fe(0,n,"!=");t=ii(t,n);var i=Qu(t);if(n!==i)throw new fe(i,n,"!=");try{return Pl(r,t)}catch(u){throw u instanceof fe?new fe(i,n,"!="):u}}function ii(e,t){var r=Qu(e),n=e.slice(),i=-1,u=e.indexOf(i),a=e.indexOf(i,u+1)>=0;if(a)throw new Error("More than one wildcard in sizes");var o=u>=0,s=t%r===0;if(o)if(s)n[u]=-t/r;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-r);return n}function Qu(e){return e.reduce((t,r)=>t*r,1)}function Pl(e,t){for(var r=e,n,i=t.length-1;i>0;i--){var u=t[i];n=[];for(var a=r.length/u,o=0;o<a;o++)n.push(r.slice(o*u,(o+1)*u));r=n}return r}function ea(e,t,r,n){var i=n||Ke(e);if(r)for(var u=0;u<r;u++)e=[e],i.unshift(1);for(e=ta(e,t,0);i.length<t;)i.push(1);return e}function ta(e,t,r){var n,i;if(Array.isArray(e)){var u=r+1;for(n=0,i=e.length;n<i;n++)e[n]=ta(e[n],t,u)}else for(var a=r;a<t;a++)e=[e];return e}function Ol(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function r(n){Array.isArray(n)?n.forEach(r):t.push(n)}),t}function gn(e,t){for(var r,n=0,i=0;i<e.length;i++){var u=e[i],a=Array.isArray(u);if(i===0&&a&&(n=u.length),a&&u.length!==n)return;var o=a?gn(u,t):t(u);if(r===void 0)r=o;else if(r!==o)return"mixed"}return r}function ra(e,t,r,n){if(n<r){if(e.length!==t.length)throw new fe(e.length,t.length);for(var i=[],u=0;u<e.length;u++)i[u]=ra(e[u],t[u],r,n+1);return i}else return e.concat(t)}function na(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(r,n){return ra(r,n,t,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function ia(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=t.map(p=>p.length),i=Math.max(...n),u=new Array(i).fill(null),a=0;a<t.length;a++)for(var o=t[a],s=n[a],c=0;c<s;c++){var l=i-s+c;o[c]>u[l]&&(u[l]=o[c])}for(var h=0;h<t.length;h++)ua(t[h],u);return u}function ua(e,t){for(var r=t.length,n=e.length,i=0;i<n;i++){var u=r-n+i;if(e[i]<t[u]&&e[i]>1||e[i]>t[u])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(n," with size ").concat(e[i]," to size ").concat(t[u]))}}function Wn(e,t){var r=Ke(e);if(Rt(r,t))return e;ua(r,t);var n=ia(r,t),i=n.length,u=[...Array(i-r.length).fill(1),...r],a=Rl(e);r.length<i&&(a=Xu(a,u),r=Ke(a));for(var o=0;o<i;o++)r[o]<n[o]&&(a=$l(a,n[o],o),r=Ke(a));return a}function $l(e,t,r){return na(...Array(t).fill(e),r)}function aa(e,t){if(!Array.isArray(e))throw new Error("Array expected");var r=Ke(e);if(t.length!==r.length)throw new fe(t.length,r.length);for(var n=0;n<t.length;n++)be(t[n],r[n]);return t.reduce((i,u)=>i[u],e)}function Rl(e){return Gr([],e)}function rn(e,t,r){if(Kr.isTypedFunction(e)){var n=(t.isMatrix?t.size():Ke(t)).map(()=>0),i=t.isMatrix?t.get(n):aa(t,n),u=Object.keys(e.signatures).length===1,a=zl(e,i,n,t),o=u?Object.values(e.signatures)[0]:e;return a>=1&&a<=3?function(){for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];return Ii(o,c.slice(0,a),r,e.name)}:function(){for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];return Ii(o,c,r,e.name)}}return e}function zl(e,t,r,n){for(var i=[t,r,n],u=3;u>0;u--){var a=i.slice(0,u);if(Kr.resolve(e,a)!==null)return u}}function Ii(e,t,r,n){try{return e(...t)}catch(i){ql(i,t,r,n)}}function ql(e,t,r,n){var i;if(e instanceof TypeError&&((i=e.data)===null||i===void 0?void 0:i.category)==="wrongType"){var u=[];throw u.push("value: ".concat(wt(t[0]))),t.length>=2&&u.push("index: ".concat(wt(t[1]))),t.length>=3&&u.push("array: ".concat(wt(t[2]))),new TypeError("Function ".concat(r," cannot apply callback arguments ")+"".concat(n,"(").concat(u.join(", "),") at index ").concat(JSON.stringify(t[1])))}else throw new TypeError("Function ".concat(r," cannot apply callback arguments ")+"to function ".concat(n,": ").concat(e.message))}var Hl="DenseMatrix",Ul=["Matrix"],kl=re(Hl,Ul,e=>{var{Matrix:t}=e;function r(l,h){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(h&&!pt(h))throw new Error("Invalid datatype: "+h);if(Te(l))l.type==="DenseMatrix"?(this._data=Ae(l._data),this._size=Ae(l._size),this._datatype=h||l._datatype):(this._data=l.toArray(),this._size=l.size(),this._datatype=h||l._datatype);else if(l&&Ce(l.data)&&Ce(l.size))this._data=l.data,this._size=l.size,Li(this._data,this._size),this._datatype=h||l.datatype;else if(Ce(l))this._data=c(l),this._size=Ke(this._data),Li(this._data,this._size),this._datatype=h;else{if(l)throw new TypeError("Unsupported type of data ("+wt(l)+")");this._data=[],this._size=[0],this._datatype=h}}r.prototype=new t,r.prototype.createDenseMatrix=function(l,h){return new r(l,h)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return gn(this._data,wt)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(l,h){return new r(l,h)},r.prototype.subset=function(l,h,p){switch(arguments.length){case 1:return n(this,l);case 2:case 3:return u(this,l,h,p);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(l){return aa(this._data,l)},r.prototype.set=function(l,h,p){if(!Ce(l))throw new TypeError("Array expected");if(l.length<this._size.length)throw new fe(l.length,this._size.length,"<");var d,v,f,m=l.map(function(E){return E+1});s(this,m,p);var D=this._data;for(d=0,v=l.length-1;d<v;d++)f=l[d],be(f,D.length),D=D[f];return f=l[l.length-1],be(f,D.length),D[f]=h,this};function n(l,h){if(!hn(h))throw new TypeError("Invalid index");var p=h.isScalar();if(p)return l.get(h.min());var d=h.size();if(d.length!==l._size.length)throw new fe(d.length,l._size.length);for(var v=h.min(),f=h.max(),m=0,D=l._size.length;m<D;m++)be(v[m],l._size[m]),be(f[m],l._size[m]);return new r(i(l._data,h,d.length,0),l._datatype)}function i(l,h,p,d){var v=d===p-1,f=h.dimension(d);return v?f.map(function(m){return be(m,l.length),l[m]}).valueOf():f.map(function(m){be(m,l.length);var D=l[m];return i(D,h,p,d+1)}).valueOf()}function u(l,h,p,d){if(!h||h.isIndex!==!0)throw new TypeError("Invalid index");var v=h.size(),f=h.isScalar(),m;if(Te(p)?(m=p.size(),p=p.valueOf()):m=Ke(p),f){if(m.length!==0)throw new TypeError("Scalar expected");l.set(h.min(),p,d)}else{if(!Rt(m,v))try{m.length===0?p=Wn([p],v):p=Wn(p,v),m=Ke(p)}catch{}if(v.length<l._size.length)throw new fe(v.length,l._size.length,"<");if(m.length<v.length){for(var D=0,E=0;v[D]===1&&m[D]===1;)D++;for(;v[D]===1;)E++,D++;p=ea(p,v.length,E,m)}if(!Rt(v,m))throw new fe(v,m,">");var g=h.max().map(function(y){return y+1});s(l,g,d);var F=v.length,w=0;a(l._data,h,p,F,w)}return l}function a(l,h,p,d,v){var f=v===d-1,m=h.dimension(v);f?m.forEach(function(D,E){be(D),l[D]=p[E[0]]}):m.forEach(function(D,E){be(D),a(l[D],h,p[E[0]],d,v+1)})}r.prototype.resize=function(l,h,p){if(!Yr(l))throw new TypeError("Array or Matrix expected");var d=l.valueOf().map(f=>Array.isArray(f)&&f.length===1?f[0]:f),v=p?this.clone():this;return o(v,d,h)};function o(l,h,p){if(h.length===0){for(var d=l._data;Ce(d);)d=d[0];return d}return l._size=h.slice(0),l._data=_r(l._data,l._size,p),l}r.prototype.reshape=function(l,h){var p=h?this.clone():this;p._data=Xu(p._data,l);var d=p._size.reduce((v,f)=>v*f);return p._size=ii(l,d),p};function s(l,h,p){for(var d=l._size.slice(0),v=!1;d.length<h.length;)d.push(0),v=!0;for(var f=0,m=h.length;f<m;f++)h[f]>d[f]&&(d[f]=h[f],v=!0);v&&o(l,d,p)}r.prototype.clone=function(){var l=new r({data:Ae(this._data),size:Ae(this._size),datatype:this._datatype});return l},r.prototype.size=function(){return this._size.slice(0)},r.prototype._forEach=function(l){var h=this,p=h.size();if(p.length===1){for(var d=0;d<p[0];d++)l(h._data,d,[d]);return}var v=Array(p.length).fill(0),f=Array(p.length-1),m=f.length-1;f[0]=h._data[0];for(var D=0;D<m;D++)f[D+1]=f[D][0];for(v[m]=-1;;){var E=void 0;for(E=m;E>=0;E--){if(v[E]++,v[E]===p[E]){v[E]=0;continue}f[E]=E===0?h._data[v[E]]:f[E-1][v[E]];for(var g=E;g<m;g++)f[g+1]=f[g][0];for(var F=0;F<p[f.length];F++)v[f.length]=F,l(f[m],F,v.slice(0));break}if(E===-1)break}},r.prototype.map=function(l){var h=this,p=new r(h),d=rn(l,h._data,"map");return p._forEach(function(v,f,m){v[f]=d(v[f],m,h)}),p},r.prototype.forEach=function(l){var h=this,p=rn(l,h._data,"map");h._forEach(function(d,v,f){p(d[v],f,h)})},r.prototype[Symbol.iterator]=function*(){var l=function*(p,d){if(Ce(p))for(var v=0;v<p.length;v++)yield*l(p[v],d.concat(v));else yield{value:p,index:d}};yield*l(this._data,[])},r.prototype.rows=function(){var l=[],h=this.size();if(h.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var p=this._data;for(var d of p)l.push(new r([d],this._datatype));return l},r.prototype.columns=function(){var l=this,h=[],p=this.size();if(p.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var d=this._data,v=function(D){var E=d.map(g=>[g[D]]);h.push(new r(E,l._datatype))},f=0;f<p[1];f++)v(f);return h},r.prototype.toArray=function(){return Ae(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(l){return $e(this._data,l)},r.prototype.toString=function(){return $e(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(l){if(l){if(Se(l)&&(l=l.toNumber()),!Be(l)||!Ie(l))throw new TypeError("The parameter k must be an integer number")}else l=0;for(var h=l>0?l:0,p=l<0?-l:0,d=this._size[0],v=this._size[1],f=Math.min(d-p,v-h),m=[],D=0;D<f;D++)m[D]=this._data[D+p][D+h];return new r({data:m,size:[f],datatype:this._datatype})},r.diagonal=function(l,h,p,d){if(!Ce(l))throw new TypeError("Array expected, size parameter");if(l.length!==2)throw new Error("Only two dimensions matrix are supported");if(l=l.map(function(B){if(Se(B)&&(B=B.toNumber()),!Be(B)||!Ie(B)||B<1)throw new Error("Size values must be positive integers");return B}),p){if(Se(p)&&(p=p.toNumber()),!Be(p)||!Ie(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var v=p>0?p:0,f=p<0?-p:0,m=l[0],D=l[1],E=Math.min(m-f,D-v),g;if(Ce(h)){if(h.length!==E)throw new Error("Invalid value array length");g=function(b){return h[b]}}else if(Te(h)){var F=h.size();if(F.length!==1||F[0]!==E)throw new Error("Invalid matrix length");g=function(b){return h.get([b])}}else g=function(){return h};d||(d=Se(g(0))?g(0).mul(0):0);var w=[];if(l.length>0){w=_r(w,l,d);for(var y=0;y<E;y++)w[y+f][y+v]=g(y)}return new r({data:w,size:[m,D]})},r.fromJSON=function(l){return new r(l)},r.prototype.swapRows=function(l,h){if(!Be(l)||!Ie(l)||!Be(h)||!Ie(h))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return be(l,this._size[0]),be(h,this._size[0]),r._swapRows(l,h,this._data),this},r._swapRows=function(l,h,p){var d=p[l];p[l]=p[h],p[h]=d};function c(l){return Te(l)?c(l.valueOf()):Ce(l)?l.map(c):l}return r},{isClass:!0});function Ct(e,t,r){return e&&typeof e.map=="function"?e.map(function(n){return Ct(n,t)}):t(e)}var Pi="isInteger",Vl=["typed"],Zl=re(Pi,Vl,e=>{var{typed:t}=e;return t(Pi,{number:Ie,BigNumber:function(n){return n.isInt()},bigint:function(n){return!0},Fraction:function(n){return n.d===1n},"Array | Matrix":t.referToSelf(r=>n=>Ct(n,r))})}),oa="number",ui="number, number";function sa(e){return Math.abs(e)}sa.signature=oa;function ca(e,t){return e+t}ca.signature=ui;function la(e,t){return e-t}la.signature=ui;function fa(e,t){return e*t}fa.signature=ui;function ha(e){return-e}ha.signature=oa;var Wl="number";function pa(e){return e>0}pa.signature=Wl;function sr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return e.isNaN()||t.isNaN()?!1:!e.isFinite()||!t.isFinite()?e.eq(t):e.eq(t)?!0:e.minus(t).abs().lte(e.constructor.max(e.constructor.max(e.abs(),t.abs()).mul(r),n))}var Oi="isPositive",jl=["typed","config"],Gl=re(Oi,jl,e=>{var{typed:t,config:r}=e;return t(Oi,{number:n=>Lt(n,0,r.relTol,r.absTol)?!1:pa(n),BigNumber:n=>sr(n,new n.constructor(0),r.relTol,r.absTol)?!1:!n.isNeg()&&!n.isZero()&&!n.isNaN(),bigint:n=>n>0n,Fraction:n=>n.s>0n&&n.n>0n,Unit:t.referToSelf(n=>i=>t.find(n,i.valueType())(i.value)),"Array | Matrix":t.referToSelf(n=>i=>Ct(i,n))})}),$i="isZero",Jl=["typed","equalScalar"],Yl=re($i,Jl,e=>{var{typed:t,equalScalar:r}=e;return t($i,{"number | BigNumber | Complex | Fraction":n=>r(n,0),bigint:n=>n===0n,Unit:t.referToSelf(n=>i=>t.find(n,i.valueType())(i.value)),"Array | Matrix":t.referToSelf(n=>i=>Ct(i,n))})});function Kl(e,t,r,n){return Lt(e.re,t.re,r,n)&&Lt(e.im,t.im,r,n)}var Br=re("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(r=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return t.find(r,[n.valueType(),i.valueType()])(n.value,i.value)})}}),nn="equalScalar",Xl=["typed","config"],Ql=re(nn,Xl,e=>{var{typed:t,config:r}=e,n=Br({typed:t});return t(nn,{"boolean, boolean":function(u,a){return u===a},"number, number":function(u,a){return Lt(u,a,r.relTol,r.absTol)},"BigNumber, BigNumber":function(u,a){return u.eq(a)||sr(u,a,r.relTol,r.absTol)},"bigint, bigint":function(u,a){return u===a},"Fraction, Fraction":function(u,a){return u.equals(a)},"Complex, Complex":function(u,a){return Kl(u,a,r.relTol,r.absTol)}},n)});re(nn,["typed","config"],e=>{var{typed:t,config:r}=e;return t(nn,{"number, number":function(i,u){return Lt(i,u,r.relTol,r.absTol)}})});var ef="SparseMatrix",tf=["typed","equalScalar","Matrix"],rf=re(ef,tf,e=>{var{typed:t,equalScalar:r,Matrix:n}=e;function i(f,m){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(m&&!pt(m))throw new Error("Invalid datatype: "+m);if(Te(f))u(this,f,m);else if(f&&Ce(f.index)&&Ce(f.ptr)&&Ce(f.size))this._values=f.values,this._index=f.index,this._ptr=f.ptr,this._size=f.size,this._datatype=m||f.datatype;else if(Ce(f))a(this,f,m);else{if(f)throw new TypeError("Unsupported type of data ("+wt(f)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=m}}function u(f,m,D){m.type==="SparseMatrix"?(f._values=m._values?Ae(m._values):void 0,f._index=Ae(m._index),f._ptr=Ae(m._ptr),f._size=Ae(m._size),f._datatype=D||m._datatype):a(f,m.valueOf(),D||m._datatype)}function a(f,m,D){f._values=[],f._index=[],f._ptr=[],f._datatype=D;var E=m.length,g=0,F=r,w=0;if(pt(D)&&(F=t.find(r,[D,D])||r,w=t.convert(0,D)),E>0){var y=0;do{f._ptr.push(f._index.length);for(var B=0;B<E;B++){var b=m[B];if(Ce(b)){if(y===0&&g<b.length&&(g=b.length),y<b.length){var M=b[y];F(M,w)||(f._values.push(M),f._index.push(B))}}else y===0&&g<1&&(g=1),F(b,w)||(f._values.push(b),f._index.push(B))}y++}while(y<g)}f._ptr.push(f._index.length),f._size=[E,g]}i.prototype=new n,i.prototype.createSparseMatrix=function(f,m){return new i(f,m)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return gn(this._values,wt)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(f,m){return new i(f,m)},i.prototype.density=function(){var f=this._size[0],m=this._size[1];return f!==0&&m!==0?this._index.length/(f*m):0},i.prototype.subset=function(f,m,D){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return o(this,f);case 2:case 3:return s(this,f,m,D);default:throw new SyntaxError("Wrong number of arguments")}};function o(f,m){if(!hn(m))throw new TypeError("Invalid index");var D=m.isScalar();if(D)return f.get(m.min());var E=m.size();if(E.length!==f._size.length)throw new fe(E.length,f._size.length);var g,F,w,y,B=m.min(),b=m.max();for(g=0,F=f._size.length;g<F;g++)be(B[g],f._size[g]),be(b[g],f._size[g]);var M=f._values,C=f._index,P=f._ptr,U=m.dimension(0),K=m.dimension(1),x=[],T=[];U.forEach(function(j,te){T[j]=te[0],x[j]=!0});var N=M?[]:void 0,Z=[],V=[];return K.forEach(function(j){for(V.push(Z.length),w=P[j],y=P[j+1];w<y;w++)g=C[w],x[g]===!0&&(Z.push(T[g]),N&&N.push(M[w]))}),V.push(Z.length),new i({values:N,index:Z,ptr:V,size:E,datatype:f._datatype})}function s(f,m,D,E){if(!m||m.isIndex!==!0)throw new TypeError("Invalid index");var g=m.size(),F=m.isScalar(),w;if(Te(D)?(w=D.size(),D=D.toArray()):w=Ke(D),F){if(w.length!==0)throw new TypeError("Scalar expected");f.set(m.min(),D,E)}else{if(g.length!==1&&g.length!==2)throw new fe(g.length,f._size.length,"<");if(w.length<g.length){for(var y=0,B=0;g[y]===1&&w[y]===1;)y++;for(;g[y]===1;)B++,y++;D=ea(D,g.length,B,w)}if(!Rt(g,w))throw new fe(g,w,">");if(g.length===1){var b=m.dimension(0);b.forEach(function(P,U){be(P),f.set([P,0],D[U[0]],E)})}else{var M=m.dimension(0),C=m.dimension(1);M.forEach(function(P,U){be(P),C.forEach(function(K,x){be(K),f.set([P,K],D[U[0]][x[0]],E)})})}}return f}i.prototype.get=function(f){if(!Ce(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new fe(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var m=f[0],D=f[1];be(m,this._size[0]),be(D,this._size[1]);var E=c(m,this._ptr[D],this._ptr[D+1],this._index);return E<this._ptr[D+1]&&this._index[E]===m?this._values[E]:0},i.prototype.set=function(f,m,D){if(!Ce(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new fe(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var E=f[0],g=f[1],F=this._size[0],w=this._size[1],y=r,B=0;pt(this._datatype)&&(y=t.find(r,[this._datatype,this._datatype])||r,B=t.convert(0,this._datatype)),(E>F-1||g>w-1)&&(p(this,Math.max(E+1,F),Math.max(g+1,w),D),F=this._size[0],w=this._size[1]),be(E,F),be(g,w);var b=c(E,this._ptr[g],this._ptr[g+1],this._index);return b<this._ptr[g+1]&&this._index[b]===E?y(m,B)?l(b,g,this._values,this._index,this._ptr):this._values[b]=m:y(m,B)||h(b,E,g,m,this._values,this._index,this._ptr),this};function c(f,m,D,E){if(D-m===0)return D;for(var g=m;g<D;g++)if(E[g]===f)return g;return m}function l(f,m,D,E,g){D.splice(f,1),E.splice(f,1);for(var F=m+1;F<g.length;F++)g[F]--}function h(f,m,D,E,g,F,w){g.splice(f,0,E),F.splice(f,0,m);for(var y=D+1;y<w.length;y++)w[y]++}i.prototype.resize=function(f,m,D){if(!Yr(f))throw new TypeError("Array or Matrix expected");var E=f.valueOf().map(F=>Array.isArray(F)&&F.length===1?F[0]:F);if(E.length!==2)throw new Error("Only two dimensions matrix are supported");E.forEach(function(F){if(!Be(F)||!Ie(F)||F<0)throw new TypeError("Invalid size, must contain positive integers (size: "+$e(E)+")")});var g=D?this.clone():this;return p(g,E[0],E[1],m)};function p(f,m,D,E){var g=E||0,F=r,w=0;pt(f._datatype)&&(F=t.find(r,[f._datatype,f._datatype])||r,w=t.convert(0,f._datatype),g=t.convert(g,f._datatype));var y=!F(g,w),B=f._size[0],b=f._size[1],M,C,P;if(D>b){for(C=b;C<D;C++)if(f._ptr[C]=f._values.length,y)for(M=0;M<B;M++)f._values.push(g),f._index.push(M);f._ptr[D]=f._values.length}else D<b&&(f._ptr.splice(D+1,b-D),f._values.splice(f._ptr[D],f._values.length),f._index.splice(f._ptr[D],f._index.length));if(b=D,m>B){if(y){var U=0;for(C=0;C<b;C++){f._ptr[C]=f._ptr[C]+U,P=f._ptr[C+1]+U;var K=0;for(M=B;M<m;M++,K++)f._values.splice(P+K,0,g),f._index.splice(P+K,0,M),U++}f._ptr[b]=f._values.length}}else if(m<B){var x=0;for(C=0;C<b;C++){f._ptr[C]=f._ptr[C]-x;var T=f._ptr[C],N=f._ptr[C+1]-x;for(P=T;P<N;P++)M=f._index[P],M>m-1&&(f._values.splice(P,1),f._index.splice(P,1),x++)}f._ptr[C]=f._values.length}return f._size[0]=m,f._size[1]=D,f}i.prototype.reshape=function(f,m){if(!Ce(f))throw new TypeError("Array expected");if(f.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");f.forEach(function(j){if(!Be(j)||!Ie(j)||j<=-2||j===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+$e(f)+")")});var D=this._size[0]*this._size[1];f=ii(f,D);var E=f[0]*f[1];if(D!==E)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var g=m?this.clone():this;if(this._size[0]===f[0]&&this._size[1]===f[1])return g;for(var F=[],w=0;w<g._ptr.length;w++)for(var y=0;y<g._ptr[w+1]-g._ptr[w];y++)F.push(w);for(var B=g._values.slice(),b=g._index.slice(),M=0;M<g._index.length;M++){var C=b[M],P=F[M],U=C*g._size[1]+P;F[M]=U%f[1],b[M]=Math.floor(U/f[1])}g._values.length=0,g._index.length=0,g._ptr.length=f[1]+1,g._size=f.slice();for(var K=0;K<g._ptr.length;K++)g._ptr[K]=0;for(var x=0;x<B.length;x++){var T=b[x],N=F[x],Z=B[x],V=c(T,g._ptr[N],g._ptr[N+1],g._index);h(V,T,N,Z,g._values,g._index,g._ptr)}return g},i.prototype.clone=function(){var f=new i({values:this._values?Ae(this._values):void 0,index:Ae(this._index),ptr:Ae(this._ptr),size:Ae(this._size),datatype:this._datatype});return f},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(f,m){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var D=this,E=this._size[0],g=this._size[1],F=rn(f,D,"map"),w=function(B,b,M){return F(B,[b,M],D)};return d(this,0,E-1,0,g-1,w,m)};function d(f,m,D,E,g,F,w){var y=[],B=[],b=[],M=r,C=0;pt(f._datatype)&&(M=t.find(r,[f._datatype,f._datatype])||r,C=t.convert(0,f._datatype));for(var P=function(de,Me,Ee){var ve=F(de,Me,Ee);M(ve,C)||(y.push(ve),B.push(Me))},U=E;U<=g;U++){b.push(y.length);var K=f._ptr[U],x=f._ptr[U+1];if(w)for(var T=K;T<x;T++){var N=f._index[T];N>=m&&N<=D&&P(f._values[T],N-m,U-E)}else{for(var Z={},V=K;V<x;V++){var j=f._index[V];Z[j]=f._values[V]}for(var te=m;te<=D;te++){var se=te in Z?Z[te]:0;P(se,te-m,U-E)}}}return b.push(y.length),new i({values:y,index:B,ptr:b,size:[D-m+1,g-E+1]})}i.prototype.forEach=function(f,m){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var D=this,E=this._size[0],g=this._size[1],F=rn(f,D,"forEach"),w=0;w<g;w++){var y=this._ptr[w],B=this._ptr[w+1];if(m)for(var b=y;b<B;b++){var M=this._index[b];F(this._values[b],[M,w],D)}else{for(var C={},P=y;P<B;P++){var U=this._index[P];C[U]=this._values[P]}for(var K=0;K<E;K++){var x=K in C?C[K]:0;F(x,[K,w],D)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var f=this._size[1],m=0;m<f;m++)for(var D=this._ptr[m],E=this._ptr[m+1],g=D;g<E;g++){var F=this._index[g];yield{value:this._values[g],index:[F,m]}}},i.prototype.toArray=function(){return v(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return v(this._values,this._index,this._ptr,this._size,!1)};function v(f,m,D,E,g){var F=E[0],w=E[1],y=[],B,b;for(B=0;B<F;B++)for(y[B]=[],b=0;b<w;b++)y[B][b]=0;for(b=0;b<w;b++)for(var M=D[b],C=D[b+1],P=M;P<C;P++)B=m[P],y[B][b]=f?g?Ae(f[P]):f[P]:1;return y}return i.prototype.format=function(f){for(var m=this._size[0],D=this._size[1],E=this.density(),g="Sparse Matrix ["+$e(m,f)+" x "+$e(D,f)+"] density: "+$e(E,f)+`
`,F=0;F<D;F++)for(var w=this._ptr[F],y=this._ptr[F+1],B=w;B<y;B++){var b=this._index[B];g+=`
    (`+$e(b,f)+", "+$e(F,f)+") ==> "+(this._values?$e(this._values[B],f):"X")}return g},i.prototype.toString=function(){return $e(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(f){if(f){if(Se(f)&&(f=f.toNumber()),!Be(f)||!Ie(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var m=f>0?f:0,D=f<0?-f:0,E=this._size[0],g=this._size[1],F=Math.min(E-D,g-m),w=[],y=[],B=[];B[0]=0;for(var b=m;b<g&&w.length<F;b++)for(var M=this._ptr[b],C=this._ptr[b+1],P=M;P<C;P++){var U=this._index[P];if(U===b-m+D){w.push(this._values[P]),y[w.length-1]=U-D;break}}return B.push(w.length),new i({values:w,index:y,ptr:B,size:[F,1]})},i.fromJSON=function(f){return new i(f)},i.diagonal=function(f,m,D,E,g){if(!Ce(f))throw new TypeError("Array expected, size parameter");if(f.length!==2)throw new Error("Only two dimensions matrix are supported");if(f=f.map(function(j){if(Se(j)&&(j=j.toNumber()),!Be(j)||!Ie(j)||j<1)throw new Error("Size values must be positive integers");return j}),D){if(Se(D)&&(D=D.toNumber()),!Be(D)||!Ie(D))throw new TypeError("The parameter k must be an integer number")}else D=0;var F=r,w=0;pt(g)&&(F=t.find(r,[g,g])||r,w=t.convert(0,g));var y=D>0?D:0,B=D<0?-D:0,b=f[0],M=f[1],C=Math.min(b-B,M-y),P;if(Ce(m)){if(m.length!==C)throw new Error("Invalid value array length");P=function(te){return m[te]}}else if(Te(m)){var U=m.size();if(U.length!==1||U[0]!==C)throw new Error("Invalid matrix length");P=function(te){return m.get([te])}}else P=function(){return m};for(var K=[],x=[],T=[],N=0;N<M;N++){T.push(K.length);var Z=N-y;if(Z>=0&&Z<C){var V=P(Z);F(V,w)||(x.push(Z+B),K.push(V))}}return T.push(K.length),new i({values:K,index:x,ptr:T,size:[b,M]})},i.prototype.swapRows=function(f,m){if(!Be(f)||!Ie(f)||!Be(m)||!Ie(m))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return be(f,this._size[0]),be(m,this._size[0]),i._swapRows(f,m,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(f,m,D,E,g){for(var F=E[f],w=E[f+1],y=F;y<w;y++)g(D[y],m[y])},i._swapRows=function(f,m,D,E,g,F){for(var w=0;w<D;w++){var y=F[w],B=F[w+1],b=c(f,y,B,g),M=c(m,y,B,g);if(b<B&&M<B&&g[b]===f&&g[M]===m){if(E){var C=E[b];E[b]=E[M],E[M]=C}continue}if(b<B&&g[b]===f&&(M>=B||g[M]!==m)){var P=E?E[b]:void 0;g.splice(M,0,m),E&&E.splice(M,0,P),g.splice(M<=b?b+1:b,1),E&&E.splice(M<=b?b+1:b,1);continue}if(M<B&&g[M]===m&&(b>=B||g[b]!==f)){var U=E?E[M]:void 0;g.splice(b,0,f),E&&E.splice(b,0,U),g.splice(b<=M?M+1:M,1),E&&E.splice(b<=M?M+1:M,1)}}},i},{isClass:!0}),nf="number",uf=["typed"];function af(e){var t=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(t){var r={"0b":2,"0o":8,"0x":16}[t[1]],n=t[2],i=t[3];return{input:e,radix:r,integerPart:n,fractionalPart:i}}else return null}function of(e){for(var t=parseInt(e.integerPart,e.radix),r=0,n=0;n<e.fractionalPart.length;n++){var i=parseInt(e.fractionalPart[n],e.radix);r+=i/Math.pow(e.radix,n+1)}var u=t+r;if(isNaN(u))throw new SyntaxError('String "'+e.input+'" is not a valid number');return u}var sf=re(nf,uf,e=>{var{typed:t}=e,r=t("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var u=af(i);if(u)return of(u);var a=0,o=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);o&&(a=Number(o[2]),i=o[1]);var s=Number(i);if(isNaN(s))throw new SyntaxError('String "'+i+'" is not a valid number');if(o){if(s>2**a-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));s>=2**(a-1)&&(s=s-2**a)}return s},BigNumber:function(i){return i.toNumber()},bigint:function(i){return Number(i)},Fraction:function(i){return i.valueOf()},Unit:t.referToSelf(n=>i=>{var u=i.clone();return u.value=n(i.value),u}),null:function(i){return 0},"Unit, string | Unit":function(i,u){return i.toNumber(u)},"Array | Matrix":t.referToSelf(n=>i=>Ct(i,n))});return r.fromJSON=function(n){return parseFloat(n.value)},r}),cf="bignumber",lf=["typed","BigNumber"],ff=re(cf,lf,e=>{var{typed:t,BigNumber:r}=e;return t("bignumber",{"":function(){return new r(0)},number:function(i){return new r(i+"")},string:function(i){var u=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(u){var a=u[2],o=r(u[1]),s=new r(2).pow(Number(a));if(o.gt(s.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var c=new r(2).pow(Number(a)-1);return o.gte(c)?o.sub(s):o}return new r(i)},BigNumber:function(i){return i},bigint:function(i){return new r(i.toString())},Unit:t.referToSelf(n=>i=>{var u=i.clone();return u.value=n(i.value),u}),Fraction:function(i){return new r(String(i.n)).div(String(i.d)).times(String(i.s))},null:function(i){return new r(0)},"Array | Matrix":t.referToSelf(n=>i=>Ct(i,n))})}),hf="fraction",pf=["typed","Fraction"],df=re(hf,pf,e=>{var{typed:t,Fraction:r}=e;return t("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new r(i)},string:function(i){return new r(i)},"number, number":function(i,u){return new r(i,u)},"bigint, bigint":function(i,u){return new r(i,u)},null:function(i){return new r(0)},BigNumber:function(i){return new r(i.toString())},bigint:function(i){return new r(i.toString())},Fraction:function(i){return i},Unit:t.referToSelf(n=>i=>{var u=i.clone();return u.value=n(i.value),u}),Object:function(i){return new r(i)},"Array | Matrix":t.referToSelf(n=>i=>Ct(i,n))})}),Ri="matrix",mf=["typed","Matrix","DenseMatrix","SparseMatrix"],vf=re(Ri,mf,e=>{var{typed:t,Matrix:r,DenseMatrix:n,SparseMatrix:i}=e;return t(Ri,{"":function(){return u([])},string:function(o){return u([],o)},"string, string":function(o,s){return u([],o,s)},Array:function(o){return u(o)},Matrix:function(o){return u(o,o.storage())},"Array | Matrix, string":u,"Array | Matrix, string, string":u});function u(a,o,s){if(o==="dense"||o==="default"||o===void 0)return new n(a,s);if(o==="sparse")return new i(a,s);throw new TypeError("Unknown matrix type "+JSON.stringify(o)+".")}}),zi="unaryMinus",Df=["typed"],gf=re(zi,Df,e=>{var{typed:t}=e;return t(zi,{number:ha,"Complex | BigNumber | Fraction":r=>r.neg(),bigint:r=>-r,Unit:t.referToSelf(r=>n=>{var i=n.clone();return i.value=t.find(r,i.valueType())(n.value),i}),"Array | Matrix":t.referToSelf(r=>n=>Ct(n,r))})}),qi="abs",yf=["typed"],wf=re(qi,yf,e=>{var{typed:t}=e;return t(qi,{number:sa,"Complex | BigNumber | Fraction | Unit":r=>r.abs(),bigint:r=>r<0n?-r:r,"Array | Matrix":t.referToSelf(r=>n=>Ct(n,r))})}),Hi="addScalar",_f=["typed"],Ef=re(Hi,_f,e=>{var{typed:t}=e;return t(Hi,{"number, number":ca,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"bigint, bigint":function(n,i){return n+i},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":t.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var u=n.clone();return u.value=t.find(r,[u.valueType(),i.valueType()])(u.value,i.value),u.fixPrefix=!1,u})})}),Ui="subtractScalar",Ff=["typed"],bf=re(Ui,Ff,e=>{var{typed:t}=e;return t(Ui,{"number, number":la,"Complex, Complex":function(n,i){return n.sub(i)},"BigNumber, BigNumber":function(n,i){return n.minus(i)},"bigint, bigint":function(n,i){return n-i},"Fraction, Fraction":function(n,i){return n.sub(i)},"Unit, Unit":t.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var u=n.clone();return u.value=t.find(r,[u.valueType(),i.valueType()])(u.value,i.value),u.fixPrefix=!1,u})})}),Cf="matAlgo11xS0s",Af=["typed","equalScalar"],Bf=re(Cf,Af,e=>{var{typed:t,equalScalar:r}=e;return function(i,u,a,o){var s=i._values,c=i._index,l=i._ptr,h=i._size,p=i._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d=h[0],v=h[1],f,m=r,D=0,E=a;typeof p=="string"&&(f=p,m=t.find(r,[f,f]),D=t.convert(0,f),u=t.convert(u,f),E=t.find(a,[f,f]));for(var g=[],F=[],w=[],y=0;y<v;y++){w[y]=F.length;for(var B=l[y],b=l[y+1],M=B;M<b;M++){var C=c[M],P=o?E(u,s[M]):E(s[M],u);m(P,D)||(F.push(C),g.push(P))}}return w[v]=F.length,i.createSparseMatrix({values:g,index:F,ptr:w,size:[d,v],datatype:f})}}),Mf="matAlgo12xSfs",xf=["typed","DenseMatrix"],Mr=re(Mf,xf,e=>{var{typed:t,DenseMatrix:r}=e;return function(i,u,a,o){var s=i._values,c=i._index,l=i._ptr,h=i._size,p=i._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d=h[0],v=h[1],f,m=a;typeof p=="string"&&(f=p,u=t.convert(u,f),m=t.find(a,[f,f]));for(var D=[],E=[],g=[],F=0;F<v;F++){for(var w=F+1,y=l[F],B=l[F+1],b=y;b<B;b++){var M=c[b];E[M]=s[b],g[M]=w}for(var C=0;C<d;C++)F===0&&(D[C]=[]),g[C]===w?D[C][F]=o?m(u,E[C]):m(E[C],u):D[C][F]=o?m(u,0):m(0,u)}return new r({data:D,size:[d,v],datatype:f})}}),Sf="matAlgo14xDs",Nf=["typed"],da=re(Sf,Nf,e=>{var{typed:t}=e;return function(i,u,a,o){var s=i._data,c=i._size,l=i._datatype,h,p=a;typeof l=="string"&&(h=l,u=t.convert(u,h),p=t.find(a,[h,h]));var d=c.length>0?r(p,0,c,c[0],s,u,o):[];return i.createDenseMatrix({data:d,size:Ae(c),datatype:h})};function r(n,i,u,a,o,s,c){var l=[];if(i===u.length-1)for(var h=0;h<a;h++)l[h]=c?n(s,o[h]):n(o[h],s);else for(var p=0;p<a;p++)l[p]=r(n,i+1,u,u[i+1],o[p],s,c);return l}}),Tf="matAlgo03xDSf",Lf=["typed"],xr=re(Tf,Lf,e=>{var{typed:t}=e;return function(n,i,u,a){var o=n._data,s=n._size,c=n._datatype||n.getDataType(),l=i._values,h=i._index,p=i._ptr,d=i._size,v=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(s.length!==d.length)throw new fe(s.length,d.length);if(s[0]!==d[0]||s[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+d+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var f=s[0],m=s[1],D,E=0,g=u;typeof c=="string"&&c===v&&c!=="mixed"&&(D=c,E=t.convert(0,D),g=t.find(u,[D,D]));for(var F=[],w=0;w<f;w++)F[w]=[];for(var y=[],B=[],b=0;b<m;b++){for(var M=b+1,C=p[b],P=p[b+1],U=C;U<P;U++){var K=h[U];y[K]=a?g(l[U],o[K][b]):g(o[K][b],l[U]),B[K]=M}for(var x=0;x<f;x++)B[x]===M?F[x][b]=y[x]:F[x][b]=a?g(E,o[x][b]):g(o[x][b],E)}return n.createDenseMatrix({data:F,size:[f,m],datatype:c===n._datatype&&v===i._datatype?D:void 0})}}),If="matAlgo05xSfSf",Pf=["typed","equalScalar"],Of=re(If,Pf,e=>{var{typed:t,equalScalar:r}=e;return function(i,u,a){var o=i._values,s=i._index,c=i._ptr,l=i._size,h=i._datatype||i._data===void 0?i._datatype:i.getDataType(),p=u._values,d=u._index,v=u._ptr,f=u._size,m=u._datatype||u._data===void 0?u._datatype:u.getDataType();if(l.length!==f.length)throw new fe(l.length,f.length);if(l[0]!==f[0]||l[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+f+")");var D=l[0],E=l[1],g,F=r,w=0,y=a;typeof h=="string"&&h===m&&h!=="mixed"&&(g=h,F=t.find(r,[g,g]),w=t.convert(0,g),y=t.find(a,[g,g]));var B=o&&p?[]:void 0,b=[],M=[],C=B?[]:void 0,P=B?[]:void 0,U=[],K=[],x,T,N,Z;for(T=0;T<E;T++){M[T]=b.length;var V=T+1;for(N=c[T],Z=c[T+1];N<Z;N++)x=s[N],b.push(x),U[x]=V,C&&(C[x]=o[N]);for(N=v[T],Z=v[T+1];N<Z;N++)x=d[N],U[x]!==V&&b.push(x),K[x]=V,P&&(P[x]=p[N]);if(B)for(N=M[T];N<b.length;){x=b[N];var j=U[x],te=K[x];if(j===V||te===V){var se=j===V?C[x]:w,pe=te===V?P[x]:w,de=y(se,pe);F(de,w)?b.splice(N,1):(B.push(de),N++)}}}return M[E]=b.length,i.createSparseMatrix({values:B,index:b,ptr:M,size:[D,E],datatype:h===i._datatype&&m===u._datatype?g:void 0})}}),$f="matAlgo13xDD",Rf=["typed"],zf=re($f,Rf,e=>{var{typed:t}=e;return function(i,u,a){var o=i._data,s=i._size,c=i._datatype,l=u._data,h=u._size,p=u._datatype,d=[];if(s.length!==h.length)throw new fe(s.length,h.length);for(var v=0;v<s.length;v++){if(s[v]!==h[v])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+h+")");d[v]=s[v]}var f,m=a;typeof c=="string"&&c===p&&(f=c,m=t.find(a,[f,f]));var D=d.length>0?r(m,0,d,d[0],o,l):[];return i.createDenseMatrix({data:D,size:d,datatype:f})};function r(n,i,u,a,o,s){var c=[];if(i===u.length-1)for(var l=0;l<a;l++)c[l]=n(o[l],s[l]);else for(var h=0;h<a;h++)c[h]=r(n,i+1,u,u[i+1],o[h],s[h]);return c}});function Ue(e,t){if(Rt(e.size(),t.size()))return[e,t];var r=ia(e.size(),t.size());return[e,t].map(n=>qf(n,r))}function qf(e,t){return Rt(e.size(),t)?e:e.create(Wn(e.valueOf(),t),e.datatype())}var Hf="matrixAlgorithmSuite",Uf=["typed","matrix"],cr=re(Hf,Uf,e=>{var{typed:t,matrix:r}=e,n=zf({typed:t}),i=da({typed:t});return function(a){var o=a.elop,s=a.SD||a.DS,c;o?(c={"DenseMatrix, DenseMatrix":(d,v)=>n(...Ue(d,v),o),"Array, Array":(d,v)=>n(...Ue(r(d),r(v)),o).valueOf(),"Array, DenseMatrix":(d,v)=>n(...Ue(r(d),v),o),"DenseMatrix, Array":(d,v)=>n(...Ue(d,r(v)),o)},a.SS&&(c["SparseMatrix, SparseMatrix"]=(d,v)=>a.SS(...Ue(d,v),o,!1)),a.DS&&(c["DenseMatrix, SparseMatrix"]=(d,v)=>a.DS(...Ue(d,v),o,!1),c["Array, SparseMatrix"]=(d,v)=>a.DS(...Ue(r(d),v),o,!1)),s&&(c["SparseMatrix, DenseMatrix"]=(d,v)=>s(...Ue(v,d),o,!0),c["SparseMatrix, Array"]=(d,v)=>s(...Ue(r(v),d),o,!0))):(c={"DenseMatrix, DenseMatrix":t.referToSelf(d=>(v,f)=>n(...Ue(v,f),d)),"Array, Array":t.referToSelf(d=>(v,f)=>n(...Ue(r(v),r(f)),d).valueOf()),"Array, DenseMatrix":t.referToSelf(d=>(v,f)=>n(...Ue(r(v),f),d)),"DenseMatrix, Array":t.referToSelf(d=>(v,f)=>n(...Ue(v,r(f)),d))},a.SS&&(c["SparseMatrix, SparseMatrix"]=t.referToSelf(d=>(v,f)=>a.SS(...Ue(v,f),d,!1))),a.DS&&(c["DenseMatrix, SparseMatrix"]=t.referToSelf(d=>(v,f)=>a.DS(...Ue(v,f),d,!1)),c["Array, SparseMatrix"]=t.referToSelf(d=>(v,f)=>a.DS(...Ue(r(v),f),d,!1))),s&&(c["SparseMatrix, DenseMatrix"]=t.referToSelf(d=>(v,f)=>s(...Ue(f,v),d,!0)),c["SparseMatrix, Array"]=t.referToSelf(d=>(v,f)=>s(...Ue(r(f),v),d,!0))));var l=a.scalar||"any",h=a.Ds||a.Ss;h&&(o?(c["DenseMatrix,"+l]=(d,v)=>i(d,v,o,!1),c[l+", DenseMatrix"]=(d,v)=>i(v,d,o,!0),c["Array,"+l]=(d,v)=>i(r(d),v,o,!1).valueOf(),c[l+", Array"]=(d,v)=>i(r(v),d,o,!0).valueOf()):(c["DenseMatrix,"+l]=t.referToSelf(d=>(v,f)=>i(v,f,d,!1)),c[l+", DenseMatrix"]=t.referToSelf(d=>(v,f)=>i(f,v,d,!0)),c["Array,"+l]=t.referToSelf(d=>(v,f)=>i(r(v),f,d,!1).valueOf()),c[l+", Array"]=t.referToSelf(d=>(v,f)=>i(r(f),v,d,!0).valueOf())));var p=a.sS!==void 0?a.sS:a.Ss;return o?(a.Ss&&(c["SparseMatrix,"+l]=(d,v)=>a.Ss(d,v,o,!1)),p&&(c[l+", SparseMatrix"]=(d,v)=>p(v,d,o,!0))):(a.Ss&&(c["SparseMatrix,"+l]=t.referToSelf(d=>(v,f)=>a.Ss(v,f,d,!1))),p&&(c[l+", SparseMatrix"]=t.referToSelf(d=>(v,f)=>p(f,v,d,!0)))),o&&o.signatures&&uc(c,o.signatures),c}}),kf="matAlgo01xDSid",Vf=["typed"],ma=re(kf,Vf,e=>{var{typed:t}=e;return function(n,i,u,a){var o=n._data,s=n._size,c=n._datatype||n.getDataType(),l=i._values,h=i._index,p=i._ptr,d=i._size,v=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(s.length!==d.length)throw new fe(s.length,d.length);if(s[0]!==d[0]||s[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+d+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var f=s[0],m=s[1],D=typeof c=="string"&&c!=="mixed"&&c===v?c:void 0,E=D?t.find(u,[D,D]):u,g,F,w=[];for(g=0;g<f;g++)w[g]=[];var y=[],B=[];for(F=0;F<m;F++){for(var b=F+1,M=p[F],C=p[F+1],P=M;P<C;P++)g=h[P],y[g]=a?E(l[P],o[g][F]):E(o[g][F],l[P]),B[g]=b;for(g=0;g<f;g++)B[g]===b?w[g][F]=y[g]:w[g][F]=o[g][F]}return n.createDenseMatrix({data:w,size:[f,m],datatype:c===n._datatype&&v===i._datatype?D:void 0})}}),Zf="matAlgo04xSidSid",Wf=["typed","equalScalar"],jf=re(Zf,Wf,e=>{var{typed:t,equalScalar:r}=e;return function(i,u,a){var o=i._values,s=i._index,c=i._ptr,l=i._size,h=i._datatype||i._data===void 0?i._datatype:i.getDataType(),p=u._values,d=u._index,v=u._ptr,f=u._size,m=u._datatype||u._data===void 0?u._datatype:u.getDataType();if(l.length!==f.length)throw new fe(l.length,f.length);if(l[0]!==f[0]||l[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+f+")");var D=l[0],E=l[1],g,F=r,w=0,y=a;typeof h=="string"&&h===m&&h!=="mixed"&&(g=h,F=t.find(r,[g,g]),w=t.convert(0,g),y=t.find(a,[g,g]));var B=o&&p?[]:void 0,b=[],M=[],C=o&&p?[]:void 0,P=o&&p?[]:void 0,U=[],K=[],x,T,N,Z,V;for(T=0;T<E;T++){M[T]=b.length;var j=T+1;for(Z=c[T],V=c[T+1],N=Z;N<V;N++)x=s[N],b.push(x),U[x]=j,C&&(C[x]=o[N]);for(Z=v[T],V=v[T+1],N=Z;N<V;N++)if(x=d[N],U[x]===j){if(C){var te=y(C[x],p[N]);F(te,w)?U[x]=null:C[x]=te}}else b.push(x),K[x]=j,P&&(P[x]=p[N]);if(C&&P)for(N=M[T];N<b.length;)x=b[N],U[x]===j?(B[N]=C[x],N++):K[x]===j?(B[N]=P[x],N++):b.splice(N,1)}return M[E]=b.length,i.createSparseMatrix({values:B,index:b,ptr:M,size:[D,E],datatype:h===i._datatype&&m===u._datatype?g:void 0})}}),Gf="matAlgo10xSids",Jf=["typed","DenseMatrix"],va=re(Gf,Jf,e=>{var{typed:t,DenseMatrix:r}=e;return function(i,u,a,o){var s=i._values,c=i._index,l=i._ptr,h=i._size,p=i._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d=h[0],v=h[1],f,m=a;typeof p=="string"&&(f=p,u=t.convert(u,f),m=t.find(a,[f,f]));for(var D=[],E=[],g=[],F=0;F<v;F++){for(var w=F+1,y=l[F],B=l[F+1],b=y;b<B;b++){var M=c[b];E[M]=s[b],g[M]=w}for(var C=0;C<d;C++)F===0&&(D[C]=[]),g[C]===w?D[C][F]=o?m(u,E[C]):m(E[C],u):D[C][F]=u}return new r({data:D,size:[d,v],datatype:f})}}),Yf="multiplyScalar",Kf=["typed"],Xf=re(Yf,Kf,e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":fa,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"bigint, bigint":function(n,i){return n*i},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(r,n)=>n.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,n)=>r.multiply(n)})}),ki="multiply",Qf=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],e0=re(ki,Qf,e=>{var{typed:t,matrix:r,addScalar:n,multiplyScalar:i,equalScalar:u,dot:a}=e,o=Bf({typed:t,equalScalar:u}),s=da({typed:t});function c(w,y){switch(w.length){case 1:switch(y.length){case 1:if(w[0]!==y[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(w[0]!==y[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+w[0]+") must match Matrix rows ("+y[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+y.length+" dimensions)")}break;case 2:switch(y.length){case 1:if(w[1]!==y[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+w[1]+") must match Vector length ("+y[0]+")");break;case 2:if(w[1]!==y[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+w[1]+") must match Matrix B rows ("+y[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+y.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+w.length+" dimensions)")}}function l(w,y,B){if(B===0)throw new Error("Cannot multiply two empty vectors");return a(w,y)}function h(w,y){if(y.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return p(w,y)}function p(w,y){var B=w._data,b=w._size,M=w._datatype||w.getDataType(),C=y._data,P=y._size,U=y._datatype||y.getDataType(),K=b[0],x=P[1],T,N=n,Z=i;M&&U&&M===U&&typeof M=="string"&&M!=="mixed"&&(T=M,N=t.find(n,[T,T]),Z=t.find(i,[T,T]));for(var V=[],j=0;j<x;j++){for(var te=Z(B[0],C[0][j]),se=1;se<K;se++)te=N(te,Z(B[se],C[se][j]));V[j]=te}return w.createDenseMatrix({data:V,size:[x],datatype:M===w._datatype&&U===y._datatype?T:void 0})}var d=t("_multiplyMatrixVector",{"DenseMatrix, any":f,"SparseMatrix, any":E}),v=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":m,"DenseMatrix, SparseMatrix":D,"SparseMatrix, DenseMatrix":g,"SparseMatrix, SparseMatrix":F});function f(w,y){var B=w._data,b=w._size,M=w._datatype||w.getDataType(),C=y._data,P=y._datatype||y.getDataType(),U=b[0],K=b[1],x,T=n,N=i;M&&P&&M===P&&typeof M=="string"&&M!=="mixed"&&(x=M,T=t.find(n,[x,x]),N=t.find(i,[x,x]));for(var Z=[],V=0;V<U;V++){for(var j=B[V],te=N(j[0],C[0]),se=1;se<K;se++)te=T(te,N(j[se],C[se]));Z[V]=te}return w.createDenseMatrix({data:Z,size:[U],datatype:M===w._datatype&&P===y._datatype?x:void 0})}function m(w,y){var B=w._data,b=w._size,M=w._datatype||w.getDataType(),C=y._data,P=y._size,U=y._datatype||y.getDataType(),K=b[0],x=b[1],T=P[1],N,Z=n,V=i;M&&U&&M===U&&typeof M=="string"&&M!=="mixed"&&M!=="mixed"&&(N=M,Z=t.find(n,[N,N]),V=t.find(i,[N,N]));for(var j=[],te=0;te<K;te++){var se=B[te];j[te]=[];for(var pe=0;pe<T;pe++){for(var de=V(se[0],C[0][pe]),Me=1;Me<x;Me++)de=Z(de,V(se[Me],C[Me][pe]));j[te][pe]=de}}return w.createDenseMatrix({data:j,size:[K,T],datatype:M===w._datatype&&U===y._datatype?N:void 0})}function D(w,y){var B=w._data,b=w._size,M=w._datatype||w.getDataType(),C=y._values,P=y._index,U=y._ptr,K=y._size,x=y._datatype||y._data===void 0?y._datatype:y.getDataType();if(!C)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var T=b[0],N=K[1],Z,V=n,j=i,te=u,se=0;M&&x&&M===x&&typeof M=="string"&&M!=="mixed"&&(Z=M,V=t.find(n,[Z,Z]),j=t.find(i,[Z,Z]),te=t.find(u,[Z,Z]),se=t.convert(0,Z));for(var pe=[],de=[],Me=[],Ee=y.createSparseMatrix({values:pe,index:de,ptr:Me,size:[T,N],datatype:M===w._datatype&&x===y._datatype?Z:void 0}),ve=0;ve<N;ve++){Me[ve]=de.length;var De=U[ve],Ve=U[ve+1];if(Ve>De)for(var O=0,I=0;I<T;I++){for(var Pe=I+1,Ze=void 0,ye=De;ye<Ve;ye++){var He=P[ye];O!==Pe?(Ze=j(B[I][He],C[ye]),O=Pe):Ze=V(Ze,j(B[I][He],C[ye]))}O===Pe&&!te(Ze,se)&&(de.push(I),pe.push(Ze))}}return Me[N]=de.length,Ee}function E(w,y){var B=w._values,b=w._index,M=w._ptr,C=w._datatype||w._data===void 0?w._datatype:w.getDataType();if(!B)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var P=y._data,U=y._datatype||y.getDataType(),K=w._size[0],x=y._size[0],T=[],N=[],Z=[],V,j=n,te=i,se=u,pe=0;C&&U&&C===U&&typeof C=="string"&&C!=="mixed"&&(V=C,j=t.find(n,[V,V]),te=t.find(i,[V,V]),se=t.find(u,[V,V]),pe=t.convert(0,V));var de=[],Me=[];Z[0]=0;for(var Ee=0;Ee<x;Ee++){var ve=P[Ee];if(!se(ve,pe))for(var De=M[Ee],Ve=M[Ee+1],O=De;O<Ve;O++){var I=b[O];Me[I]?de[I]=j(de[I],te(ve,B[O])):(Me[I]=!0,N.push(I),de[I]=te(ve,B[O]))}}for(var Pe=N.length,Ze=0;Ze<Pe;Ze++){var ye=N[Ze];T[Ze]=de[ye]}return Z[1]=N.length,w.createSparseMatrix({values:T,index:N,ptr:Z,size:[K,1],datatype:C===w._datatype&&U===y._datatype?V:void 0})}function g(w,y){var B=w._values,b=w._index,M=w._ptr,C=w._datatype||w._data===void 0?w._datatype:w.getDataType();if(!B)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var P=y._data,U=y._datatype||y.getDataType(),K=w._size[0],x=y._size[0],T=y._size[1],N,Z=n,V=i,j=u,te=0;C&&U&&C===U&&typeof C=="string"&&C!=="mixed"&&(N=C,Z=t.find(n,[N,N]),V=t.find(i,[N,N]),j=t.find(u,[N,N]),te=t.convert(0,N));for(var se=[],pe=[],de=[],Me=w.createSparseMatrix({values:se,index:pe,ptr:de,size:[K,T],datatype:C===w._datatype&&U===y._datatype?N:void 0}),Ee=[],ve=[],De=0;De<T;De++){de[De]=pe.length;for(var Ve=De+1,O=0;O<x;O++){var I=P[O][De];if(!j(I,te))for(var Pe=M[O],Ze=M[O+1],ye=Pe;ye<Ze;ye++){var He=b[ye];ve[He]!==Ve?(ve[He]=Ve,pe.push(He),Ee[He]=V(I,B[ye])):Ee[He]=Z(Ee[He],V(I,B[ye]))}}for(var st=de[De],Bt=pe.length,Mt=st;Mt<Bt;Mt++){var jt=pe[Mt];se[Mt]=Ee[jt]}}return de[T]=pe.length,Me}function F(w,y){var B=w._values,b=w._index,M=w._ptr,C=w._datatype||w._data===void 0?w._datatype:w.getDataType(),P=y._values,U=y._index,K=y._ptr,x=y._datatype||y._data===void 0?y._datatype:y.getDataType(),T=w._size[0],N=y._size[1],Z=B&&P,V,j=n,te=i;C&&x&&C===x&&typeof C=="string"&&C!=="mixed"&&(V=C,j=t.find(n,[V,V]),te=t.find(i,[V,V]));for(var se=Z?[]:void 0,pe=[],de=[],Me=w.createSparseMatrix({values:se,index:pe,ptr:de,size:[T,N],datatype:C===w._datatype&&x===y._datatype?V:void 0}),Ee=Z?[]:void 0,ve=[],De,Ve,O,I,Pe,Ze,ye,He,st=0;st<N;st++){de[st]=pe.length;var Bt=st+1;for(Pe=K[st],Ze=K[st+1],I=Pe;I<Ze;I++)if(He=U[I],Z)for(Ve=M[He],O=M[He+1],De=Ve;De<O;De++)ye=b[De],ve[ye]!==Bt?(ve[ye]=Bt,pe.push(ye),Ee[ye]=te(P[I],B[De])):Ee[ye]=j(Ee[ye],te(P[I],B[De]));else for(Ve=M[He],O=M[He+1],De=Ve;De<O;De++)ye=b[De],ve[ye]!==Bt&&(ve[ye]=Bt,pe.push(ye));if(Z)for(var Mt=de[st],jt=pe.length,Gt=Mt;Gt<jt;Gt++){var En=pe[Gt];se[Gt]=Ee[En]}}return de[N]=pe.length,Me}return t(ki,i,{"Array, Array":t.referTo("Matrix, Matrix",w=>(y,B)=>{c(Ke(y),Ke(B));var b=w(r(y),r(B));return Te(b)?b.valueOf():b}),"Matrix, Matrix":function(y,B){var b=y.size(),M=B.size();return c(b,M),b.length===1?M.length===1?l(y,B,b[0]):h(y,B):M.length===1?d(y,B):v(y,B)},"Matrix, Array":t.referTo("Matrix,Matrix",w=>(y,B)=>w(y,r(B))),"Array, Matrix":t.referToSelf(w=>(y,B)=>w(r(y,B.storage()),B)),"SparseMatrix, any":function(y,B){return o(y,B,i,!1)},"DenseMatrix, any":function(y,B){return s(y,B,i,!1)},"any, SparseMatrix":function(y,B){return o(B,y,i,!0)},"any, DenseMatrix":function(y,B){return s(B,y,i,!0)},"Array, any":function(y,B){return s(r(y),B,i,!1).valueOf()},"any, Array":function(y,B){return s(r(B),y,i,!0).valueOf()},"any, any":i,"any, any, ...any":t.referToSelf(w=>(y,B,b)=>{for(var M=w(y,B),C=0;C<b.length;C++)M=w(M,b[C]);return M})})}),Vi="subtract",t0=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],r0=re(Vi,t0,e=>{var{typed:t,matrix:r,equalScalar:n,subtractScalar:i,unaryMinus:u,DenseMatrix:a,concat:o}=e,s=ma({typed:t}),c=xr({typed:t}),l=Of({typed:t,equalScalar:n}),h=va({typed:t,DenseMatrix:a}),p=Mr({typed:t,DenseMatrix:a}),d=cr({typed:t,matrix:r,concat:o});return t(Vi,{"any, any":i},d({elop:i,SS:l,DS:s,SD:c,Ss:p,sS:h}))}),n0="matAlgo07xSSf",i0=["typed","SparseMatrix"],yn=re(n0,i0,e=>{var{typed:t,SparseMatrix:r}=e;return function(u,a,o){var s=u._size,c=u._datatype||u._data===void 0?u._datatype:u.getDataType(),l=a._size,h=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(s.length!==l.length)throw new fe(s.length,l.length);if(s[0]!==l[0]||s[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+l+")");var p=s[0],d=s[1],v,f=0,m=o;typeof c=="string"&&c===h&&c!=="mixed"&&(v=c,f=t.convert(0,v),m=t.find(o,[v,v]));for(var D=[],E=[],g=new Array(d+1).fill(0),F=[],w=[],y=[],B=[],b=0;b<d;b++){var M=b+1,C=0;n(u,b,y,F,M),n(a,b,B,w,M);for(var P=0;P<p;P++){var U=y[P]===M?F[P]:f,K=B[P]===M?w[P]:f,x=m(U,K);x!==0&&x!==!1&&(E.push(P),D.push(x),C++)}g[b+1]=g[b]+C}return new r({values:D,index:E,ptr:g,size:[p,d],datatype:c===u._datatype&&h===a._datatype?v:void 0})};function n(i,u,a,o,s){for(var c=i._values,l=i._index,h=i._ptr,p=h[u],d=h[u+1];p<d;p++){var v=l[p];a[v]=s,o[v]=c[p]}}}),Zi="conj",u0=["typed"],a0=re(Zi,u0,e=>{var{typed:t}=e;return t(Zi,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),"Array | Matrix":t.referToSelf(r=>n=>Ct(n,r))})}),Wi="concat",o0=["typed","matrix","isInteger"],s0=re(Wi,o0,e=>{var{typed:t,matrix:r,isInteger:n}=e;return t(Wi,{"...Array | Matrix | number | BigNumber":function(u){var a,o=u.length,s=-1,c,l=!1,h=[];for(a=0;a<o;a++){var p=u[a];if(Te(p)&&(l=!0),Be(p)||Se(p)){if(a!==o-1)throw new Error("Dimension must be specified as last argument");if(c=s,s=p.valueOf(),!n(s))throw new TypeError("Integer number expected for dimension");if(s<0||a>0&&s>c)throw new Zt(s,c+1)}else{var d=Ae(p).valueOf(),v=Ke(d);if(h[a]=d,c=s,s=v.length-1,a>0&&s!==c)throw new fe(c+1,s+1)}}if(h.length===0)throw new SyntaxError("At least one matrix expected");for(var f=h.shift();h.length;)f=na(f,h.shift(),s);return l?r(f):f},"...string":function(u){return u.join("")}})}),ji="getMatrixDataType",c0=["typed"],l0=re(ji,c0,e=>{var{typed:t}=e;return t(ji,{Array:function(n){return gn(n,wt)},Matrix:function(n){return n.getDataType()}})}),Gi="identity",f0=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],h0=re(Gi,f0,e=>{var{typed:t,config:r,matrix:n,BigNumber:i,DenseMatrix:u,SparseMatrix:a}=e;return t(Gi,{"":function(){return r.matrix==="Matrix"?n([]):[]},string:function(l){return n(l)},"number | BigNumber":function(l){return s(l,l,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(l,h){return s(l,l,h)},"number | BigNumber, number | BigNumber":function(l,h){return s(l,h,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(l,h,p){return s(l,h,p)},Array:function(l){return o(l)},"Array, string":function(l,h){return o(l,h)},Matrix:function(l){return o(l.valueOf(),l.storage())},"Matrix, string":function(l,h){return o(l.valueOf(),h)}});function o(c,l){switch(c.length){case 0:return l?n(l):[];case 1:return s(c[0],c[0],l);case 2:return s(c[0],c[1],l);default:throw new Error("Vector containing two values expected")}}function s(c,l,h){var p=Se(c)||Se(l)?i:null;if(Se(c)&&(c=c.toNumber()),Se(l)&&(l=l.toNumber()),!Ie(c)||c<1)throw new Error("Parameters in function identity must be positive integers");if(!Ie(l)||l<1)throw new Error("Parameters in function identity must be positive integers");var d=p?new i(1):1,v=p?new p(0):0,f=[c,l];if(h){if(h==="sparse")return a.diagonal(f,d,0,v);if(h==="dense")return u.diagonal(f,d,0,v);throw new TypeError('Unknown matrix type "'.concat(h,'"'))}for(var m=_r([],f,v),D=c<l?c:l,E=0;E<D;E++)m[E][E]=d;return m}}),p0="ones",d0=["typed","config","matrix","BigNumber"],m0=re(p0,d0,e=>{var{typed:t,config:r,matrix:n,BigNumber:i}=e;return t("ones",{"":function(){return r.matrix==="Array"?u([]):u([],"default")},"...number | BigNumber | string":function(c){var l=c[c.length-1];if(typeof l=="string"){var h=c.pop();return u(c,h)}else return r.matrix==="Array"?u(c):u(c,"default")},Array:u,Matrix:function(c){var l=c.storage();return u(c.valueOf(),l)},"Array | Matrix, string":function(c,l){return u(c.valueOf(),l)}});function u(s,c){var l=a(s),h=l?new i(1):1;if(o(s),c){var p=n(c);return s.length>0?p.resize(s,h):p}else{var d=[];return s.length>0?_r(d,s,h):d}}function a(s){var c=!1;return s.forEach(function(l,h,p){Se(l)&&(c=!0,p[h]=l.toNumber())}),c}function o(s){s.forEach(function(c){if(typeof c!="number"||!Ie(c)||c<0)throw new Error("Parameters in function ones must be positive integers")})}});function Da(){throw new Error('No "bignumber" implementation available')}function v0(){throw new Error('No "fraction" implementation available')}function ga(){throw new Error('No "matrix" implementation available')}var Ji="range",D0=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],g0=re(Ji,D0,e=>{var{typed:t,config:r,matrix:n,bignumber:i,smaller:u,smallerEq:a,larger:o,largerEq:s,add:c,isPositive:l}=e;return t(Ji,{string:p,"string, boolean":p,number:function(m){throw new TypeError("Too few arguments to function range(): ".concat(m))},boolean:function(m){throw new TypeError("Unexpected type of argument 1 to function range(): ".concat(m,", number|bigint|BigNumber|Fraction"))},"number, number":function(m,D){return h(d(m,D,1,!1))},"number, number, number":function(m,D,E){return h(d(m,D,E,!1))},"number, number, boolean":function(m,D,E){return h(d(m,D,1,E))},"number, number, number, boolean":function(m,D,E,g){return h(d(m,D,E,g))},"bigint, bigint|number":function(m,D){return h(d(m,D,1n,!1))},"number, bigint":function(m,D){return h(d(BigInt(m),D,1n,!1))},"bigint, bigint|number, bigint|number":function(m,D,E){return h(d(m,D,BigInt(E),!1))},"number, bigint, bigint|number":function(m,D,E){return h(d(BigInt(m),D,BigInt(E),!1))},"bigint, bigint|number, boolean":function(m,D,E){return h(d(m,D,1n,E))},"number, bigint, boolean":function(m,D,E){return h(d(BigInt(m),D,1n,E))},"bigint, bigint|number, bigint|number, boolean":function(m,D,E,g){return h(d(m,D,BigInt(E),g))},"number, bigint, bigint|number, boolean":function(m,D,E,g){return h(d(BigInt(m),D,BigInt(E),g))},"BigNumber, BigNumber":function(m,D){var E=m.constructor;return h(d(m,D,new E(1),!1))},"BigNumber, BigNumber, BigNumber":function(m,D,E){return h(d(m,D,E,!1))},"BigNumber, BigNumber, boolean":function(m,D,E){var g=m.constructor;return h(d(m,D,new g(1),E))},"BigNumber, BigNumber, BigNumber, boolean":function(m,D,E,g){return h(d(m,D,E,g))},"Fraction, Fraction":function(m,D){return h(d(m,D,1,!1))},"Fraction, Fraction, Fraction":function(m,D,E){return h(d(m,D,E,!1))},"Fraction, Fraction, boolean":function(m,D,E){return h(d(m,D,1,E))},"Fraction, Fraction, Fraction, boolean":function(m,D,E,g){return h(d(m,D,E,g))},"Unit, Unit, Unit":function(m,D,E){return h(d(m,D,E,!1))},"Unit, Unit, Unit, boolean":function(m,D,E,g){return h(d(m,D,E,g))}});function h(f){return r.matrix==="Matrix"?n?n(f):ga():f}function p(f,m){var D=v(f);if(!D)throw new SyntaxError('String "'+f+'" is no valid range');return r.number==="BigNumber"?(i===void 0&&Da(),h(d(i(D.start),i(D.end),i(D.step)))):h(d(D.start,D.end,D.step,m))}function d(f,m,D,E){for(var g=[],F=l(D)?E?a:u:E?s:o,w=f;F(w,m);)g.push(w),w=c(w,D);return g}function v(f){var m=f.split(":"),D=m.map(function(g){return Number(g)}),E=D.some(function(g){return isNaN(g)});if(E)return null;switch(D.length){case 2:return{start:D[0],end:D[1],step:1};case 3:return{start:D[0],end:D[2],step:D[1]};default:return null}}}),Yi="size",y0=["typed","config","?matrix"],w0=re(Yi,y0,e=>{var{typed:t,config:r,matrix:n}=e;return t(Yi,{Matrix:function(u){return u.create(u.size(),"number")},Array:Ke,string:function(u){return r.matrix==="Array"?[u.length]:n([u.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(u){return r.matrix==="Array"?[]:n?n([],"dense","number"):ga()}})}),Ki="subset",_0=["typed","matrix","zeros","add"],E0=re(Ki,_0,e=>{var{typed:t,matrix:r,zeros:n,add:i}=e;return t(Ki,{"Matrix, Index":function(o,s){return ur(s)?r():(tn(o,s),o.subset(s))},"Array, Index":t.referTo("Matrix, Index",function(a){return function(o,s){var c=a(r(o),s);return s.isScalar()?c:c.valueOf()}}),"Object, Index":b0,"string, Index":F0,"Matrix, Index, any, any":function(o,s,c,l){return ur(s)?o:(tn(o,s),o.clone().subset(s,u(c,s),l))},"Array, Index, any, any":t.referTo("Matrix, Index, any, any",function(a){return function(o,s,c,l){var h=a(r(o),s,c,l);return h.isMatrix?h.valueOf():h}}),"Array, Index, any":t.referTo("Matrix, Index, any, any",function(a){return function(o,s,c){return a(r(o),s,c,void 0).valueOf()}}),"Matrix, Index, any":t.referTo("Matrix, Index, any, any",function(a){return function(o,s,c){return a(o,s,c,void 0)}}),"string, Index, string":Xi,"string, Index, string, string":Xi,"Object, Index, any":C0});function u(a,o){if(typeof a=="string")throw new Error("can't boradcast a string");if(o._isScalar)return a;var s=o.size();if(s.every(c=>c>0))try{return i(a,n(s))}catch{return a}else return a}});function F0(e,t){if(!hn(t))throw new TypeError("Index expected");if(ur(t))return"";if(tn(Array.from(e),t),t.size().length!==1)throw new fe(t.size().length,1);var r=e.length;be(t.min()[0],r),be(t.max()[0],r);var n=t.dimension(0),i="";return n.forEach(function(u){i+=e.charAt(u)}),i}function Xi(e,t,r,n){if(!t||t.isIndex!==!0)throw new TypeError("Index expected");if(ur(t))return e;if(tn(Array.from(e),t),t.size().length!==1)throw new fe(t.size().length,1);if(n!==void 0){if(typeof n!="string"||n.length!==1)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=t.dimension(0),u=i.size()[0];if(u!==r.length)throw new fe(i.size()[0],r.length);var a=e.length;be(t.min()[0]),be(t.max()[0]);for(var o=[],s=0;s<a;s++)o[s]=e.charAt(s);if(i.forEach(function(h,p){o[h]=r.charAt(p[0])}),o.length>a)for(var c=a-1,l=o.length;c<l;c++)o[c]||(o[c]=n);return o.join("")}function b0(e,t){if(!ur(t)){if(t.size().length!==1)throw new fe(t.size(),1);var r=t.dimension(0);if(typeof r!="string")throw new TypeError("String expected as index to retrieve an object property");return xu(e,r)}}function C0(e,t,r){if(ur(t))return e;if(t.size().length!==1)throw new fe(t.size(),1);var n=t.dimension(0);if(typeof n!="string")throw new TypeError("String expected as index to retrieve an object property");var i=Ae(e);return Su(i,n,r),i}var Qi="zeros",A0=["typed","config","matrix","BigNumber"],B0=re(Qi,A0,e=>{var{typed:t,config:r,matrix:n,BigNumber:i}=e;return t(Qi,{"":function(){return r.matrix==="Array"?u([]):u([],"default")},"...number | BigNumber | string":function(c){var l=c[c.length-1];if(typeof l=="string"){var h=c.pop();return u(c,h)}else return r.matrix==="Array"?u(c):u(c,"default")},Array:u,Matrix:function(c){var l=c.storage();return u(c.valueOf(),l)},"Array | Matrix, string":function(c,l){return u(c.valueOf(),l)}});function u(s,c){var l=a(s),h=l?new i(0):0;if(o(s),c){var p=n(c);return s.length>0?p.resize(s,h):p}else{var d=[];return s.length>0?_r(d,s,h):d}}function a(s){var c=!1;return s.forEach(function(l,h,p){Se(l)&&(c=!0,p[h]=l.toNumber())}),c}function o(s){s.forEach(function(c){if(typeof c!="number"||!Ie(c)||c<0)throw new Error("Parameters in function zeros must be positive integers")})}}),M0="numeric",x0=["number","?bignumber","?fraction"],S0=re(M0,x0,e=>{var{number:t,bignumber:r,fraction:n}=e,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},u={number:a=>t(a),BigNumber:r?a=>r(a):Da,bigint:a=>BigInt(a),Fraction:n?a=>n(a):v0};return function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",c=arguments.length>2?arguments[2]:void 0;if(c!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var l=wt(o);if(!(l in i))throw new TypeError("Cannot convert "+o+' of type "'+l+'"; valid input types are '+Object.keys(i).join(", "));if(!(s in u))throw new TypeError("Cannot convert "+o+' to type "'+s+'"; valid output types are '+Object.keys(u).join(", "));return s===l?o:u[s](o)}}),eu="divideScalar",N0=["typed","numeric"],T0=re(eu,N0,e=>{var{typed:t,numeric:r}=e;return t(eu,{"number, number":function(i,u){return i/u},"Complex, Complex":function(i,u){return i.div(u)},"BigNumber, BigNumber":function(i,u){return i.div(u)},"bigint, bigint":function(i,u){return i/u},"Fraction, Fraction":function(i,u){return i.div(u)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})}),un="smaller",L0=["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],I0=re(un,L0,e=>{var{typed:t,config:r,bignumber:n,matrix:i,DenseMatrix:u,concat:a,SparseMatrix:o}=e,s=xr({typed:t}),c=yn({typed:t,SparseMatrix:o}),l=Mr({typed:t,DenseMatrix:u}),h=cr({typed:t,matrix:i,concat:a}),p=Br({typed:t});function d(v,f){return v.lt(f)&&!sr(v,f,r.relTol,r.absTol)}return t(un,P0({typed:t,config:r}),{"boolean, boolean":(v,f)=>v<f,"BigNumber, BigNumber":d,"bigint, bigint":(v,f)=>v<f,"Fraction, Fraction":(v,f)=>v.compare(f)===-1,"Fraction, BigNumber":function(f,m){return d(n(f),m)},"BigNumber, Fraction":function(f,m){return d(f,n(m))},"Complex, Complex":function(f,m){throw new TypeError("No ordering relation is defined for complex numbers")}},p,h({SS:c,DS:s,Ss:l}))}),P0=re(un,["typed","config"],e=>{var{typed:t,config:r}=e;return t(un,{"number, number":function(i,u){return i<u&&!Lt(i,u,r.relTol,r.absTol)}})}),an="smallerEq",O0=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],$0=re(an,O0,e=>{var{typed:t,config:r,matrix:n,DenseMatrix:i,concat:u,SparseMatrix:a}=e,o=xr({typed:t}),s=yn({typed:t,SparseMatrix:a}),c=Mr({typed:t,DenseMatrix:i}),l=cr({typed:t,matrix:n,concat:u}),h=Br({typed:t});return t(an,R0({typed:t,config:r}),{"boolean, boolean":(p,d)=>p<=d,"BigNumber, BigNumber":function(d,v){return d.lte(v)||sr(d,v,r.relTol,r.absTol)},"bigint, bigint":(p,d)=>p<=d,"Fraction, Fraction":(p,d)=>p.compare(d)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},h,l({SS:s,DS:o,Ss:c}))}),R0=re(an,["typed","config"],e=>{var{typed:t,config:r}=e;return t(an,{"number, number":function(i,u){return i<=u||Lt(i,u,r.relTol,r.absTol)}})}),on="larger",z0=["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],q0=re(on,z0,e=>{var{typed:t,config:r,bignumber:n,matrix:i,DenseMatrix:u,concat:a,SparseMatrix:o}=e,s=xr({typed:t}),c=yn({typed:t,SparseMatrix:o}),l=Mr({typed:t,DenseMatrix:u}),h=cr({typed:t,matrix:i,concat:a}),p=Br({typed:t});function d(v,f){return v.gt(f)&&!sr(v,f,r.relTol,r.absTol)}return t(on,H0({typed:t,config:r}),{"boolean, boolean":(v,f)=>v>f,"BigNumber, BigNumber":d,"bigint, bigint":(v,f)=>v>f,"Fraction, Fraction":(v,f)=>v.compare(f)===1,"Fraction, BigNumber":function(f,m){return d(n(f),m)},"BigNumber, Fraction":function(f,m){return d(f,n(m))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},p,h({SS:c,DS:s,Ss:l}))}),H0=re(on,["typed","config"],e=>{var{typed:t,config:r}=e;return t(on,{"number, number":function(i,u){return i>u&&!Lt(i,u,r.relTol,r.absTol)}})}),sn="largerEq",U0=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],k0=re(sn,U0,e=>{var{typed:t,config:r,matrix:n,DenseMatrix:i,concat:u,SparseMatrix:a}=e,o=xr({typed:t}),s=yn({typed:t,SparseMatrix:a}),c=Mr({typed:t,DenseMatrix:i}),l=cr({typed:t,matrix:n,concat:u}),h=Br({typed:t});return t(sn,V0({typed:t,config:r}),{"boolean, boolean":(p,d)=>p>=d,"BigNumber, BigNumber":function(d,v){return d.gte(v)||sr(d,v,r.relTol,r.absTol)},"bigint, bigint":function(d,v){return d>=v},"Fraction, Fraction":(p,d)=>p.compare(d)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},h,l({SS:s,DS:o,Ss:c}))}),V0=re(sn,["typed","config"],e=>{var{typed:t,config:r}=e;return t(sn,{"number, number":function(i,u){return i>=u||Lt(i,u,r.relTol,r.absTol)}})}),Z0="ImmutableDenseMatrix",W0=["smaller","DenseMatrix"],j0=re(Z0,W0,e=>{var{smaller:t,DenseMatrix:r}=e;function n(i,u){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(u&&!pt(u))throw new Error("Invalid datatype: "+u);if(Te(i)||Ce(i)){var a=new r(i,u);this._data=a._data,this._size=a._size,this._datatype=a._datatype,this._min=null,this._max=null}else if(i&&Ce(i.data)&&Ce(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min<"u"?i.min:null,this._max=typeof i.max<"u"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+wt(i)+")");this._data=[],this._size=[0],this._datatype=u,this._min=null,this._max=null}}return n.prototype=new r,n.prototype.type="ImmutableDenseMatrix",n.prototype.isImmutableDenseMatrix=!0,n.prototype.subset=function(i){switch(arguments.length){case 1:{var u=r.prototype.subset.call(this,i);return Te(u)?new n({data:u._data,size:u._size,datatype:u._datatype}):u}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},n.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},n.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},n.prototype.clone=function(){return new n({data:Ae(this._data),size:Ae(this._size),datatype:this._datatype})},n.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.fromJSON=function(i){return new n(i)},n.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},n.prototype.min=function(){if(this._min===null){var i=null;this.forEach(function(u){(i===null||t(u,i))&&(i=u)}),this._min=i!==null?i:void 0}return this._min},n.prototype.max=function(){if(this._max===null){var i=null;this.forEach(function(u){(i===null||t(i,u))&&(i=u)}),this._max=i!==null?i:void 0}return this._max},n},{isClass:!0}),G0="Index",J0=["ImmutableDenseMatrix","getMatrixDataType"],Y0=re(G0,J0,e=>{var{ImmutableDenseMatrix:t,getMatrixDataType:r}=e;function n(u){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var a=0,o=arguments.length;a<o;a++){var s=arguments[a],c=Ce(s),l=Te(s),h=typeof s,p=null;if(Iu(s))this._dimensions.push(s),this._isScalar=!1;else if(c||l){var d=void 0;r(s)==="boolean"?(c&&(d=i(tu(s).valueOf())),l&&(d=i(tu(s._data).valueOf())),p=s.valueOf().length):d=i(s.valueOf()),this._dimensions.push(d);var v=d.size();(v.length!==1||v[0]!==1||p!==null)&&(this._isScalar=!1)}else if(h==="number")this._dimensions.push(i([s]));else if(h==="bigint")this._dimensions.push(i([Number(s)]));else if(h==="string")this._dimensions.push(s);else throw new TypeError("Dimension must be an Array, Matrix, number, bigint, string, or Range");this._sourceSize.push(p)}}n.prototype.type="Index",n.prototype.isIndex=!0;function i(u){for(var a=0,o=u.length;a<o;a++)if(typeof u[a]!="number"||!Ie(u[a]))throw new TypeError("Index parameters must be positive integer numbers");return new t(u)}return n.prototype.clone=function(){var u=new n;return u._dimensions=Ae(this._dimensions),u._isScalar=this._isScalar,u._sourceSize=this._sourceSize,u},n.create=function(u){var a=new n;return n.apply(a,u),a},n.prototype.size=function(){for(var u=[],a=0,o=this._dimensions.length;a<o;a++){var s=this._dimensions[a];u[a]=typeof s=="string"?1:s.size()[0]}return u},n.prototype.max=function(){for(var u=[],a=0,o=this._dimensions.length;a<o;a++){var s=this._dimensions[a];u[a]=typeof s=="string"?s:s.max()}return u},n.prototype.min=function(){for(var u=[],a=0,o=this._dimensions.length;a<o;a++){var s=this._dimensions[a];u[a]=typeof s=="string"?s:s.min()}return u},n.prototype.forEach=function(u){for(var a=0,o=this._dimensions.length;a<o;a++)u(this._dimensions[a],a,this)},n.prototype.dimension=function(u){return typeof u!="number"?null:this._dimensions[u]||null},n.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},n.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},n.prototype.isScalar=function(){return this._isScalar},n.prototype.toArray=function(){for(var u=[],a=0,o=this._dimensions.length;a<o;a++){var s=this._dimensions[a];u.push(typeof s=="string"?s:s.toArray())}return u},n.prototype.valueOf=n.prototype.toArray,n.prototype.toString=function(){for(var u=[],a=0,o=this._dimensions.length;a<o;a++){var s=this._dimensions[a];typeof s=="string"?u.push(JSON.stringify(s)):u.push(s.toString())}return"["+u.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},n.fromJSON=function(u){return n.create(u.dimensions)},n},{isClass:!0});function tu(e){var t=[];return e.forEach((r,n)=>{r&&t.push(n)}),t}var ru="add",K0=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],X0=re(ru,K0,e=>{var{typed:t,matrix:r,addScalar:n,equalScalar:i,DenseMatrix:u,SparseMatrix:a,concat:o}=e,s=ma({typed:t}),c=jf({typed:t,equalScalar:i}),l=va({typed:t,DenseMatrix:u}),h=cr({typed:t,matrix:r,concat:o});return t(ru,{"any, any":n,"any, any, ...any":t.referToSelf(p=>(d,v,f)=>{for(var m=p(d,v),D=0;D<f.length;D++)m=p(m,f[D]);return m})},h({elop:n,DS:s,SS:c,Ss:l}))}),nu="dot",Q0=["typed","addScalar","multiplyScalar","conj","size"],eh=re(nu,Q0,e=>{var{typed:t,addScalar:r,multiplyScalar:n,conj:i,size:u}=e;return t(nu,{"Array | DenseMatrix, Array | DenseMatrix":o,"SparseMatrix, SparseMatrix":s});function a(l,h){var p=c(l),d=c(h),v,f;if(p.length===1)v=p[0];else if(p.length===2&&p[1]===1)v=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(d.length===1)f=d[0];else if(d.length===2&&d[1]===1)f=d[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+d.join(", ")+")");if(v!==f)throw new RangeError("Vectors must have equal length ("+v+" != "+f+")");if(v===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return v}function o(l,h){var p=a(l,h),d=Te(l)?l._data:l,v=Te(l)?l._datatype||l.getDataType():void 0,f=Te(h)?h._data:h,m=Te(h)?h._datatype||h.getDataType():void 0,D=c(l).length===2,E=c(h).length===2,g=r,F=n;if(v&&m&&v===m&&typeof v=="string"&&v!=="mixed"){var w=v;g=t.find(r,[w,w]),F=t.find(n,[w,w])}if(!D&&!E){for(var y=F(i(d[0]),f[0]),B=1;B<p;B++)y=g(y,F(i(d[B]),f[B]));return y}if(!D&&E){for(var b=F(i(d[0]),f[0][0]),M=1;M<p;M++)b=g(b,F(i(d[M]),f[M][0]));return b}if(D&&!E){for(var C=F(i(d[0][0]),f[0]),P=1;P<p;P++)C=g(C,F(i(d[P][0]),f[P]));return C}if(D&&E){for(var U=F(i(d[0][0]),f[0][0]),K=1;K<p;K++)U=g(U,F(i(d[K][0]),f[K][0]));return U}}function s(l,h){a(l,h);for(var p=l._index,d=l._values,v=h._index,f=h._values,m=0,D=r,E=n,g=0,F=0;g<p.length&&F<v.length;){var w=p[g],y=v[F];if(w<y){g++;continue}if(w>y){F++;continue}w===y&&(m=D(m,E(d[g],f[F])),g++,F++)}return m}function c(l){return Te(l)?l.size():u(l)}}),iu="index",th=["typed","Index"],rh=re(iu,th,e=>{var{typed:t,Index:r}=e;return t(iu,{"...number | string | BigNumber | Range | Array | Matrix":function(i){var u=i.map(function(o){return Se(o)?o.toNumber():Ce(o)||Te(o)?o.map(function(s){return Se(s)?s.toNumber():s}):o}),a=new r;return r.apply(a,u),a}})}),uu="det",nh=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],ih=re(uu,nh,e=>{var{typed:t,matrix:r,subtractScalar:n,multiply:i,divideScalar:u,isZero:a,unaryMinus:o}=e;return t(uu,{any:function(l){return Ae(l)},"Array | Matrix":function(l){var h;switch(Te(l)?h=l.size():Array.isArray(l)?(l=r(l),h=l.size()):h=[],h.length){case 0:return Ae(l);case 1:if(h[0]===1)return Ae(l.valueOf()[0]);if(h[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+$e(h)+")");case 2:{var p=h[0],d=h[1];if(p===d)return s(l.clone().valueOf(),p);if(d===0)return 1;throw new RangeError("Matrix must be square (size: "+$e(h)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+$e(h)+")")}}});function s(c,l,h){if(l===1)return Ae(c[0][0]);if(l===2)return n(i(c[0][0],c[1][1]),i(c[1][0],c[0][1]));for(var p=!1,d=new Array(l).fill(0).map((B,b)=>b),v=0;v<l;v++){var f=d[v];if(a(c[f][v])){var m=void 0;for(m=v+1;m<l;m++)if(!a(c[d[m]][v])){f=d[m],d[m]=d[v],d[v]=f,p=!p;break}if(m===l)return c[f][v]}for(var D=c[f][v],E=v===0?1:c[d[v-1]][v-1],g=v+1;g<l;g++)for(var F=d[g],w=v+1;w<l;w++)c[F][w]=u(n(i(c[F][w],D),i(c[F][v],c[f][w])),E)}var y=c[d[l-1]][l-1];return p?o(y):y}}),au="inv",uh=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],ah=re(au,uh,e=>{var{typed:t,matrix:r,divideScalar:n,addScalar:i,multiply:u,unaryMinus:a,det:o,identity:s,abs:c}=e;return t(au,{"Array | Matrix":function(p){var d=Te(p)?p.size():Ke(p);switch(d.length){case 1:if(d[0]===1)return Te(p)?r([n(1,p.valueOf()[0])]):[n(1,p[0])];throw new RangeError("Matrix must be square (size: "+$e(d)+")");case 2:{var v=d[0],f=d[1];if(v===f)return Te(p)?r(l(p.valueOf(),v,f),p.storage()):l(p,v,f);throw new RangeError("Matrix must be square (size: "+$e(d)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+$e(d)+")")}},any:function(p){return n(1,p)}});function l(h,p,d){var v,f,m,D,E;if(p===1){if(D=h[0][0],D===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,D)]]}else if(p===2){var g=o(h);if(g===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(h[1][1],g),n(a(h[0][1]),g)],[n(a(h[1][0]),g),n(h[0][0],g)]]}else{var F=h.concat();for(v=0;v<p;v++)F[v]=F[v].concat();for(var w=s(p).valueOf(),y=0;y<d;y++){var B=c(F[y][y]),b=y;for(v=y+1;v<p;)c(F[v][y])>B&&(B=c(F[v][y]),b=v),v++;if(B===0)throw Error("Cannot calculate inverse, determinant is zero");v=b,v!==y&&(E=F[y],F[y]=F[v],F[v]=E,E=w[y],w[y]=w[v],w[v]=E);var M=F[y],C=w[y];for(v=0;v<p;v++){var P=F[v],U=w[v];if(v!==y){if(P[y]!==0){for(m=n(a(P[y]),M[y]),f=y;f<d;f++)P[f]=i(P[f],u(m,M[f]));for(f=0;f<d;f++)U[f]=i(U[f],u(m,C[f]))}}else{for(m=M[y],f=y;f<d;f++)P[f]=n(P[f],m);for(f=0;f<d;f++)U[f]=n(U[f],m)}}}return w}}}),Sr=dl({config:ot}),oh=yl({}),ya=Al({}),ai=xl({}),At=kl({Matrix:ai}),he=Dc({BigNumber:Sr,Complex:oh,DenseMatrix:At,Fraction:ya}),sh=wf({typed:he}),wn=Ef({typed:he}),ch=a0({typed:he}),Nr=Ql({config:ot,typed:he}),lh=l0({typed:he}),fh=Zl({typed:he}),hh=Gl({config:ot,typed:he}),ph=Yl({equalScalar:Nr,typed:he}),wa=Xf({typed:he}),dh=sf({typed:he}),Wt=rf({Matrix:ai,equalScalar:Nr,typed:he}),_a=bf({typed:he}),_n=ff({BigNumber:Sr,typed:he}),Ge=vf({DenseMatrix:At,Matrix:ai,SparseMatrix:Wt,typed:he}),mh=m0({BigNumber:Sr,config:ot,matrix:Ge,typed:he}),Vr=B0({BigNumber:Sr,config:ot,matrix:Ge,typed:he}),lr=s0({isInteger:fh,matrix:Ge,typed:he}),vh=df({Fraction:ya,typed:he}),Ea=h0({BigNumber:Sr,DenseMatrix:At,SparseMatrix:Wt,config:ot,matrix:Ge,typed:he}),Dh=k0({DenseMatrix:At,SparseMatrix:Wt,concat:lr,config:ot,matrix:Ge,typed:he}),gh=S0({bignumber:_n,fraction:vh,number:dh}),yh=w0({matrix:Ge,config:ot,typed:he}),Fa=I0({DenseMatrix:At,SparseMatrix:Wt,bignumber:_n,concat:lr,config:ot,matrix:Ge,typed:he}),oi=gf({typed:he}),ba=X0({DenseMatrix:At,SparseMatrix:Wt,addScalar:wn,concat:lr,equalScalar:Nr,matrix:Ge,typed:he}),Ca=T0({numeric:gh,typed:he}),wh=j0({DenseMatrix:At,smaller:Fa}),_h=Y0({ImmutableDenseMatrix:wh,getMatrixDataType:lh}),Eh=q0({DenseMatrix:At,SparseMatrix:Wt,bignumber:_n,concat:lr,config:ot,matrix:Ge,typed:he}),Fh=$0({DenseMatrix:At,SparseMatrix:Wt,concat:lr,config:ot,matrix:Ge,typed:he}),Tn=E0({add:ba,matrix:Ge,typed:he,zeros:Vr}),bh=r0({DenseMatrix:At,concat:lr,equalScalar:Nr,matrix:Ge,subtractScalar:_a,typed:he,unaryMinus:oi}),Ch=eh({addScalar:wn,conj:ch,multiplyScalar:wa,size:yh,typed:he}),Ln=rh({Index:_h,typed:he}),mr=e0({addScalar:wn,dot:Ch,equalScalar:Nr,matrix:Ge,multiplyScalar:wa,typed:he}),qr=g0({bignumber:_n,matrix:Ge,add:ba,config:ot,isPositive:hh,larger:Eh,largerEq:Dh,smaller:Fa,smallerEq:Fh,typed:he}),Ah=ih({divideScalar:Ca,isZero:ph,matrix:Ge,multiply:mr,subtractScalar:_a,typed:he,unaryMinus:oi}),Bh=ah({abs:sh,addScalar:wn,det:Ah,divideScalar:Ca,identity:Ea,matrix:Ge,multiply:mr,typed:he,unaryMinus:oi});class cp extends Qn{constructor(r){super({project:`${ar("强化")}+${r.enhanceLevel}`,action:"enhancing",...r});ce(this,"protectLevel");ce(this,"originLevel");ce(this,"escapeLevel");ce(this,"protectionItem");ce(this,"_ingredientList");ce(this,"_targetRate");ce(this,"_productList");ce(this,"_maxProfitApproximate");this.enhanceLevel=r.enhanceLevel,this.protectLevel=r.protectLevel,this.originLevel=r.originLevel??0,this.escapeLevel=r.escapeLevel??-1;let n=[{hrid:super.item.hrid,count:1,marketPrice:le(super.item.hrid).ask}];super.item.protectionItemHrids&&(n=super.item.protectionItemHrids.map(u=>({hrid:u,count:1,marketPrice:le(u).ask})));const i=super.handlePrice(n.concat([{hrid:"/items/mirror_of_protection",count:1,marketPrice:le("/items/mirror_of_protection").ask}]),[],"ask");this.protectionItem=i.reduce((u,a)=>u.price===-1?a:a.price===-1?u:a.price<u.price?a:u,i[0])}get className(){return"EnhanceCalculator"}get timeCost(){return Bn()/this.speed}get speed(){return super.speed+Math.max(0,this.playerLevel-this.actionLevel)*.01}get efficiency(){return 1}get ingredientList(){if(!this._ingredientList){const{actions:r,protects:n}=this.enhancelate();this._ingredientList=[{hrid:this.item.hrid,count:1/r,marketPrice:le(this.item.hrid,this.originLevel).ask,level:this.originLevel},{hrid:this.protectionItem.hrid,count:n/r,marketPrice:this.protectionItem.marketPrice}].concat(this.item.enhancementCosts.map(i=>({hrid:i.itemHrid,count:i.count,marketPrice:le(i.itemHrid).ask}))),this._ingredientList=this._ingredientList.concat(Cr(this))}return this._ingredientList}get targetRate(){return this._targetRate}get productList(){if(!this._productList){const{actions:r,escapeRate:n,targetRate:i,leapRate:u}=this.enhancelate(),a=i+u;this._targetRate=a,this._productList=[{hrid:this.item.hrid,count:1/r*a,marketPrice:le(this.item.hrid,this.enhanceLevel).bid,level:this.enhanceLevel}],n>0&&this._productList.push({hrid:this.item.hrid,count:1/r*n,marketPrice:le(this.item.hrid,this.realEscapeLevel).bid,level:this.realEscapeLevel}),this._productList=this._productList.concat(Zo(this.item,Bn()).map(o=>({hrid:o.itemHrid,rate:o.dropRate*(1+this.rareRatio),count:(o.minCount+o.maxCount)/2,marketPrice:le(o.itemHrid).bid}))).concat(Vo(this.item,Bn()).map(o=>({hrid:o.itemHrid,count:(o.minCount+o.maxCount)/2,rate:o.dropRate*(1+this.essenceRatio),marketPrice:le(o.itemHrid).bid})))}return this._productList}get profitable(){return!!this.item.enhancementCosts&&this.maxProfitApproximate>0}get available(){return!!this.item.enhancementCosts&&this.originLevel<this.enhanceLevel&&this.escapeLevel<this.originLevel&&this.protectLevel<=this.enhanceLevel}get isEnhance(){return!!this.item.enhancementCosts}get actionLevel(){return this.item.itemLevel}get exp(){const{exp:r,actions:n}=this.enhancelate();return r*(1+nt(this.action,"Experience"))/n}run(){super.run();const r=this.successRateEnhance(_t().enhancementLevelSuccessRateTable[0]);return this.result.successRate=r,this.result.successRateFormat=Qt(r),this.result.targetRateFormat=Qt(this.targetRate),this}get realEscapeLevel(){return this.escapeLevel===-1?-1:this.protectLevel>this.escapeLevel+1?0:this.escapeLevel}get maxProfitApproximate(){if(this._maxProfitApproximate!==void 0)return this._maxProfitApproximate;const r=new Es({hrid:this.item.hrid,catalystRank:2,enhanceLevel:this.enhanceLevel});if(!r.available)return this._maxProfitApproximate=-1,this._maxProfitApproximate;const{actions:n}=this.enhancelate(),i=this.ingredientListWithPrice.reduce((s,c)=>s+c.price*c.count*n,0),u=this.productListWithPrice.slice(1).reduce((s,c)=>s+c.price*c.count*n*(c.rate||1),0),a=r.successRate*r.productListWithPrice.reduce((s,c)=>s+c.price*c.count*(c.rate||1),0),o=r.ingredientListWithPrice.slice(1).reduce((s,c)=>s+c.price*c.count,0);return this._maxProfitApproximate=(a*(this._targetRate||1)+u)*.98-i-o*(this._targetRate||1),this._maxProfitApproximate}enhancelate(){let r=qo({enhanceLevel:this.enhanceLevel,protectLevel:this.protectLevel,itemLevel:this.item.itemLevel,originLevel:this.originLevel,escapeLevel:this.escapeLevel});if(r)return r;const n=this.enhanceLevel,i=_t().enhancementLevelSuccessRateTable,u=this.escapeLevel+1,a=n-u;let o=Ge(Vr(n,n));for(let F=0;F<n;F++)F<n-1&&o.set([F,F+1],this.levelUpRate(i[F])),F<n-2&&o.set([F,F+2],this.levelLeapRate(i[F])),o.set([F,F>=this.protectLevel?F-1:0],this.failRate(i[F]));o=Tn(o,Ln(qr(u,n),qr(u,n)));const s=Bh(bh(Ea(a),o)),c=mr(s,mh(a,1));let l=Vr(n,1);for(let F=this.protectLevel;F<n;F++)l.set([F,0],this.failRate(i[F]));l=Tn(l,Ln(qr(u,n),0));let h=Vr(n,1);for(let F=0;F<n;F++)h.set([F,0],(this.successRateEnhance(i[F])+.1*(1-this.successRateEnhance(i[F])))*Wo(this.item,F));h=Tn(h,Ln(qr(u,n),0));const d=mr(s,h).get([this.originLevel-u,0]),v=mr(s,l),f=c.get([this.originLevel-u,0]),m=v.get([this.originLevel-u,0]),D=this.levelLeapRate(i[n-2])*(a>1?s.get([this.originLevel-u,a-2]):0)+ +this.levelUpRate(i[n-1])*s.get([this.originLevel-u,a-1]),E=this.levelLeapRate(i[n-1])*s.get([this.originLevel-u,a-1]);let g=1-D-E;return g=Math.abs(g)<1e-10?0:g,r={actions:f,protects:m,targetRate:D,leapRate:E,escapeRate:g,exp:d},Ho({enhanceLevel:this.enhanceLevel,protectLevel:this.protectLevel,itemLevel:this.item.itemLevel,originLevel:this.originLevel,escapeLevel:this.escapeLevel},r),r}successRateEnhance(r){return r*(1+ds(this.item))}levelUpRate(r){const n=this.successRateEnhance(r)*(1-nt(this.action,"Blessed"));return Math.min(1,n)}levelLeapRate(r){return this.successRateEnhance(r)*nt(this.action,"Blessed")}failRate(r){return 1-this.successRateEnhance(r)}}class lp extends Qn{constructor(r){super(r);ce(this,"originLevel");ce(this,"_actionItem");ce(this,"_ingredientList");ce(this,"_productList");this.originLevel=r.originLevel||0}get className(){return"ManufactureCalculator"}get actionLevel(){return this.actionItem.levelRequirement.level}get available(){return!!this.actionItem}get actionItem(){return this._actionItem||(this._actionItem=Fr(`/actions/${this.action}/${this.key}`)),this._actionItem}get timeCost(){return this.actionItem.baseTimeCost/this.speed}get ingredientList(){if(!this._ingredientList){let r=[];this.actionItem.upgradeItemHrid&&r.push({hrid:this.actionItem.upgradeItemHrid,count:1,level:this.originLevel,marketPrice:le(this.actionItem.upgradeItemHrid,this.originLevel).ask});const n=nt(this.action,"Artisan");r=r.concat(this.actionItem.inputItems.map(i=>({hrid:i.itemHrid,count:i.count*(1-n),marketPrice:le(i.itemHrid).ask}))),r=r.concat(Cr(this)),this._ingredientList=r}return this._ingredientList}get targetLevel(){let r=Math.round(this.originLevel*.7*100)/100;return lo(this.item)&&(r=this.originLevel),r}get productList(){var r,n;if(!this._productList){const i=nt(this.action,"Gourmet");let u=[];const a=this.targetLevel%1;if(this.targetLevel%1===0)u=this.actionItem.outputItems.map(o=>({hrid:o.itemHrid,count:o.count*(1+i),level:Math.floor(this.targetLevel),marketPrice:le(o.itemHrid,Math.floor(this.targetLevel)).bid}));else{let o=le(this.item.hrid,Math.ceil(this.targetLevel)).bid;o<=0&&(o=le(this.item.hrid,Math.floor(this.targetLevel)).bid),u=u.concat([{hrid:this.item.hrid,count:1-a,level:Math.floor(this.targetLevel),marketPrice:le(this.item.hrid,Math.floor(this.targetLevel)).bid},{hrid:this.item.hrid,count:a,level:Math.ceil(this.targetLevel),marketPrice:o}])}u=u.concat(((r=this.actionItem.essenceDropTable)==null?void 0:r.map(o=>({hrid:o.itemHrid,count:o.maxCount,rate:o.dropRate*(1+this.essenceRatio),marketPrice:le(o.itemHrid).bid})))||[]),u=u.concat(((n=this.actionItem.rareDropTable)==null?void 0:n.map(o=>({hrid:o.itemHrid,count:o.maxCount,rate:o.dropRate*(1+this.rareRatio),marketPrice:le(o.itemHrid).bid})))||[]),this._productList=u}return this._productList}}const Mh={class:"flex items-center"},xh={class:"flex items-center p-1 pl-2 pr-2",style:{border:"1px solid var(--el-border-color)","border-radius":"4px"}},Sh={key:0,class:"community-buff ml-2"},Nh={key:0,class:"community-level"},Th={class:"flex flex-wrap items-baseline"},Lh={class:"mr-3 mb-2"},Ih={style:{display:"flex","align-items":"center",gap:"10px"}},Ph={style:{display:"flex","align-items":"center",gap:"10px"}},Oh={style:{display:"flex","align-items":"center",gap:"10px"}},$h={style:{display:"flex","align-items":"center",gap:"10px"}},Rh={style:{display:"flex","align-items":"center",gap:"10px"}},zh={style:{"line-height":"32px"}},qh={style:{display:"flex","align-items":"center",gap:"10px"}},Hh={style:{"line-height":"32px"}},Uh={class:"community-buff"},kh={style:{"line-height":"32px"}},Vh={class:"community-buff"},Zh={style:{"text-align":"center"}},Wh=cu({__name:"ActionConfig",props:{actions:{},equipments:{},communityBuffs:{},achievementBuffs:{}},setup(e){const t={milking:["/items/gatherer_cape","/items/gatherer_cape_refined"],foraging:["/items/gatherer_cape","/items/gatherer_cape_refined"],woodcutting:["/items/gatherer_cape","/items/gatherer_cape_refined"],cheesesmithing:["/items/artificer_cape","/items/artificer_cape_refined"],crafting:["/items/artificer_cape","/items/artificer_cape_refined"],tailoring:["/items/artificer_cape","/items/artificer_cape_refined"],brewing:["/items/culinary_cape","/items/culinary_cape_refined"],cooking:["/items/culinary_cape","/items/culinary_cape_refined"],enhancing:["/items/chance_cape","/items/chance_cape_refined"],alchemy:["/items/chance_cape","/items/chance_cape_refined"]};function r(x){const T=new Set(t[x]??[]);return Or(x,"back").filter(N=>T.has(N.hrid)).sort((N,Z)=>N.itemLevel-Z.itemLevel)}const n=Du(),i=ut(!1),u=ut([]),a=ut([]),o=ut([]),s=ut([]),c=ut(""),l=ut(""),h=ut(0);function p(x,T){const N=Rn("","");u.value=structuredClone(vr.map(Z=>{const V=x.actionConfigMap.get(Z)??N.actionConfigMap.get(Z),j=N.actionConfigMap.get(Z);for(const te in j){const se=j[te];se!==void 0&&V[te]===void 0&&(V[te]=se)}return{...Re(V)}})),a.value=structuredClone(ln.map(Z=>({...Re(x.specialEquimentMap.get(Z.type)??N.specialEquimentMap.get(Z.type))}))),o.value=structuredClone(mu.map(Z=>({...Re(x.communityBuffMap.get(Z.type)??N.communityBuffMap.get(Z.type))}))),s.value=structuredClone(vu.map(Z=>({...Re(x.achievementBuffMap.get(Z.type)??N.achievementBuffMap.get(Z.type))}))),c.value=x.name,l.value=x.color,i.value=!0,h.value=T}function d(x,T){T===n.presetIndex?p(x,T):n.switchTo(T)}function v(){const x=n.presets.length;p(Rn(C("{0}新预设",[x]),"#90ee90"),x)}function f(){const x={actionConfigMap:new Map,specialEquimentMap:new Map,communityBuffMap:new Map,achievementBuffMap:new Map,name:c.value,color:l.value};for(const T of u.value)x.actionConfigMap.set(T.action,Re(T));for(const T of a.value)x.specialEquimentMap.set(T.type,Re(T));for(const T of o.value)x.communityBuffMap.set(T.type,Re(T));for(const T of s.value)x.achievementBuffMap.set(T.type,Re(T));return x}function m(){try{const x=f();ns(x,h.value),i.value=!1}catch(x){Pr.error(x.message)}}const D=ut(!1),E=ut(0),g=ut(0),F=ut(),w=ut(0);function y(x,T,N){const j=document.body.offsetWidth-100,te=N.clientX+10;g.value=te>j?j:te,E.value=N.clientY,D.value=!0,w.value=T,F.value=x}function B(){D.value=!1}bt(D,x=>{x?document.body.addEventListener("click",B):document.body.removeEventListener("click",B)});function b(){p(F.value,n.presets.length)}function M(){hi.confirm(C("确定删除该预设吗？"),"",{confirmButtonText:C("确定"),cancelButtonText:C("取消"),type:"warning"}).then(()=>{n.removePreset(w.value)}).catch(()=>{})}const{t:C}=lu(),{activeThemeName:P}=so();function U(){hi.prompt(C("请粘贴导出的预设配置"),C("导入"),{confirmButtonText:C("确定"),cancelButtonText:C("取消"),inputPattern:/^\s*\{.*\}\s*$/,inputErrorMessage:C("请输入正确的JSON格式")}).then(({value:x})=>{try{const T=JSON.parse(x);if(!T.name||!T.color||!T.actionConfigMap||!T.specialEquimentMap)throw new Error(C("无效的预设配置"));const N={name:T.name,color:T.color,actionConfigMap:new Map(Object.entries(T.actionConfigMap)),specialEquimentMap:new Map(Object.entries(T.specialEquimentMap)),communityBuffMap:new Map(Object.entries(T.communityBuffMap)),achievementBuffMap:new Map(Object.entries(T.achievementBuffMap||{}))};p(N,n.presets.length)}catch(T){console.error(T),Pr.error(C("无效的预设配置"))}}).catch(()=>{})}function K(){const x=f(),T=JSON.stringify({name:x.name,color:x.color,actionConfigMap:Object.fromEntries(x.actionConfigMap.entries()),specialEquimentMap:Object.fromEntries(x.specialEquimentMap.entries()),communityBuffMap:Object.fromEntries(x.communityBuffMap.entries()),achievementBuffMap:Object.fromEntries(x.achievementBuffMap.entries())});navigator.clipboard.writeText(T).then(()=>{Pr.success(C("已复制到剪贴板"))}).catch(()=>{Pr.error(C("复制失败，请检查浏览器权限设置"))})}return(x,T)=>{const N=Do,Z=So,V=bo,j=Co,te=Bo,se=Ao,pe=xo,de=Mo,Me=Fo,Ee=Eo,ve=_o,De=wo,Ve=vo;return xe(),Ye(ft,null,[ho(we("ul",{class:"contextmenu",style:mo({left:`${X(g)}px`,top:`${X(E)}px`})},[X(n).isOverflow()?pr("",!0):(xe(),Ye("li",{key:0,onClick:b}," 复制 ")),X(n).presets.length>1?(xe(),Ye("li",{key:1,onClick:M}," 删除 ")):pr("",!0)],4),[[po,X(D)]]),we("div",Mh,[we("div",xh,[we("div",null,Le(X(C)("预设"))+":",1),(xe(!0),Ye(ft,null,St(X(n).presets,(O,I)=>(xe(),xt(N,{class:"ml-1 w-32px",plain:X(n).presetIndex!==I,color:"#16ab1b",dark:X(P).includes("dark"),key:I,onClick:Pe=>d(O,I),onContextmenu:yo(Pe=>y(O,I,Pe),["prevent"])},{default:Q(()=>{var Pe;return[at(Le((Pe=O.name)==null?void 0:Pe.substring(0,1)),1)]}),_:2},1032,["plain","dark","onClick","onContextmenu"]))),128)),X(n).isOverflow()?pr("",!0):(xe(),xt(N,{key:0,class:"ml-1 w-24px",size:"small",icon:X(go),plain:"",onClick:v},null,8,["icon"]))]),(xe(!0),Ye(ft,null,St(X(n).config.communityBuffMap.entries(),([O,I])=>(xe(),Ye(ft,{key:O},[I.level?(xe(),Ye("div",Sh,[Y(We,{hrid:X(On)(I.hrid).buff.typeHrid,width:22,height:22},null,8,["hrid"]),I.level?(xe(),Ye("div",Nh," Lv."+Le(I.level),1)):pr("",!0)])):pr("",!0)],64))),128))]),Y(Ve,{modelValue:X(i),"onUpdate:modelValue":T[1]||(T[1]=O=>fi(i)?i.value=O:null),"show-close":!1,width:"80%"},{footer:Q(()=>[we("div",Zh,[Y(N,{type:"primary",onClick:m},{default:Q(()=>[at(Le(X(C)("保存")),1)]),_:1})])]),default:Q(()=>[Y(De,{gutter:20,class:"mt-[-30px]"},{default:Q(()=>[Y(ve,{xs:24,sm:24,md:24,lg:24,xl:16},{default:Q(()=>[Y(Ee,{class:"mt-5"},{header:Q(()=>[we("div",Th,[we("div",Lh,Le(X(C)("预设名称"))+": ",1),Y(Z,{class:"w-300px",maxlength:20,modelValue:X(c),"onUpdate:modelValue":T[0]||(T[0]=O=>fi(c)?c.value=O:null)},null,8,["modelValue"]),Y(N,{type:"success",plain:"",class:"ml-4",onClick:U},{default:Q(()=>[at(Le(X(C)("导入")),1)]),_:1}),Y(N,{type:"success",plain:"",class:"ml-4",onClick:K},{default:Q(()=>[at(Le(X(C)("导出")),1)]),_:1})])]),default:Q(()=>[Y(Me,{data:X(u).filter(O=>x.actions?x.actions.includes(O.action):!0)},{default:Q(()=>[Y(V,{prop:"name",width:"54"},{default:Q(({row:O})=>[Y(We,{hrid:`/actions/${O.action}`},null,8,["hrid"])]),_:1}),Y(V,{label:X(C)("Action"),width:"125",align:"center"},{default:Q(({row:O})=>[at(Le(X(C)(O.action)),1)]),_:1},8,["label"]),Y(V,{label:X(C)("技能等级"),width:"85",align:"center"},{default:Q(({row:O})=>[Y(j,{modelValue:O.playerLevel,"onUpdate:modelValue":I=>O.playerLevel=I,min:1,style:{width:"60px"},controls:!1},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["label"]),Y(V,{label:X(C)("房子等级"),width:"85",align:"center"},{default:Q(({row:O})=>[Y(j,{modelValue:O.houseLevel,"onUpdate:modelValue":I=>O.houseLevel=I,min:0,max:10,style:{width:"60px"},controls:!1},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["label"]),Y(V,{label:X(C)("工具"),align:"center","min-width":"105"},{default:Q(({row:O})=>[Y(se,{style:{width:"80px"},modelValue:O.tool.hrid,"onUpdate:modelValue":I=>O.tool.hrid=I,placeholder:X(C)("无"),clearable:""},{label:Q(()=>[Y(We,{style:{"margin-top":"4px"},hrid:O.tool.hrid},null,8,["hrid"])]),default:Q(()=>[(xe(!0),Ye(ft,null,St(X(bu)(O.action),I=>(xe(),xt(te,{key:I.hrid,label:I.name,value:I.hrid},{default:Q(()=>[we("div",Ih,[Y(We,{hrid:I.hrid},null,8,["hrid"]),we("div",null,Le(I.name),1)])]),_:2},1032,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"]),T[2]||(T[2]=at("  +  ")),Y(j,{modelValue:O.tool.enhanceLevel,"onUpdate:modelValue":I=>O.tool.enhanceLevel=I,min:0,max:20,style:{width:"60px"},controls:!1},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["label"]),Y(V,{label:X(C)("身体"),align:"center","min-width":"105"},{default:Q(({row:O})=>[Y(se,{style:{width:"80px"},modelValue:O.body.hrid,"onUpdate:modelValue":I=>O.body.hrid=I,placeholder:X(C)("无"),clearable:""},{label:Q(()=>[Y(We,{style:{"margin-top":"4px"},hrid:O.body.hrid},null,8,["hrid"])]),default:Q(()=>[(xe(!0),Ye(ft,null,St(X(Or)(O.action,"body"),I=>(xe(),xt(te,{key:I.hrid,label:I.name,value:I.hrid},{default:Q(()=>[we("div",Ph,[Y(We,{hrid:I.hrid},null,8,["hrid"]),we("div",null,Le(I.name),1)])]),_:2},1032,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"]),T[3]||(T[3]=at("  +  ")),Y(j,{modelValue:O.body.enhanceLevel,"onUpdate:modelValue":I=>O.body.enhanceLevel=I,min:0,max:20,style:{width:"60px"},controls:!1},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["label"]),Y(V,{label:X(C)("腿部"),align:"center","min-width":"105"},{default:Q(({row:O})=>[Y(se,{style:{width:"80px"},modelValue:O.legs.hrid,"onUpdate:modelValue":I=>O.legs.hrid=I,placeholder:X(C)("无"),clearable:""},{label:Q(()=>[Y(We,{style:{"margin-top":"4px"},hrid:O.legs.hrid},null,8,["hrid"])]),default:Q(()=>[(xe(!0),Ye(ft,null,St(X(Or)(O.action,"legs"),I=>(xe(),xt(te,{key:I.hrid,label:I.name,value:I.hrid},{default:Q(()=>[we("div",Oh,[Y(We,{hrid:I.hrid},null,8,["hrid"]),we("div",null,Le(I.name),1)])]),_:2},1032,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"]),T[4]||(T[4]=at("  +  ")),Y(j,{modelValue:O.legs.enhanceLevel,"onUpdate:modelValue":I=>O.legs.enhanceLevel=I,min:0,max:20,style:{width:"60px"},controls:!1},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["label"]),Y(V,{label:X(C)("背部"),align:"center","min-width":"105"},{default:Q(({row:O})=>[Y(se,{style:{width:"80px"},modelValue:O.back.hrid,"onUpdate:modelValue":I=>O.back.hrid=I,placeholder:X(C)("无"),clearable:""},{label:Q(()=>[Y(We,{style:{"margin-top":"4px"},hrid:O.back.hrid},null,8,["hrid"])]),default:Q(()=>[(xe(!0),Ye(ft,null,St(r(O.action),I=>(xe(),xt(te,{key:I.hrid,label:I.name,value:I.hrid},{default:Q(()=>[we("div",$h,[Y(We,{hrid:I.hrid},null,8,["hrid"]),we("div",null,Le(I.name),1)])]),_:2},1032,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"]),T[5]||(T[5]=at("  +  ")),Y(j,{modelValue:O.back.enhanceLevel,"onUpdate:modelValue":I=>O.back.enhanceLevel=I,min:0,max:20,style:{width:"60px"},controls:!1},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["label"]),Y(V,{label:X(C)("护符"),align:"center","min-width":"105"},{default:Q(({row:O})=>[Y(se,{style:{width:"80px"},modelValue:O.charm.hrid,"onUpdate:modelValue":I=>O.charm.hrid=I,placeholder:X(C)("无"),clearable:""},{label:Q(()=>[Y(We,{style:{"margin-top":"4px"},hrid:O.charm.hrid},null,8,["hrid"])]),default:Q(()=>[(xe(!0),Ye(ft,null,St(X(Or)(O.action,"charm").sort((I,Pe)=>I.itemLevel-Pe.itemLevel),I=>(xe(),xt(te,{key:I.hrid,label:I.name,value:I.hrid},{default:Q(()=>[we("div",Rh,[Y(We,{hrid:I.hrid},null,8,["hrid"]),we("div",null,Le(I.name),1)])]),_:2},1032,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"]),T[6]||(T[6]=at("  +  ")),Y(j,{modelValue:O.charm.enhanceLevel,"onUpdate:modelValue":I=>O.charm.enhanceLevel=I,min:0,max:20,style:{width:"60px"},controls:!1},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["label"]),Y(V,{label:X(C)("茶"),align:"center","min-width":"155"},{default:Q(({row:O})=>[Y(de,{modelValue:O.tea,"onUpdate:modelValue":I=>O.tea=I,size:"large",max:3,class:"tea-checkbox-group"},{default:Q(()=>[(xe(!0),Ye(ft,null,St(X(fs)(O.action),I=>(xe(),xt(pe,{key:I.hrid,value:I.hrid,border:""},{default:Q(()=>[Y(We,{hrid:I.hrid},null,8,["hrid"])]),_:2},1032,["value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1},8,["label"])]),_:1},8,["data"])]),_:1})]),_:1}),Y(ve,{xs:24,sm:24,md:24,lg:24,xl:8},{default:Q(()=>[Y(De,{gutter:20},{default:Q(()=>[Y(ve,{xs:24,sm:24,md:14,lg:12,xl:24},{default:Q(()=>[Y(Ee,{class:"mt-5"},{header:Q(()=>[we("div",zh,Le(X(C)("其他")),1)]),default:Q(()=>[Y(Me,{data:X(a).filter(O=>x.equipments?x.equipments.includes(O.type):!0)},{default:Q(()=>[Y(V,{prop:"type",label:X(C)("部位"),width:"120"},{default:Q(({row:O})=>[at(Le(X(C)(O.type.replace(/_/g," ").replace(/\b\w+\b/g,I=>I.substring(0,1).toUpperCase()+I.substring(1)))),1)]),_:1},8,["label"]),Y(V,{label:X(C)("装备")},{default:Q(({row:O})=>[Y(se,{style:{width:"80px"},modelValue:O.hrid,"onUpdate:modelValue":I=>O.hrid=I,placeholder:X(C)("无"),clearable:""},{label:Q(()=>[Y(We,{style:{"margin-top":"4px"},hrid:O.hrid},null,8,["hrid"])]),default:Q(()=>[(xe(!0),Ye(ft,null,St(X(os)(O.type),I=>(xe(),xt(te,{key:I.hrid,label:I.name,value:I.hrid},{default:Q(()=>[we("div",qh,[Y(We,{hrid:I.hrid},null,8,["hrid"]),we("div",null,Le(I.name),1)])]),_:2},1032,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"]),T[7]||(T[7]=at("  +  ")),Y(j,{modelValue:O.enhanceLevel,"onUpdate:modelValue":I=>O.enhanceLevel=I,min:0,max:20,style:{width:"60px"},controls:!1},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["label"])]),_:1},8,["data"])]),_:1})]),_:1}),Y(ve,{xs:24,sm:24,md:10,lg:12,xl:24},{default:Q(()=>[Y(Ee,{class:"mt-5"},{header:Q(()=>[we("div",Hh,Le(X(C)("社区Buff")),1)]),default:Q(()=>[Y(Me,{data:X(o).filter(O=>x.communityBuffs?x.communityBuffs.includes(O.type):!0)},{default:Q(()=>[Y(V,{prop:"type",label:X(C)("Buff"),width:"120"},{default:Q(({row:O})=>[we("div",Uh,[Y(We,{hrid:X(On)(O.hrid).buff.typeHrid,width:22,height:22},null,8,["hrid"])])]),_:1},8,["label"]),Y(V,{label:X(C)("等级")},{default:Q(({row:O})=>[Y(j,{modelValue:O.level,"onUpdate:modelValue":I=>O.level=I,min:0,max:20,style:{width:"60px"},controls:!1},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["label"])]),_:1},8,["data"])]),_:1})]),_:1}),Y(ve,{xs:24,sm:24,md:24,lg:24,xl:24},{default:Q(()=>[Y(Ee,{class:"mt-5"},{header:Q(()=>[we("div",kh,Le(X(C)("成就Buff")),1)]),default:Q(()=>[Y(Me,{data:X(s).filter(O=>x.achievementBuffs?x.achievementBuffs.includes(O.type):!0)},{default:Q(()=>[Y(V,{prop:"type",label:X(C)("Buff"),width:"120"},{default:Q(({row:O})=>{var I;return[we("div",Vh,[Y(We,{hrid:(I=X($n)(`/achievement_tiers/${O.type}`))==null?void 0:I.buff.typeHrid,width:22,height:22},null,8,["hrid"])])]}),_:1},8,["label"]),Y(V,{label:X(C)("名称")},{default:Q(({row:O})=>{var I;return[at(Le(((I=X($n)(`/achievement_tiers/${O.type}`))==null?void 0:I.name)||O.type),1)]}),_:1},8,["label"]),Y(V,{label:X(C)("启用"),width:"100"},{default:Q(({row:O})=>[Y(pe,{modelValue:O.enabled,"onUpdate:modelValue":I=>O.enabled=I},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["label"])]),_:1},8,["data"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}}),fp=fu(Wh,[["__scopeId","data-v-2b6c2d07"]]),jh={href:"https://www.milkywayidle.com/game_data/marketplace.json",target:"_blank",rel:"noopener noreferrer"},Gh=cu({__name:"GameInfo",setup(e){const t="1.3.409",{t:r}=lu();return(n,i)=>{var u,a,o;return xe(),Ye(ft,null,[we("div",null,Le(X(r)("Milkonomy"))+" v"+Le(X(t)),1),we("div",{class:No({error:((u=X(Pn)())==null?void 0:u.timestamp)*1e3<Date.now()-1e3*60*120,success:((a=X(Pn)())==null?void 0:a.timestamp)*1e3>Date.now()-1e3*60*120})},[we("a",jh,Le(X(r)("市场数据来源(MilkyWayIdle)"))+" : "+Le(new Date(((o=X(co)().marketData)==null?void 0:o.timestamp)*1e3).toLocaleString()),1)],2)],64)}}}),hp=fu(Gh,[["__scopeId","data-v-87d51891"]]);export{fp as A,sp as C,Es as D,cp as E,hp as G,lp as M,op as T,kt as a,le as b,Lo as c,Pn as d,ep as e,ms as f,rp as g,_t as h,ap as i,Kn as j,Qn as k,Fr as l,It as m,Zr as n,Cr as o,Qt as p,nt as q,tp as r,yi as s,ip as t,Du as u,jr as v,up as w,np as x};
